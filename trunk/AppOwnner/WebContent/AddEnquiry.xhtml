<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	<ui:define name="content">
<h:head><title>Enquiry Form</title></h:head>
<body >
   <br/><center><legend    style="background-color:#438eb9; color:#fff;">Enqueryt Form</legend> </center>
    <h:form>
      
     <p:messages id="messages"/>
        <table cellspacing="5" cellpadding="5">
           
            <tr>
                <td><h:outputLabel for="personName" value="Person Name : " /></td>
                <td><p:inputText id="personName" value="#{enquirybean.personName}">
                    <f:validateLength minimum="5" maximum="20" />
                </p:inputText>
                </td>
            </tr> 
            <tr>
                <td><h:outputLabel for="personAddress" value="Person Address : " /></td>
                <td><p:inputText id="personAddress" value="#{enquirybean.personAddress}">
                    <f:validateLength minimum="5" maximum="20" />
                </p:inputText>
                </td>
            </tr> 
           <tr>
                <td><h:outputLabel for="personEmail" value="Email  " /></td>
                <td><h:inputText id="personEmail" label="Email"   value="#{enquirybean.personEmail}" required="true" validatorMessage=" PersonEmail is not valid" requiredMessage="Please enter person Email">
                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
 
                   
                    <p:ajax event="blur" update="personEmailMsg" />
              </h:inputText>
                    <p:message id="personEmailMsg" for="personEmail" display="icon"/>
                </td>
                </tr>
             
            <tr>
                <td><h:outputLabel for="personPhone" value="Person Phone * " /></td>
                <td><h:inputText id="personPhone"  label="Phone" value="#{enquirybean.personPhone}"   maxlength="11" required="true"  validatorMessage="invalid mobile no" requiredMessage="Please enter  phone number">
                    <f:validateLength minimum="10" />
                    <f:validateRegex pattern="^([+]?[\d]+)?$" />
                    <p:ajax event="blur" update="personPhone" />
              </h:inputText>
                    <p:message id="personPhone1" for="personPhone" display="icon"/>
                </td>
           </tr>
            
            <tr>
            <td><h:outputLabel for="enquiry_selectedCountry" value=" Country * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedCountry" value="#{enquirybean.enquiry_selectedCountry}" valueChangeListener="#{enquirybean.countryChangeListener}" style="width:200px">
               <f:selectItem itemLabel="Select Country" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{enquirybean.enquiry_selectedCountries}" />
                 <p:ajax event="change" update="enquiry_selectedState" process="enquiry_selectedCountry"/>
            </p:selectOneMenu></td></tr>
            
            <tr>
 
            <td><h:outputLabel for="enquiry_selectedState" value="State * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedState" value="#{enquirybean.enquiry_selectedState}"  valueChangeListener="#{enquirybean.stateChangeListener}" style="width:200px">
                <f:selectItem itemLabel="Select State"  itemValue="" noSelectionOption="true" />
                 <f:selectItems value="#{enquirybean.stateByCountry}"/>
               <p:ajax event="change" update="enquiry_selectedCity" process="enquiry_selectedState"/>    
            </p:selectOneMenu></td>
             </tr>
            <tr> 
                 <td><h:outputLabel for="enquiry_selectedCity" value="City * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedCity" value="#{enquirybean.enquiry_selectedCity }" style="width:200px">
                <f:selectItem itemLabel="Select City"  itemValue="" noSelectionOption="true" />
                  <f:selectItems  value ="#{enquirybean.cityListByState}"/>
             
            </p:selectOneMenu></td></tr>
            
                  
            <tr> 
            <td><h:outputLabel for="personZip" value="Zip " /></td>
                <td><h:inputText id="personZip" label="ZipCode"   value="#{enquirybean.personZip}" required="true"  requiredMessage="Please enter person ZipCode">
            </h:inputText></td></tr>
             
              
             
            <tr>
                <td><h:outputLabel for="personEnquiry" value="Enquiry: " /></td>
                <td><p:inputTextarea rows="8" cols="30" id="personEnquiry" value="#{enquirybean.personMessage}">
                    <f:validateLength maximum="200" />
                    </p:inputTextarea>
                </td>
                </tr>
            <tr>
                <td><p:commandButton id="addPerson" value="Ask Enquiry"  action="#{enquirybean.addPerson}" ajax="false"/></td>     
            </tr>
        </table>
      
    </h:form>
</body>
</ui:define>
</ui:composition> 