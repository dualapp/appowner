<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	<ui:define name="content">
<h:head><title>Enquiry Form</title></h:head>
<body >
   
   <H1>Enquiry Form</H1>
    <h:form>
     <p:panel id="panel" header="">
     <p:messages id="messages"/>
        <table>
           
            <tr>
                <td><h:outputLabel for="personName" value="Person Name : " /></td>
                <td><p:inputText id="personName" value="#{cls_EnquiryBean.personName}">
                    <f:validateLength minimum="5" maximum="20" />
                </p:inputText>
                </td>
            </tr> 
            <tr>
                <td><h:outputLabel for="personAddress" value="Person Address : " /></td>
                <td><p:inputText id="personAddress" value="#{cls_EnquiryBean.personAddress}">
                    <f:validateLength minimum="5" maximum="20" />
                </p:inputText>
                </td>
            </tr> 
           <tr>
                <td><h:outputLabel for="personEmail" value="Email  " /></td>
                <td><h:inputText id="personEmail" label="Email"   value="#{cls_EnquiryBean.personEmail}" required="true" validatorMessage=" PersonEmail is not valid" requiredMessage="Please enter person Email">
                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
 
                   
                    <p:ajax event="blur" update="personEmailMsg" />
              </h:inputText>
                    <p:message id="personEmailMsg" for="personEmail" display="icon"/>
                </td>
                </tr>
             
            <tr>
                <td><h:outputLabel for="personPhone" value="Person Phone * " /></td>
                <td><h:inputText id="personPhone"  label="Phone" value="#{cls_EnquiryBean.personPhone}"   maxlength="11" required="true"  validatorMessage="invalid mobile no" requiredMessage="Please enter  phone number">
                    <f:validateLength minimum="10" />
                    <f:validateRegex pattern="^([+]?[\d]+)?$" />
                    <p:ajax event="blur" update="personPhone" />
              </h:inputText>
                    <p:message id="personPhone1" for="personPhone" display="icon"/>
                </td>
           </tr>
            
            <tr>
            <td><h:outputLabel for="enquiry_selectedCountry" value=" Country * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedCountry" value="#{cls_EnquiryBean.enquiry_selectedCountry}" valueChangeListener="#{cls_EnquiryBean.countryChangeListener}" style="width:200px">
               <f:selectItem itemLabel="Select Country" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{cls_EnquiryBean.enquiry_selectedCountries}" />
                 <p:ajax event="change" update="enquiry_selectedState" process="enquiry_selectedCountry"/>
            </p:selectOneMenu></td></tr>
            
            <tr>
 
            <td><h:outputLabel for="enquiry_selectedState" value="State * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedState" value="#{cls_EnquiryBean.enquiry_selectedState}"  valueChangeListener="#{cls_EnquiryBean.stateChangeListener}" style="width:200px">
                <f:selectItem itemLabel="Select State"  itemValue="" noSelectionOption="true" />
                 <f:selectItems value="#{cls_EnquiryBean.stateByCountry}"/>
               <p:ajax event="change" update="enquiry_selectedCity" process="enquiry_selectedState"/>    
            </p:selectOneMenu></td>
             </tr>
            <tr> 
                 <td><h:outputLabel for="enquiry_selectedCity" value="City * " /></td>
            <td><p:selectOneMenu id="enquiry_selectedCity" value="#{cls_EnquiryBean.enquiry_selectedCity }" style="width:200px">
                <f:selectItem itemLabel="Select City"  itemValue="" noSelectionOption="true" />
                  <f:selectItems  value ="#{cls_EnquiryBean.cityListByState}"/>
             
            </p:selectOneMenu></td></tr>
            
                  
            <tr> 
            <td><h:outputLabel for="enquiry_zip" value="Zip " /></td>
                <td><h:inputText id="enquiry_zip" label="ZipCode"   value="#{cls_EnquiryBean.enquiry_zip}" required="true"  requiredMessage="Please enter person ZipCode">
            </h:inputText></td></tr>
             
              
             
            <tr>
                <td><h:outputLabel for="personEnquiry" value="Enquiry: " /></td>
                <td><p:inputTextarea rows="8" cols="30" id="personEnquiry" value="#{cls_EnquiryBean.personMessage}">
                    <f:validateLength maximum="200" />
                    </p:inputTextarea>
                </td>
                </tr>
            <tr>
                <td><p:commandButton id="addPerson" value="Ask Enquiry"  action="#{cls_EnquiryBean.addPerson}" ajax="false"/></td>     
            </tr>
        </table>
        </p:panel>
    </h:form>
</body>
</ui:define>
</ui:composition>