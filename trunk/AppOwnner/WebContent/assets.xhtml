<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	<ui:define name="content">
	
	<h:head>
    <title>Assets</title>
    </h:head>
    <h:form id="form">
    <body>
    
                 <fieldset>
                 <legend  style="background-color:#438eb9; color:#fff;"> Assets</legend>
 <div>
              <table  style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"><tr><th> <h:outputText value="Show Assets Of Organisation:" /> </th>
            <td>  <p:selectOneMenu       style="width:100px">&nbsp;
              <f:selectItem itemLabel="#{expenseBean.str_OrganizationName}"  itemValue="#{expenseBean.str_OrganizationName}" />
                
                 </p:selectOneMenu> </td>
                <th> <h:outputText value="In Bolck"/></th> 
               <td>  <p:selectOneMenu  value="#{expenseBean.str_Block}"     style="width:100px"> 
              <f:selectItem itemLabel="Select One" itemValue="" />
              <f:selectItems value="#{expenseBean.str_BlockListByAppartmentName}"/>
                
                 </p:selectOneMenu> </td>
                 <th> <h:outputText value="Of Category"/></th>
                <td> <p:selectOneMenu  id="AssetCategory"    value="#{expenseBean.str_AssetCategoryType}"   style="width:100px">
                  <f:selectItem itemLabel="All" itemValue="All" noSelectionOption="true" />
                 
                   <f:selectItems  value="#{expenseBean.str_AssetCatNameList}" />
                 
                 </p:selectOneMenu></td>
                <th> <p:commandButton value="Go" action="#{expenseBean.getAssetList}" /> </th></tr></table>
                 </div>
                 </fieldset>
                 
                 <p:growl id="msgs" showDetail="true" />
                 <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"><tr><td>
  <h:commandButton   icon="ui-icon-plus"   action="createnewassets.xhtml" value="create new" />&#150; &#150; <p:commandButton  immediate="true" execute="@this" icon="ui-icon-refresh" value="Refresh" >
   
  </p:commandButton>
	 &#150; &#150;  <p:menuButton value="Action">
        <p:menuitem value="Assign Selected"  action="#"/>
        <p:menuitem value="close Selected" action="#"/>
        <p:menuitem value="View Chart" action="#"/>
         <p:menuitem value="View Summary" action="#"/>
         <p:menuitem value="Export To Excel" action="#"/>
        </p:menuButton>
         
          &#150; &#150;  <p:commandButton process="DT" update=":form:multiAssetDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiAssetDialog1').show()" />
       &#150; &#150; <p:commandButton process="DT" update=":form:multiAssetDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiAssetDialog').show()" />
       &#150; &#150;  <p:commandButton update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{expenseBean.deleteOneAsset1()}" icon="ui-icon-trash" value="Delete" />
                 <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="images/excel.jpg"/>
        <p:dataExporter type="xls" pageOnly="true"  target="DT" fileName="Assets" />
    </h:commandLink>
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="images/pdf.jpg"/>
        <p:dataExporter type="pdf" pageOnly="true"  target="DT" fileName="Assets" />
    </h:commandLink>
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="images/cvs.png"/>
        <p:dataExporter type="csv"  pageOnly="true" target="DT" fileName="Assets" />
    </h:commandLink>
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"  pageOnly="true" width="20" alt="xml" value="images/xml.png"/>
        <p:dataExporter type="xml" pageOnly="true"  target="DT" fileName="Assets" />
    </h:commandLink>
                  </td></tr></table>
                 <p:dataTable   paginatorPosition="bottom"    resizableColumns="true" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" 
               rows="5"  paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="3,6,12"    id="DT"     var="ps"  value="#{expenseBean.assetList}"   selection="#{expenseBean.selectedAssets}" rowKey="#{ps.int_asset_id}"  >
                  
	  <p:column    exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
          <p:column headerText="Organization">
               
                   <h:outputText value="#{ps.str_OrganizationName}" />  
          </p:column>
          <p:column headerText="Assets Name">
               
                   <h:outputText value="#{ps.str_AssetName}" />  
          </p:column>
          <p:column headerText="Asset Category">
               
                   <h:outputText value="#{ps.str_assetcat_name}" />  
          </p:column>
          <p:column headerText="Vendor">
               
                   <h:outputText value="#{ps.str_VendorName}" />  
          </p:column>
          
          </p:dataTable>
           <p:dialog header="Edit asset Details" widgetVar="multiAssetDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiAssetDetail" style="text-align:center;">
           <table>
               
           <ui:repeat value="#{expenseBean.selectedAssets}" var="asset">
             <tr>
             <th><h:outputText  value="Organization"/></th>
             <td> <h:inputText value="#{asset.str_OrganizationName}" />  </td>
             </tr>
             <tr>
             <th><h:outputText  value="Asset Name"/></th>
             <td> <h:inputText value="#{asset.str_AssetName}" />    </td>
             </tr>
              <tr>
             <th><h:outputText  value="Asset Category"/></th>
             <td> <h:inputText value="#{asset.str_assetcat_name}" />    </td>
             </tr>
              <tr>
             <th><h:outputText  value="Vendor Name"/></th>
             <td> <h:inputText value="#{asset.str_VendorName}" />    </td>
             </tr>
             <tr><td><h:commandButton value="Update" action="#{expenseBean.updateOneAsset(asset)}"/></td>
             <td><h:commandButton value="Cancel" action="assets.xhtml"/></td></tr>
             
             </ui:repeat>
             </table>
             </p:outputPanel>
             </p:dialog>
              <p:dialog header="  Asset Details" widgetVar="multiAssetDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiAssetDetail1" style="text-align:center;">
           <table>
               
            <ui:repeat value="#{expenseBean.selectedAssets}" var="asset">
             <tr>
             <th><h:outputText  value="Organization"/></th>
             <td> <h:outputText value="#{asset.str_OrganizationName}" />  </td>
             </tr>
             <tr>
             <th><h:outputText  value="Asset Name"/></th>
             <td> <h:outputText value="#{asset.str_AssetName}" />    </td>
             </tr>
              <tr>
             <th><h:outputText  value="Asset Category"/></th>
             <td> <h:outputText value="#{asset.str_assetcat_name}" />    </td>
             </tr>
              <tr>
             <th><h:outputText  value="Vendor Name"/></th>
             <td> <h:outputText value="#{asset.str_VendorName}" />    </td>
             </tr>
             </ui:repeat>
             </table>
             </p:outputPanel>
             </p:dialog>
          
                 </body>
                 </h:form>
                 </ui:define>
                 </ui:composition>