<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:c="http://java.sun.com/jsp/jstl/core">
	
     
	<h:head>


    <title>Accounting Form</title>
   
  
 
  </h:head>
   
  <h:form id="form">
    <body  bgcolor="pink"> 
   <fieldset>
     <legend  style="background-color:#438eb9; color:#fff;">Account Transaction</legend>
  
       <table>
       <h:panelGroup id="aaaa">
            <td>  <h:outputLabel for="account" value="Accounts*" /></td>
           <td> <p:selectOneMenu id="account" value="#{accountingBean.account}" valueChangeListener="#{accountingBean.accountchangeListener1}" style="width:200px">
                
                   <f:selectItems value="#{accountingBean.cars}" />
                    <p:ajax event="change" partialSubmit="true" immediate="true" />
                </p:selectOneMenu>
                
           </td>
           <td>  <h:outputText  value="From:" /></td>
           <td>  <p:calendar id="german1" pattern="dd-MM-yyyy"  value="#{accountingBean.dat_FromDate}" size="20"  navigator="true" valueChangeListener="#{accountingBean.datechangeListener}" >
            <p:ajax event="change" partialSubmit="true" />
        </p:calendar>
           </td>
              
           <td>  <h:outputText  value="To:" /></td>
           <td>  <p:calendar id="german"   pattern="dd-MM-yyyy"  value="#{accountingBean.dat_ToDate}" size="20" locale="de" navigator="true" valueChangeListener="#{accountingBean.datechangeListener1}">
            <p:ajax event="change" partialSubmit="true" />
            </p:calendar>
            </td> 
             <td>
               <h:commandButton id="priya" value="Go" action="#{accountingBean.getSearch()}" update="ggg" >
                </h:commandButton>
             </td> 
           </h:panelGroup>
      </table>
      </fieldset>
   
   </body>
   <br/>
      <div class="showButtons">
					<input type="button" class="ui-state-default ui-corner-all" id="cmdRefAccTxn" value="Refresh"/>
					<input type="button" class="ui-state-default ui-corner-all" id="actSaveAccTxn" value="Export to Excel"/>
			</div>
			
    
     <br/>
    
  
   <div id="content" class="ui-widget">
        <h:outputText value="Accounts Transactions: " color="red"></h:outputText>
          <table  cellpadding="0" cellspacing="0" style="width:1000px;align:center; font-family:arial;font-size:14px;line-height:15px;border:1px solid #DADADA ;">
    <tbody>
    <tr>
    <td style="width:440px;height:20px;background:#0E94F9;color:#fff;padding-left:5px;line-height:25px;">
    <strong>Date</strong>
    </td>
    <td style="width:250px;background:#0E94F9;color:#fff;line-height:25px;" align="right">
    <strong>Account</strong>
    </td>
    <td style="width:250px;background:#0E94F9;color:#fff;line-height:20px;padding-right:5px;" align="right">
    <strong>Type</strong>
  
    </td>
   
     <td style="width:250px;background:#0E94F9;color:#fff;line-height:20px;padding-right:5px;" align="right">
    <strong>Debit</strong>
  
    </td>
    
     <td style="width:250px;background:#0E94F9;color:#fff;line-height:20px;padding-right:5px;" align="right">
    <strong>Credit</strong>
  
    </td>
    </tr>
     <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
   
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{accountingBean.dat_FromDate1}</td>
     <td align="right" style="width:250px;">
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Opening Balance</td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_Debit} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_Credit} </td>
    </tr>
   
   
     <tr>
  
   
    <td colspan="5" style="border-bottom:1px solid #DADADA ;">
    </td>
    </tr>
    <h:panelGroup id="fgggggg" rendered="#{accountingBean.income}">
    <ui:repeat id="ggg3" value="#{accountingBean.listInvoiceTransaction1}" var="account1" varStatus="status">
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account1.dat_PaymentDate}</td>
     <td align="right" style="width:250px;">#{account1.str_paymentAccount}
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Income</td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{account1.totalDue}</td>
    </tr>
     <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
    </ui:repeat>
 </h:panelGroup>
 <h:panelGroup id="fggggggthg" rendered="#{accountingBean.str eq 'Bank' || accountingBean.str  eq 'Cash' || accountingBean.str  eq 'Expense'}">
    <ui:repeat id="ggg1" value="#{accountingBean.listExpense}" var="expense" varStatus="status">
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{expense.date_Duration}</td>
     <h:panelGroup id="hjbffff" rendered="#{expense.str_ExpenseType eq accountingBean.str }">
     <td align="right" style="width:250px;">#{expense.str_AccountName}
   </td>
   </h:panelGroup>
    <h:panelGroup id="hjbffjhudrd" rendered="#{expense.str_ExpenseType != accountingBean.str &amp;&amp; expense.str_AccountName eq accountingBean.str}">
     <td align="right" style="width:250px;">#{expense.str_ExpenseType}
   </td>
   </h:panelGroup>
    <h:panelGroup id="hjbff" rendered="#{expense.str_ExpenseType eq accountingBean.str }">
     <td align="right" style="width:250px;">#{expense.str_ExpenseCategory}
   </td>
   </h:panelGroup>
    <h:panelGroup id="hjbffjhu" rendered="#{expense.str_ExpenseType != accountingBean.str &amp;&amp; expense.str_AccountName eq accountingBean.str}">
     <td align="right" style="width:250px;">#{expense.str_ExpenseCategory}
   </td>
   </h:panelGroup>
   
    <h:panelGroup id="jjf" rendered="#{expense.str_ExpenseType eq accountingBean.str}">
     <td align="right" style="padding-right:5px;width:320px;">#{expense.int_Ammount} </td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
     </h:panelGroup>
     <h:panelGroup id="jjff" rendered="#{expense.str_ExpenseType != accountingBean.str &amp;&amp; expense.str_AccountName eq accountingBean.str}">
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank}</td>
    <td align="right" style="padding-right:5px;width:320px;">#{expense.int_Ammount} </td>
    </h:panelGroup>
    </tr>
     <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
    </ui:repeat>
</h:panelGroup>
 <h:panelGroup id="fgggggg1" rendered="#{! empty accountingBean.str}">
    <ui:repeat id="ggg2" value="#{accountingBean.listManualJournal1}" var="journal" varStatus="status">
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{journal.dat_Date}</td>
     <h:panelGroup id="hygdtdf" rendered="#{journal.str_CreditAccount eq accountingBean.str}">
     <td align="right" style="width:250px;"><h:outputText value="#{journal.str_DebitAccount}"/></td>
     </h:panelGroup>
     <h:panelGroup id="hjfdjjffd"  rendered="#{journal.str_DebitAccount eq accountingBean.str}">
     <td align="right" style="width:250px;"><h:outputText rendered="true" value="#{journal.str_CreditAccount}"/></td>
    </h:panelGroup>
    <td align="right" style="padding-right:5px;width:320px;">Manual</td>
    <h:panelGroup id="hfdfd" rendered="#{journal.str_DebitAccount eq accountingBean.str}">
     <td align="right" style="padding-right:5px;width:320px;"><h:outputText  value="#{journal.dbl_DebitAmount}"/> </td>
     <td align="right" style="padding-right:5px;width:320px;"><h:outputText  value="#{accountingBean.int_blank}"/> </td>
     </h:panelGroup>
     <h:panelGroup id="ejekej" rendered="#{journal.str_CreditAccount eq accountingBean.str}">
      <td align="right" style="padding-right:5px;width:320px;"><h:outputText  value="#{accountingBean.int_blank}"/> </td> 
    <td align="right" style="padding-right:5px;width:320px;"><h:outputText rendered="true" value="#{journal.dbl_CreditAmount}"/></td>
    </h:panelGroup>
    </tr>
     <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
    </ui:repeat>
</h:panelGroup>
     
    <ui:repeat id="ggg" value="#{accountingBean.listInvoiceTransaction}" var="account" varStatus="status" 

style="width:600px"> 
    <h:panelGroup id="hhghhg"  rendered="#{accountingBean.str_Accounts eq 'Income from Resident'}">
    <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Accounts Receivable
   </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.type} </td>
     <td align="right" style="padding-right:5px;width:320px;"><h:outputText   value="#{accountingBean.int_blank}"/> </td>
    <td align="right" style="padding-right:5px;width:320px;"> #{account.totalDue} </td>
    </tr>
    <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td> 
    </tr>
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Accounts Receivable
   </td>
    <td align="right" style="padding-right:5px;width:320px;"><h:outputText   value="#{accountingBean.type}"/></td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    </tr>
    </h:panelGroup>
       
      <h:panelGroup id="hhghhg1"  rendered="#{  accountingBean.str_Accounts eq 'Cash'|| accountingBean.str_Accounts eq 'Bank' || accountingBean.str_Accounts eq 'Expense'}">
      
    <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Accounts Receivable
   </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.type} </td>
     <td align="right" style="padding-right:5px;width:320px;"><h:outputText   value="#{account.totalDue}"/> </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank}</td>
    </tr>
   
    </h:panelGroup>
    <h:panelGroup id="fgggggggg" rendered="#{accountingBean.str_Accounts eq 'Accounts Receivable' || accountingBean.str_Accounts eq 'Accounts Receivable1'}">
   
    
  
  
   
    <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
   
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Income from Residents
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Income</td>
     <td align="right" style="padding-right:5px;width:320px;">#{account.subTotal} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    </tr>
    <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Income from Residents
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Income</td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    </tr>
      <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">#{accountingBean.str_TaxName}
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Income</td>
     <td align="right" style="padding-right:5px;width:320px;">#{account.taxAmount} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    </tr>
   </h:panelGroup>
    <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
    <h:panelGroup id="hghhhhh" rendered="#{accountingBean.str_Accounts eq 'Tax Payable'}">
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;">#{account.dat_InvoiceDate}</td>
     <td align="right" style="width:250px;">Accounts Receivable
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Income</td>
     <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    <td align="right" style="padding-right:5px;width:320px;">#{accountingBean.int_blank} </td>
    </tr>
    </h:panelGroup>
 </ui:repeat>
 <tr>
    <td colspan="5" style="border-bottom:1px solid #DADADA ;"></td>
    </tr>
   
     <tr style="line-height:25px;"><td style="padding-left:5px;width:440px;"></td>
     <td align="right" style="width:250px;">
   </td>
    <td align="right" style="padding-right:5px;width:320px;"></td>
     <td align="right" style="padding-right:5px;width:320px;"> </td>
    <td align="right" style="padding-right:5px;width:320px;"> </td>
    </tr>
    <h:panelGroup id="jdsdsj" >
   
     <tr style="line-height:25px;"><td style="padding-left:10px;width:440px;"></td>
     <td align="right" style="width:500px;">
   </td>
    <td align="right" style="padding-right:5px;width:320px;">Closing Balance</td>
    <h:panelGroup id="jmhbfggf" rendered="true" >
       <td align="right" style="padding-right:5px;width:320px;"><h:outputText rendered="#{accountingBean.type1}" value="#{accountingBean.totalBalance}" /></td> 
       <td align="right" style="padding-right:5px;width:320px;"><h:outputText rendered="#{accountingBean.type2}" value="#{accountingBean.totalBalance}" /></td>
    
    </h:panelGroup> 
   </tr>
  </h:panelGroup>
   
  
  
  
   
   </tbody>
   </table>
  </div>
 </h:form>

  
  
  
  </html>
   