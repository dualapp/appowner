<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{dueBean.indicator2}">
	<ui:define name="content">
<h:head>
    <title>Dues  Form</title>

<script src="JavaScript/ModalPopupWindow.js" type="text/javascript"></script>

 <style>
     body
        {
            font-family: Verdana;
            font-size: 10px;
         
        }
     
    </style>

</h:head>


<h:body>

<script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");

function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('createnewdue.xhtml',470,600,'Create New Due',null,callbackFunctionArray);
 }
function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}

</script>
</h:body>
<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/dues.jpg" height="60" width="70"></img> <span class="title">Dues</span>
				</td>
			</tr>
		</tbody>
	</table>
<body  bgcolor="pink">
  <h:form id="form">
  
  <div id="page3">
   <table   style="width: 70%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr> 
     <h:panelGroup id="performed"  >
           
              <th><h:outputText value="Organisation:" /></th>
              <td><p:selectOneMenu id="str_Organisation" value="#{dueBean.str_Organisation}"  style="width:150px">
                <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{dueBean.str_Organisation}" itemValue="#{dueBean.str_Organisation}"/>
                 </p:selectOneMenu>
             </td>
           <h:panelGroup id="hjhjjhd" rendered="#{dueBean.indicator}">
             &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;
             <td><h:outputText  value="Block:" /></td>
               <td><p:selectOneMenu id="str_Block" value="#{dueBean.str_Block}" valueChangeListener="#{dueBean.blockChangeListener}"    onchange="submit()" style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_Blocks}" />
                    <p:ajax event="click" update="str_ApartmentNo" process="str_Block" partialSubmit="true"/>
                 </p:selectOneMenu >
             </td>
               &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;
             <td><h:outputText  value="Apartment:" /></td>
               <td><p:selectOneMenu id="str_ApartmentNo" value="#{dueBean.str_ApartmentNo}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_BlockNo}" />
                 </p:selectOneMenu>
                 </td>
                </h:panelGroup>
                 <h:panelGroup id="hjhmmm" rendered="#{dueBean.indicator1}">
                  &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;
                  <td><h:outputText  value="Block:" /></td>
               <td><p:selectOneMenu id="str_Block1" value="#{dueBean.str_Block1}"   style="width:150px">
               
                   <f:selectItem itemLabel="#{dueBean.str_Block1}" itemValue="#{dueBean.str_Block1}"/>
                  
                  
                 </p:selectOneMenu >
             </td>
               &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;
             <td><h:outputText  value="Apartment:" /></td>
               <td><p:selectOneMenu id="str_ApartmentNo1" value="#{dueBean.str_ApartmentNo1}"  style="width:150px">
                   <f:selectItem itemLabel="#{dueBean.str_ApartmentNo1}" itemValue="#{dueBean.str_ApartmentNo1}"/>
                 </p:selectOneMenu>
                 </td>
                 </h:panelGroup>
                   &#150; &#150;&#150; &#150;&#150; &#150;&#150; &#150;&#150; &#150;&#150; &#150;
                 <td><h:outputText  value="Status:" /></td>
               <td><p:selectOneMenu id="str_Status" value="#{dueBean.str_Status}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem  itemLabel="Paid" itemValue="Paid" />
                   <f:selectItem  itemLabel="Partial" itemValue="Partial" />
                    <f:selectItem  itemLabel="Due" itemValue="Due" />
                
                    <f:selectItem  itemLabel="Processing" itemValue="Processing" />
                 </p:selectOneMenu>
             </td>
            
            </h:panelGroup>
           </tr>
           <tr>
             <h:panelGroup id="aa">
            
              <td><h:outputLabel value="Account:" /></td>
              <td> &#150; &#150; &#150; &#150; &#150; &#150; <p:selectOneMenu id="str_Accounts" value="#{dueBean.str_Accounts}"  style="width:150px">
               <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{templateBean.ravenues}" />
                 </p:selectOneMenu>
             </td>
               &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;
             <td><h:outputText  value="Template:" /></td>
              
               <td><p:selectOneMenu id="str_DueTemplate" value="#{dueBean.str_DueTemplate}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_DueTemplates}"/>
                 </p:selectOneMenu>
             </td>
               &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;  &#150;
             <td><h:outputText  value="Period:" /></td>
               <td><p:selectOneMenu id="str_Period" value="#{dueBean.str_Period}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem itemLabel="JAN" itemValue="JAN"/>
                     <f:selectItem itemLabel="FEB" itemValue="FEB"/>
                       <f:selectItem itemLabel="MAR" itemValue="MAR"/>
                        <f:selectItem itemLabel="APR" itemValue="APR"/>
                          <f:selectItem itemLabel="MAY" itemValue="MAY"/>
                     <f:selectItem itemLabel="JUN" itemValue="JUN"/>
                       <f:selectItem itemLabel="JUL" itemValue="JUL"/>
                        <f:selectItem itemLabel="AUG" itemValue="AUG"/>
                          <f:selectItem itemLabel="SEP" itemValue="SEP"/>
                     <f:selectItem itemLabel="OCT" itemValue="OCT"/>
                       <f:selectItem itemLabel="NOV" itemValue="NOV"/>
                        <f:selectItem itemLabel="DEC" itemValue="DEC"/>
                 </p:selectOneMenu>
                 </td>
                   &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; 
                 <td><h:outputText  value="Year" /></td>
               <td><p:selectOneMenu id="int_Year" value="#{dueBean.int_Year}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem  itemLabel="2013" itemValue="2013" />
                   <f:selectItem  itemLabel="2014" itemValue="2014" />
                    <f:selectItem  itemLabel="2015" itemValue="2015" />
                   <f:selectItem  itemLabel="2016" itemValue="2016" />
                    <f:selectItem  itemLabel="2017" itemValue="2017" />
                 </p:selectOneMenu>
             </td>
          
             </h:panelGroup>
            &#150; &#150; &#150; &#150; &#150;
            
           <td><p:commandButton id="priya" value="Go" rendered="#{dueBean.indicator}" action="#{dueBean.getListDueTransaction()}" update="due"/></td>
            <td>  <p:commandButton id="priya1" value="Go" rendered="#{dueBean.indicator1}" action="#{dueBean.getListUserDueTransaction}" update="due1"/></td>
          </tr>
         
           </table>
           </div>
            <div id="page3"> 
	  <div class="gsTitleDiv">Collections<br/><hr/></div>
           <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
         <tr>
       <td><h:panelGroup id="jjhj" rendered="#{dueBean.indicator}">
            <input type="button" style="width: 140px" onclick="ShowNewPage()" value="Create New" />&#150; &#150;<p:commandButton process="due" update=":form:multiDuesDetail" icon="ui-icon-search" value="View" style="width: 100px" oncomplete="PF('multiDuesDialog').show()" />&#150; &#150;<p:commandButton  value="Edit Selected" />&#150; &#150;<p:commandButton  value="Delete Selected" /> &#150; &#150;<p:commandButton  value="Refresh" />&#150; &#150;<p:menuButton value="Action">
        <p:menuitem value="Notify By Mail" />
        <p:menuitem value="Notify By Sms" />
        <p:menuitem value="Export To Excel" />
         <p:menuitem value="View Sumary"/>
        </p:menuButton></h:panelGroup>
        <h:panelGroup id="nnmnmnm" rendered="#{dueBean.indicator1}">
        <p:commandButton process="due1" update=":form:multiDuesDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiDuesDialog1').show()" />
            &#150; &#150;<p:commandButton  value="Refresh" /></h:panelGroup>
          <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/csv.jpg"/>
        <p:dataExporter type="csv"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"    width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.jpg"/>
        <p:dataExporter type="xml"    target="DT" fileName="BookDetails" />
    </h:commandLink>
          </td>
          </tr>
          </table>  
        <h:panelGroup id="jkdds" rendered="#{dueBean.indicator}">
        <p:dataTable id="due" var="due" value="#{dueBean.listDueTransaction}" style="width: 100%" rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "  rowsPerPageTemplate="10,20,30,40,50" 
          selection="#{dueBean.selectedDue}" rowKey="#{due.int_DueTransactionID}" editable="true"  resizableColumns="true" paginatorPosition="top" paginatorAlwaysVisible="false">
        
                <p:column  exportable="false"  selectionMode="multiple" style="width:35px;text-align:center" /> 
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation" />
                </f:facet>
                <h:outputText value="#{due.str_Organisation}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="DueTemplate" />
                </f:facet>
                <h:outputText value="#{due.str_DueTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Period" />
                </f:facet>
                <h:outputText value="#{due.str_Period}" />
            </p:column>
         
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Block" />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Apartment" />
                </f:facet>
                <h:outputText value="#{due.str_ApartmentNo}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Last Date" />
                </f:facet>
                <h:outputText value="#{due.dat_LastDate}" >
                 <f:convertDateTime pattern="dd-MM-yyyy" />
                 </h:outputText>
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="TotalDue Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_TotalDueAmount}" />
            </p:column>
          
            
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <h:outputText value="#{due.str_Status}" />
            </p:column>
            
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Paid Amount" />
                </f:facet>
                <h:outputText value="#{due.int_paidAmount}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Invoice No." />
                </f:facet>
                <h:outputText value="#{due.int_InvoiceNo}" />
            </p:column>
           <p:column>
                <f:facet name="header">
                    <h:outputText value="Balance" />
                </f:facet>
                <h:outputText value="#{due.dbl_DueAmount}" />
           </p:column>
            </p:dataTable>
          
              <p:dialog header="View Due" widgetVar="multiDuesDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiDuesDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{dueBean.selectedDue}" var="due1">
             <h:panelGroup id="user">
           <h3><i>Template</i></h3>
        <table cellspacing="10">
           <tr>
           <td> <h:outputText value="Account:" />&#160; &#160; &#160; &#160; &#160; </td>
         <td>   <h:inputText value="#{due1.str_Accounts}" /></td>
            <td > <h:outputText value="DueTemplate:" /></td>
         <td>   <h:inputText value="#{due1.str_DueTemplate}" /></td>
           </tr>
        </table>
      </h:panelGroup>
       <h:panelGroup id="user1">
        <h3><i>Due Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Period:" /> &#160; &#160; &#160; &#160; &#160;  &#160; </td>
         <td>   <h:inputText value="#{due1.str_Period}" /></td>
            <td > <h:outputText value="Year" />&#160; &#160; &#160; &#160;  </td>
         <td>   <h:inputText value="#{due1.int_Year}" /></td>
           </tr>
            <tr>
           <td> <h:outputText value="Initiated On:" /></td>
         <td>   <h:inputText value="#{due1.str_InitiatedOn}" /></td>
            <td > <h:outputText value="Last Date" />&#160; &#160; &#160; &#160;  </td>
         <td>   <h:inputText value="#{due1.dat_LastDate}" /></td>
           </tr>
        </table>
      </h:panelGroup>
       <h:panelGroup id="user2">
        <h3><i>Apartment Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Block:" />&#160; &#160; &#160;&#160; &#160; &#160; &#160; </td>
         <td >   <h:inputText value="#{due1.str_Block}" /></td>
          
            
           <td> <h:outputText value="Apartment No:" /></td>
         <td class="more-padding-on-right">  <h:inputText value="#{due1.str_ApartmentNo}" /></td>
          
           </tr>
        </table>
      </h:panelGroup>
      
       <h:panelGroup id="user3">
        <h3><i>Amount Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Due Amount:" /></td>
         <td >   <h:inputText value="#{due1.dbl_DueAmount}" /></td>
          </tr>
            <tr>
           <td > <h:outputText value=" Total Due Amount:" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
            <td> <h:outputText value=" Balance Amount" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
           </tr>
          <tr>
            <td> <h:outputText value=" Paid Amount:" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
            <td> <h:outputText value="Status:" /></td>
           <td >   <h:inputText value="#{due1.str_Status}" /></td>
           </tr>
           </table>
           <table>
           <tr>
           <td><h:outputText value="payment History:" />&#160; &#160; &#160; &#160; </td>
         <td>  <p:inputTextarea value="" cols="30" row="5" /></td> 
           </tr>
        </table>
      </h:panelGroup>
       
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
       </h:panelGroup>
       </div>
       
       <h:panelGroup id="jhhjjhjh"  rendered="#{dueBean.indicator1}">
        <p:dataTable id="due1" var="due" value="#{dueBean.listUserDueTransaction}" style="width: 100%"  rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "
        rowsPerPageTemplate="10,20,30,40,50"   selection="#{dueBean.selectedDue}" rowKey="#{due.int_DueTransactionID}" editable="true"  resizableColumns="true" paginatorPosition="top" paginatorAlwaysVisible="false">>
             
                <p:column  exportable="false"  selectionMode="multiple" style="width:35px;text-align:center" /> 
            
       
        
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation" />
                </f:facet>
                <h:outputText value="#{due.str_Organisation}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="DueTemplate" />
                </f:facet>
                <h:outputText value="#{due.str_DueTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Period" />
                </f:facet>
                <h:outputText value="#{due.str_Period}" />
            </p:column>
         
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Block" />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Apartment" />
                </f:facet>
                <h:outputText value="#{due.str_ApartmentNo}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Last Date" />
                </f:facet>
                <h:outputText value="#{due.dat_LastDate}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="TotalDue Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_TotalDueAmount}" />
            </p:column>
          
            
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <h:outputText value="#{due.str_Status}" />
            </p:column>
             <p:column>
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Paid Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_DueAmount}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Invoice No." />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
                <f:facet name="header">
                    <h:outputText value="Balance" />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
            </p:dataTable>
            
             <p:dialog header="View Due" widgetVar="multiDuesDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiDuesDetail1" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{dueBean.selectedDue}" var="due1">
             <h:panelGroup id="user">
           <h3><i>Template</i></h3>
        <table cellspacing="10">
           <tr>
           <td> <h:outputText value="Account:" />&#160; &#160; &#160; &#160; &#160; </td>
         <td>   <h:inputText value="#{due1.str_Accounts}" /></td>
            <td > <h:outputText value="DueTemplate:" /></td>
         <td>   <h:inputText value="#{due1.str_DueTemplate}" /></td>
           </tr>
        </table>
      </h:panelGroup>
       <h:panelGroup id="user1">
        <h3><i>Due Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Period:" /> &#160; &#160; &#160; &#160; &#160;  &#160; </td>
         <td>   <h:inputText value="#{due1.str_Period}" /></td>
            <td > <h:outputText value="Year" />&#160; &#160; &#160; &#160;  </td>
         <td>   <h:inputText value="#{due1.int_Year}" /></td>
           </tr>
            <tr>
           <td> <h:outputText value="Initiated On:" /></td>
         <td>   <h:inputText value="#{due1.str_InitiatedOn}" /></td>
            <td > <h:outputText value="Last Date" />&#160; &#160; &#160; &#160;  </td>
         <td>   <h:inputText value="#{due1.dat_LastDate}" /></td>
           </tr>
        </table>
      </h:panelGroup>
       <h:panelGroup id="user2">
        <h3><i>Apartment Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Block:" />&#160; &#160; &#160;&#160; &#160; &#160; &#160; </td>
         <td >   <h:inputText value="#{due1.str_Block}" /></td>
          
            
           <td> <h:outputText value="Apartment No:" /></td>
         <td class="more-padding-on-right">  <h:inputText value="#{due1.str_ApartmentNo}" /></td>
          
           </tr>
        </table>
      </h:panelGroup>
       <h:panelGroup id="user3">
        <h3><i>Amount Details</i></h3>
        <table  cellspacing="10">
           <tr>
           <td> <h:outputText value="Due Amount:" /></td>
         <td >   <h:inputText value="#{due1.dbl_DueAmount}" /></td>
          </tr>
            <tr>
           <td > <h:outputText value=" Total Due Amount:" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
            <td> <h:outputText value=" Balance Amount" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
           </tr>
          <tr>
            <td> <h:outputText value=" Paid Amount:" /></td>
           <td >   <h:inputText value="#{due1.dbl_TotalDueAmount}" /></td>
            <td> <h:outputText value="Status:" /></td>
           <td >   <h:inputText value="#{due1.str_Status}" /></td>
           </tr>
           </table>
           <table>
           <tr>
           <td><h:outputText value="payment History:" />&#160; &#160; &#160; &#160; </td>
         <td>  <p:inputTextarea value="" cols="30" row="5" /></td> 
           </tr>
        </table>
      </h:panelGroup>
       
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
    
       </h:panelGroup>
           </h:form>
           </body>
           
            
             
</ui:define>
</ui:composition>