<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{dueBean.indicator2}">
	<ui:define name="content">
<h:head>
    <title>Dues  Form</title>
     <style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:250px;
          }
          select
          {
           height:25px;
           weight:250px;
          }
      </style>	




</h:head>



<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/dues.png" height="60" width="70"></img> <span class="title">Dues</span>
				</td>
			</tr>
		</tbody>
	</table>
<body  bgcolor="pink">
  <h:form id="form">
  
  <div id="page3">
   <table   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr> 
     <h:panelGroup id="performed"  >
           
              <th><h:outputLabel value="Organisation:" /></th>
              <td><p:selectOneMenu id="str_Organisation1" value="#{dueBean.str_Organisation}"  style="width:150px">
                <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{dueBean.str_Organisation}" itemValue="#{dueBean.str_Organisation}"/>
                 </p:selectOneMenu>
             </td>
           <h:panelGroup id="hjhjjhd" rendered="#{dueBean.indicator}">
         
             <td><h:outputText  value="Block:" /></td>
               <td><p:selectOneMenu id="str_Block1" value="#{dueBean.str_Block}" valueChangeListener="#{dueBean.blockChangeListener}"    style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_Blocks}" />
                    <p:ajax event="click" update="str_ApartmentNo1" process="str_Block1" partialSubmit="true"/>
                 </p:selectOneMenu >
             </td>
           
             <td><h:outputText  value="Apartment:" /></td>
               <td><p:selectOneMenu id="str_ApartmentNo1" value="#{dueBean.str_ApartmentNo}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_BlockNo}" />
                 </p:selectOneMenu>
                 </td>
                </h:panelGroup>
                 <h:panelGroup id="hjhmmm" rendered="#{dueBean.indicator1}">
               <p:spacer width="40" height="20"/>
                  <td><h:outputText  value="Block:" /></td>
               <td><p:selectOneMenu id="str_Block2" value="#{dueBean.str_Block1}"   style="width:150px">
               
                   <f:selectItem itemLabel="#{dueBean.str_Block1}" itemValue="#{dueBean.str_Block1}"/>
                  
                  
                 </p:selectOneMenu >
             </td>
              <p:spacer width="40" height="20"/>
             <td><h:outputText  value="Apartment:" /></td>
               <td><p:selectOneMenu id="str_ApartmentNo2" value="#{dueBean.str_ApartmentNo1}"  style="width:150px">
                   <f:selectItem itemLabel="#{dueBean.str_ApartmentNo1}" itemValue="#{dueBean.str_ApartmentNo1}"/>
                 </p:selectOneMenu>
                 </td>
                 </h:panelGroup>
                 <p:spacer width="40" height="20"/>
                 <td><h:outputText  value="Status:" /></td>
               <td><p:selectOneMenu id="str_Status" value="#{dueBean.str_Status}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem  itemLabel="Paid" itemValue="Paid" />
                   <f:selectItem  itemLabel="Partial" itemValue="Partial" />
                    <f:selectItem  itemLabel="Due" itemValue="Due" />
                
                    <f:selectItem  itemLabel="Processing" itemValue="Processing" />
                 </p:selectOneMenu>
             </td>
            
            </h:panelGroup>
           </tr>
           <tr>
             <h:panelGroup id="aa">
            
              <td><h:outputLabel value="Account:" /></td>
              <td> <p:selectOneMenu id="str_Accounts1" value="#{dueBean.str_Accounts}"  style="width:150px">
               <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{templateBean.ravenues}" />
                 </p:selectOneMenu>
             </td>
            <p:spacer width="40" height="20"/>
             <td><h:outputText  value="Template:" /></td>
              
               <td><p:selectOneMenu id="str_DueTemplate1" value="#{dueBean.str_DueTemplate}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_DueTemplates}"/>
                 </p:selectOneMenu>
             </td>
              <p:spacer width="40" height="20"/>
             <td><h:outputText  value="Period:" /></td>
               <td><p:selectOneMenu id="str_Period1" value="#{dueBean.str_Period}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem itemLabel="JAN" itemValue="JAN"/>
                     <f:selectItem itemLabel="FEB" itemValue="FEB"/>
                       <f:selectItem itemLabel="MAR" itemValue="MAR"/>
                        <f:selectItem itemLabel="APR" itemValue="APR"/>
                          <f:selectItem itemLabel="MAY" itemValue="MAY"/>
                     <f:selectItem itemLabel="JUN" itemValue="JUN"/>
                       <f:selectItem itemLabel="JUL" itemValue="JUL"/>
                        <f:selectItem itemLabel="AUG" itemValue="AUG"/>
                          <f:selectItem itemLabel="SEP" itemValue="SEP"/>
                     <f:selectItem itemLabel="OCT" itemValue="OCT"/>
                       <f:selectItem itemLabel="NOV" itemValue="NOV"/>
                        <f:selectItem itemLabel="DEC" itemValue="DEC"/>
                 </p:selectOneMenu>
                 </td>
                  <p:spacer width="40" height="20"/>
                 <td><h:outputText  value="Year" /></td>
               <td><p:selectOneMenu id="int_Year1" value="#{dueBean.int_Year}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem  itemLabel="2013" itemValue="2013" />
                   <f:selectItem  itemLabel="2014" itemValue="2014" />
                    <f:selectItem  itemLabel="2015" itemValue="2015" />
                   <f:selectItem  itemLabel="2016" itemValue="2016" />
                    <f:selectItem  itemLabel="2017" itemValue="2017" />
                 </p:selectOneMenu>
             </td>
          
             </h:panelGroup>
          <p:spacer width="40" height="20"/>
            
           <td><p:commandButton id="priya" value="Go" rendered="#{dueBean.indicator}" action="#{dueBean.getListDueTransaction()}" update="due"/></td>
            <td>  <p:commandButton id="priya1" value="Go" rendered="#{dueBean.indicator1}" action="#{dueBean.getListUserDueTransaction}" update="due1"/></td>
          </tr>
         
           </table>
           </div>
            <div id="page3"> 
	  <div class="gsTitleDiv">Collections<br/><hr/></div>
           <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
         <tr>
       <td><h:panelGroup id="jjhj" rendered="#{dueBean.indicator}">
          <p:button style="width:120px;height:25px"  icon="ui-icon-pencil" value="Create New" outcome="createnewdue.xhtml" />&#150; &#150;<h:commandButton  style="width:120px;height:25px" process="due" update="due" icon="ui-icon-search" value="View" action="viewuserdues.xhtml" />&#150; &#150;<p:commandButton  icon="ui-icon-pencil" process="due" update=":form:multiDuesDetail" oncomplete="PF('multiDuesDialog').show()" style="width:120px;height:25px" value="Edit " />&#150; &#150;<p:commandButton style="width:120px;height:25px"  icon="ui-icon-trash"  process="due" update=":form:multiDuesDetail3" oncomplete="PF('multiDuesDialog3').show()" value="Delete" action="#{dueBean.select()}" /> &#150; &#150;<p:commandButton  icon="ui-icon-refresh" style="width:120px;height:25px"  value="Refresh" />&#150; &#150;<p:menuButton value="Action">
        <p:menuitem value="Notify By Mail" />
        <p:menuitem value="Notify By Sms" />
        <p:menuitem value="Export To Excel" />
         <p:menuitem value="View Sumary"/>
        </p:menuButton></h:panelGroup>
        <h:panelGroup id="nnmnmnm" rendered="#{dueBean.indicator1}">
        <h:commandButton  style="width:120px;height:25px" process="due1" update="due1" icon="ui-icon-search" value="View" action="viewuserdues.xhtml" />
            &#150; &#150;<p:commandButton style="width:120px;height:25px" icon="ui-icon-refresh" value="Refresh" /></h:panelGroup>
          <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/csv.jpg"/>
        <p:dataExporter type="csv"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"    width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.jpg"/>
        <p:dataExporter type="xml"    target="DT" fileName="BookDetails" />
    </h:commandLink>
          </td>
          </tr>
          </table> 
            
        <h:panelGroup id="jkdds" rendered="#{dueBean.indicator}">
       
        <p:dataTable id="due" var="due" value="#{dueBean.listDueTransaction}"  sortBy="#{due.str_DueTemplate}" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "  rowsPerPageTemplate="10,20,30,40,50" 
          selection="#{dueBean.selectedDue}" rowKey="#{due.int_DueTransactionID}" editable="true"  resizableColumns="true" paginatorPosition="top" paginatorAlwaysVisible="false">
        
                <p:column  exportable="false"  selectionMode="single" style="width:35px;text-align:center" /> 
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation" />
                </f:facet>
                <h:outputText value="#{due.str_Organisation}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="DueTemplate" />
                </f:facet>
                <h:outputText value="#{due.str_DueTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Period" />
                </f:facet>
                <h:outputText value="#{due.str_Period}" />
            </p:column>
         
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Block" />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Apartment" />
                </f:facet>
                <h:outputText value="#{due.str_ApartmentNo}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Last Date" />
                </f:facet>
                <h:outputText value="#{due.dat_LastDate}" >
                 <f:convertDateTime pattern="dd-MM-yyyy" />
                 </h:outputText>
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="TotalDue Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_TotalDueAmount}" />
            </p:column>
          
            
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <h:outputText value="#{due.str_Status}" />
            </p:column>
            
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Paid Amount" />
                </f:facet>
                <h:outputText value="#{due.int_paidAmount}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Balance" />
                </f:facet>
                <h:outputText value="#{due.dbl_DueAmount}" />
           </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Invoice No." />
                </f:facet>
                <h:outputText value="#{due.int_InvoiceNo}" />
            </p:column>
          
            </p:dataTable>
        
         
          
              <p:dialog header="Message" widgetVar="multiDuesDialog"     showEffect="explode" hideEffect="explode" resizable="false" height="100" width="300">
        <p:outputPanel id="multiDuesDetail" style="text-align:center;">
          <table>
          <tr>
          <td><h4>Dues cannot be edited.</h4>
          
          </td>
          </tr>
         
         
          </table>
          
        </p:outputPanel>
    </p:dialog>
     <p:dialog header="Delete Due" widgetVar="multiDuesDialog3"     showEffect="explode" hideEffect="explode" resizable="false" height="150" width="400">
        <p:outputPanel id="multiDuesDetail3" style="text-align:center;">
          <table>
          <tr>
          <td><h5>Delete Due? Payments recorded against this due will also be deleted.</h5>
          
          </td>
          </tr>
       <tr><td><p:separator/></td></tr>
       <tr>
       <td><p:commandButton value="Delete"/><p:commandButton value="Cancel"/></td>
      
         </tr>
          </table>
          
        </p:outputPanel>
    </p:dialog>
       </h:panelGroup>
       
       <h:panelGroup id="jhhjjhjh"  rendered="#{dueBean.indicator1}">
        <p:dataTable id="due1" var="due" value="#{dueBean.listUserDueTransaction}"  style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"  rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "
        rowsPerPageTemplate="10,20,30,40,50"   selection="#{dueBean.selectedDue}" rowKey="#{due.int_DueTransactionID}" editable="true"  resizableColumns="true" paginatorPosition="top" paginatorAlwaysVisible="false">>
             
                <p:column  exportable="false"  selectionMode="single" style="width:35px;text-align:center" /> 
            
       
        
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation" />
                </f:facet>
                <h:outputText value="#{due.str_Organisation}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="DueTemplate" />
                </f:facet>
                <h:outputText value="#{due.str_DueTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Period" />
                </f:facet>
                <h:outputText value="#{due.str_Period}" />
            </p:column>
         
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Block" />
                </f:facet>
                <h:outputText value="#{due.str_Block}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Apartment" />
                </f:facet>
                <h:outputText value="#{due.str_ApartmentNo}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Last Date" />
                </f:facet>
                <h:outputText value="#{due.dat_LastDate}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="TotalDue Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_TotalDueAmount}" />
            </p:column>
          
            
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <h:outputText value="#{due.str_Status}" />
            </p:column>
             <p:column>
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Paid Amount" />
                </f:facet>
                <h:outputText value="#{due.dbl_DueAmount}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Invoice No." />
                </f:facet>
                <h:outputText value="#{due.int_InvoiceNo}" />
            </p:column>
                <f:facet name="header">
                    <h:outputText value="Balance" />
                </f:facet>
                <h:outputText value="#{due.dbl_TotalDueAmount}" />
            </p:column>
            </p:dataTable>
            
           
    
       </h:panelGroup>
       </div>
           </h:form>
           </body>
           
            
             
</ui:define>
</ui:composition>