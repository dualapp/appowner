 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
 
	 
	<h:head>

	<title></title>
	 <script src="JavaScript/ModalPopupWindow.js" type="text/javascript">
	 
	 </script>
<style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
        
         margin-left:-200px; 

}
</style>

 </h:head>
 <h:body>
  <h:form id="form">
   <p:growl id="ui-growl" globalOnly="true" sticky="true" />
 
	
	 
	 
	 <div id="page3">
           <div class="gsTitleDiv">Work Order Category<br/><hr/></div> 
	 
             <table style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
             <tr><td><p:outputLabel value="Organisation:" />  <p:outputLabel value="#{expenseBean.str_OrganizationName}" /> </td>
              </tr>
<tr><td>  
	    <p:commandButton  icon="ui-icon-plus"  style="width:120px;height:25px" process="DT" update=":addform"   value="Create New" oncomplete="PF('multiWorkOrderDialog').show()" />
	
	 &#150; &#150;  <p:commandButton style="width:120px;height:25px" process="DT" update=":viewform" icon="ui-icon-info" value="View" oncomplete="PF('multiWorkOrderDialog1').show()" />
       &#150; &#150; <p:commandButton style="width:120px;height:25px" process="DT" update=":editform" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiWorkOrderDialog2').show()" />
       &#150; &#150;  <p:commandButton style="width:120px;height:25px"  update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{vendorBean.deleteWorkOrder()}" icon="ui-icon-trash" value="Delete" />
       &#150; &#150;   <p:commandButton style="width:120px;height:25px" icon="ui-icon-refresh"    onclick="javascript:history.go(0);" value="Refresh" />
         
     
     </td>
     </tr>
     
    </table>
	   
	
	 
	 
             <p:dataTable  id="DT"  
               
               rows="3"   paginator="true"  paginatorPosition="bottom"   resizableColumns="true"  style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"  
        emptyMessage="No Records Found" paginatorAlwaysVisible="false" 
                var="ps"  value="#{vendorBean.workOrderCategoryList}" selection="#{vendorBean.workOrderCategoryList1}" rowKey="#{ps.int_WorkOrderCategoryId}">
	 
	 <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
          <p:column headerText="Organization">
                <h:outputText value="#{vendorBean.str_OrganizationName}" /> 
            
	 </p:column>
	  <p:column headerText="Category Name">
                <h:outputText value="#{ps.str_VendorCategoryType}" /> 
            
	 </p:column>
	 </p:dataTable>
	 </div>
	</h:form>
	 <p:dialog header="Create New" widgetVar="multiWorkOrderDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="250" width="500">
      <h:form id="addform">
        <p:outputPanel id="multiWorkOrderDetail" style="text-align:center;">
        <table>
	<tr><th> 
               <p:outputLabel  for="org" value="Organisation:" /> </th>
             <td> <h:selectOneMenu id="org" required="true" value="#{vendorBean.str_OrganizationName}" >
              <f:selectItem itemLabel="#{vendorBean.str_OrganizationName}"  itemValue="#{vendorBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td></tr>
	<tr><th><p:outputLabel for="CategoryName" value="CategoryName"/></th>
	<td><p:inputText id="CategoryName"  placeholder="Enter CategoryName" required="true" requiredMessage="Enter CategoryName"   value="#{vendorBean.str_VendorCategoryType}">
	 
	</p:inputText>
	</td>
	 <p:message  id="CategoryNameMsg" for="CategoryName" display="text"/> 
	</tr>
 
	
	</table>
	<div>
	<hr/>
	 <p:commandButton   styleClass="btn"   value="Submit" update=":form:DT :form:ui-growl,CategoryNameMsg"      action="#{vendorBean.saveWorkOrderCategory}" oncomplete="handleRequest(xhr, status, args)"/>
	
	 &#150; &#150; <p:commandButton  onclick="multiWorkOrderDialog.hide()"   styleClass="btn"  action="workordercategory.xhtml"  value="Cancel"  >
	 <f:ajax execute="@this" event="click"  render="@form"/>
	 </p:commandButton> 
                
                </div> </p:outputPanel>
                </h:form>
                 </p:dialog>
                 
                 
                  <p:dialog header="Edit work Order Details" widgetVar="multiWorkOrderDialog2"     showEffect="explode" hideEffect="bounce" resizable="false" height="250" width="500">
       <h:form id="editform">
        <p:outputPanel id="multiWorkOrderDetail2" style="text-align:center;">
           <ui:repeat value="#{vendorBean.workOrderCategoryList1}" var="ws1">
           <table>
               
           
            <tr><th> 
               <p:outputLabel for="org1" value="Organisation:" /> </th>
             <td> <h:selectOneMenu required="true" id="org1" value="#{vendorBean.str_OrganizationName}" >
              <f:selectItem itemLabel="#{vendorBean.str_OrganizationName}"  itemValue="#{vendorBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td></tr>
             <tr>
 <th>
	<p:outputLabel for="CategoryName1" value="Type:" /> </th>
    <td>
    <p:inputText id="CategoryName1" required="true" requiredMessage="Enter CategoryName" value="#{ws1.str_VendorCategoryType}">
    
    </p:inputText>
    </td>
     <p:message  id="CategoryNameMsg1" for="CategoryName1" display="text"/> 
    </tr>
    
     
    
   
    </table>
    <div>
    <hr/>
      
   <p:commandButton value="Update"   
                update=":form:DT :form:ui-growl,CategoryNameMsg1"   styleClass="btn"   action="#{vendorBean.updateWorkOrder(ws1)}"  oncomplete="handleRequest1(xhr, status, args)" />
   &#150; &#150; <p:commandButton value="Cancel"  onclick="multiWorkOrderDialog2.hide()" styleClass="btn"  action="workordercategory.xhtml">
   <f:ajax execute="@this" event="click"   />
   </p:commandButton>
    
    </div>
    </ui:repeat>
    </p:outputPanel>
    </h:form>
    </p:dialog>
     <p:dialog header="  work Order Details" widgetVar="multiWorkOrderDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="500">
       <h:form id="viewform">
        <p:outputPanel id="multiWorkOrderDetail1" style="text-align:center;">
          
          <ui:repeat value="#{vendorBean.workOrderCategoryList1}" var="ws1">
           <table>
               
           
            <tr><th> 
               <p:outputLabel   value="Organisation:" /> </th>
             <td> <h:selectOneMenu  readonly="true" value="#{vendorBean.str_OrganizationName}" >
              <f:selectItem itemLabel="#{vendorBean.str_OrganizationName}"  itemValue="#{vendorBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td></tr>
             <tr>
 <th>
	<p:outputLabel   value="Type:" /> </th>
    <td>
    <p:inputText   readonly="true" value="#{ws1.str_VendorCategoryType}">
    
    </p:inputText>
    </td>
    
    </tr>
   
    </table>
    
    </ui:repeat>
     <div>
             <hr/>
             </div>
    </p:outputPanel>
    </h:form>
    </p:dialog>
                 
	  </h:body>
	 
	  <script type="text/javascript">
    function handleRequest(xhr, status, args) 
    {
        if(args.validationFailed)
             {
        	 PF('multiWorkOrderDialog').show();
            
        } 
        else{
        	  
        	PF('multiWorkOrderDialog').hide();
        	
        }
        
    }
    function handleRequest1(xhr, status, args) 
    {
        if(args.validationFailed)
             {
        	 PF('multiWorkOrderDialog2').jq.effect("shake", {times:5}, 100);
            
        } 
        else{
        	 
        	PF('multiWorkOrderDialog2').hide();
        	 
        	
        }
        
    }
    
</script>
	 </ui:define>
	 </ui:composition>
	 