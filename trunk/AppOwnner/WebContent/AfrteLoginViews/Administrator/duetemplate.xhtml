<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
    <h:head>
    <title>Due Template  Form</title>
     

 <script src="JavaScript/ModalPopupWindow.js" type="text/javascript"></script>

 <style>
     body
        {
            font-family: Verdana;
            font-size: 10px;
         
        }
     
    </style>

</h:head>


<h:body>

<script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");

function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 popupWindow=modalWin.ShowURL('createnewduetemplate.xhtml',470,600,'Create New Due Template',null,callbackFunctionArray);
 
 }
function ShowNewPage1(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
    modalWin.ShowURL("editduetemplate1.xhtml?int_DueTemplateID="+clicked_id+"",400,350,'Edit Due Template',null,callbackFunctionArray);
	 }
function ShowNewPage2(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	modalWin.ShowURL("viewduetemplate.xhtml?int_DueTemplateID="+clicked_id+"",400,350,'View Due Template',null,callbackFunctionArray);
	 }
	 
function ShowNewPage3(){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 modalWin.ShowURL('editduetemplate.xhtml',400,350,'Edit Due Template',null,callbackFunctionArray);
	 
	 }
function ShowNewPage4(){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 modalWin.ShowURL('viewduetemplate.xhtml',400,350,'View Due Template',null,callbackFunctionArray);
	 
	 }

 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 




function Submit(msg){
	
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
	
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}



</script>
</h:body>
<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/due.jpg" height="60" width="70"></img> <span class="title">Due Template</span>
				</td>
			</tr>
		</tbody>
	</table>
<body  bgcolor="pink">
  <h:form id="form" prependId="false">
 <div id="page3">
   <table   style="width: 70%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr> 
     <h:panelGroup id="performed"  >
           
              <th><h:outputText value="Organisation:" /></th>
              <td><p:selectOneMenu id="str_Organisation" value="#{templateBean.str_Organisation}"   style="width:150px">
                   <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{templateBean.str_Organisation}" itemValue="#{templateBean.str_Organisation}" />
                 </p:selectOneMenu>
             </td>
             &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150; &#150;&#150; &#150;&#150;&#150;
             <th><h:outputText  value="Due Template Of:" /></th>
               <td><p:selectOneMenu id="str_Accounts" value="#{templateBean.str_Accounts}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{templateBean.ravenues}" />
                 </p:selectOneMenu>
             </td>
               &#150; &#150;&#150; &#150;&#150;
             <th><h:outputText  value="Account" /></th>
                &#150; &#150;&#150; &#150;&#150;
              <td><h:commandButton id="priya" value="Go" action="#{templateBean.getListDues()}" update="ggg">
                  </h:commandButton></td>
                </h:panelGroup>
              
              
               </tr>
               </table>
               </div>
                <div id="page3"> 
	  <div class="gsTitleDiv">List Of DueTemplate<br/><hr/></div>
           <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
                
         <tr><td> <input type="button" style="width: 100px" onclick="ShowNewPage()" value="Create New" />&#150; &#150; &#150; &#150; <p:commandButton process="ggg" update=":form:multiDueTemplateDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiDueTemplateDialog1').show()" />
       &#150; &#150; <p:commandButton process="ggg" update=":form:multiDueTemplateDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiDueTemplateDialog').show()" />
       &#150; &#150;  <p:commandButton update="ggg" process="ggg" onclick="return confirm('Are you sure you want to delete ?');" action="#{templateBean.deleteDueTemplate()}" icon="ui-icon-trash" value="Delete" />
        <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/csv.jpg"/>
        <p:dataExporter type="csv"    target="DT" fileName="BookDetails" />
    </h:commandLink>
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"    width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.jpg"/>
        <p:dataExporter type="xml"    target="DT" fileName="BookDetails" />
    </h:commandLink>
     
       </td></tr></table>
     
       
        <p:growl id="msgs" showDetail="true" />
         <p:dataTable id="ggg" var="dueTemplate" value="#{templateBean.listDues}"  style="width: 100%" editable="true"  resizableColumns="true" rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "
        rowsPerPageTemplate="10,20,30,40,50"  selection="#{templateBean.selectedDueTemplate}" rowKey="#{dueTemplate.int_DueTemplateID}" >
            

          <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
         
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation Name" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_Organisation}"/>
            </p:column>
       
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Due Template" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_DueTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Accounts" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_Accounts}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Rate" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_Rate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="FreQuency" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_Frequency}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Tax Template" />
                </f:facet>
                <h:outputText value="#{dueTemplate.str_TaxTemplate}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Action" />
                </f:facet>
                
               <input type="button" id="#{dueTemplate.int_DueTemplateID}" style="width: 50px"  onclick="ShowNewPage1(this.id)" value="Edit"/>
              
               
               
             <input type="button" id="#{dueTemplate.int_DueTemplateID}" style="width: 50px" onclick="ShowNewPage2(this.id)" value="View" />
          <h:link outcome="deletedue.xhtml"
	   		 onclick="return confirm('Are you sure you want to delete #{dueTemplate.int_DueTemplateID}?');" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="images/delete.jpg" title="Delete"/> 
	   				<f:param name="int_DueTemplateID" value="#{dueTemplate.int_DueTemplateID}" />
	   		</h:link>
	   		 
                
               
            </p:column>
                 
                 
               
                
               
          </p:dataTable>
          </div>
       <p:dialog header="Edit DueTemplate" widgetVar="multiDueTemplateDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiDueTemplateDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{templateBean.selectedDueTemplate}" var="dueTemplate1">
             <tr>
 <th>
    <h:outputText value="Due Template:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_DueTemplate}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Accounts:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Accounts}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Frequency}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Calculation}"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Rate}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_TaxTemplate}"/></td>
    </tr>
    
      
            </ui:repeat>
             <tr><td><h:commandButton value="update" action="#{templateBean.saveDueTemplate(dueTemplate1)}"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="View DueTemplate" widgetVar="multiDueTemplateDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="multiDueTemplateDetail1" style="text-align:center;">
           <table>
              
            <ui:repeat value="#{templateBean.selectedDueTemplate}" var="dueTemplate1">
             
               <th>
    <h:outputText value="Due Template:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_DueTemplate}" readonly="true"/></td>
  
 <tr>
 <th>
    <h:outputText value="Accounts:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Accounts}" readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Frequency}" readonly="true"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Calculation}" readonly="true"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Rate}" readonly="true"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_TaxTemplate}" readonly="true"/></td>
    </tr>
               
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
        </h:form>
        </body>
        
          
               
               
              </ui:define>
               </ui:composition>