 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title"> Vendor</span>
				</td>
			</tr>
		</tbody>
	</table>
<h:body>

<script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");
function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('Create New Due Template.xhtml',470,600,'Create New Due Template',null,callbackFunctionArray);
 
 }
 
function ShowNewPage1(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 alert(clicked_id);
     modalWin.ShowURL("editvendor.xhtml?int_VendorId="+clicked_id+"",400,350,'Editvendor',null,callbackFunctionArray);
	 }
function ShowNewPage2(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 alert(clicked_id);
	modalWin.ShowURL("viewvendor.xhtml?int_VendorId="+clicked_id+"",400,350,'View Vendor',null,callbackFunctionArray);
	 }
	 
 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 function  ShowMessageWithAction(){
    //ShowConfirmationMessage(message, height, width, title,onCloseCallBack, firstButtonText, onFirstButtonClick, secondButtonText, onSecondButtonClick);
    modalWin.ShowConfirmationMessage('This is confirmation window using Javascript',200,400,'User Confirmation',null,'Agree',Action1,'Disagree',Action2);
 }

function ShowMessageNoDragging(){
 modalWin.Draggable=false;
 modalWin.ShowMessage('You can not drag this window',200,400,'User Information');

}

function Action1(){
alert('Action1 is excuted');
modalWin.HideModalPopUp();
}

function Action2(){
alert('Action2 is excuted');
modalWin.HideModalPopUp();
}

function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}


</script>
</h:body>
 
   
 <h:form  id="form">
 
    
 <!--  <legend  align="left" style="background-color:#438eb9; color:#fff;">
 <table style="width: 80%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
  <tr><td><p:selectOneMenu   value="#{vendorBean.str_VendorName }"   style="width:200px" >
            <f:selectItem itemLabel="Select Name" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.vendorNameList}" />
            </p:selectOneMenu>
            <p:commandButton   update="DT"   value="Search"  action="#{vendorBean.getVendorList()}"/>
             
</td>
 <td><p:selectOneMenu   value="#{vendorBean.str_VendorType }"   style="width:200px" >
            <f:selectItem itemLabel="Select Type" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.str_VendorTypeList}" />
            </p:selectOneMenu>
            <h:commandButton    update="DT"    value="Search"   action="#{vendorBean.getVendorList()}"/>
             
</td>  </tr>
</table>
</legend>-->
 <p:growl id="msgs" showDetail="true" />
  
		<div id="page3"><div class="gsTitleDiv">List Of vendors<br/><hr/></div>
 <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px">
 <tr><td>
  <h:commandButton    icon="ui-icon-plus"  action="/AfrteLoginViews/Vendor/addvendor.xhtml" value="create new" />&#150; &#150; <p:commandButton  immediate="true" execute="@this" icon="ui-icon-refresh" value="Refresh" >
   
  </p:commandButton>
	 &#150; &#150;  <p:menuButton  icon="ui-icon-gear" value="Action">
        <p:menuitem value="Assign Selected"  action="#"/>
        <p:menuitem value="close Selected" action="#"/>
        <p:menuitem value="View Chart" action="#"/>
         <p:menuitem value="View Summary" action="#"/>
         <p:menuitem value="Export To Excel" action="#"/>
        </p:menuButton>
         
          &#150; &#150;  <p:commandButton process="DT" update=":form:multiVendorDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiVendorDialog1').show()" />
       &#150; &#150; <p:commandButton process="DT" update=":form:multiVendorDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiVendorDialog').show()" />
       &#150; &#150;  <p:commandButton update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{vendorBean.deleteVendor1()}" icon="ui-icon-trash" value="Delete" />
        <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/cvs.png"/>
        <p:dataExporter type="csv"  pageOnly="true" target="DT" fileName="vendor" />
    </h:commandLink>
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"  pageOnly="true" width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.png"/>
        <p:dataExporter type="xml" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
     
     </td>
     </tr></table> 
      
       <p:dataTable    paginator="true"  paginatorPosition="bottom"   resizableColumns="true"  style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:20px"
       widgetVar="vendorsTable"
                 emptyMessage="No cars found with given criteria" filteredValue="#{vendorBean.selectedVendor1}" 
               rows="5"   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="1,2,3"    id="DT"    var="vendor" value="#{vendorBean.vendorList}"   selection="#{vendorBean.selectedVendor}" rowKey="#{vendor.int_VendorId}"  >
                 
       <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('vendorsTable').filter()" style="width:150px" placeholder="Enter keyword"/>
            </p:outputPanel>
            
        </f:facet>
           
        <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
        
         <p:column filterBy="#{vendor.str_VendorName}" filterMatchMode="contains">
            <f:facet name="header">
                <h:outputText value="VendorName"/>      
          
             </f:facet>
               <h:outputText   value="#{vendor.str_VendorName}" />  
             
            </p:column>
            
          
            <p:column  filterBy="#{vendor.str_VendorType}"  filterMatchMode="contains">
          
          <f:facet name="header">
                <h:outputText value="Type"/>      
          
             </f:facet>
                <h:outputText   value="#{vendor.str_VendorType}" /> 
                
            
            </p:column>
            <p:column   filterBy="#{vendor.str_VendorEmail}"  filterMatchMode="contains"     >
          <f:facet name="header">
                <h:outputText value="Email"/>      
          
             </f:facet>
               <h:outputText   value="#{vendor.str_VendorEmail}" /> 
                
            
            </p:column>
            <p:column     headerText="Phone"    >
          
             <h:outputText   value="#{vendor.str_VendorPhone}" /> 
               
                
            
            </p:column>
             
                        <p:column  headerText="action"  exportable="false"  >
                 
             <input type="button" id="#{vendor.int_VendorId}" style="width: 50px" onclick="ShowNewPage2(this.id)" value="View" />
             
	   	   <input type="image"  border="0"  id="#{vendor.int_VendorId}"  src="#{expenseBean.str_Name}images/k1.png" height="20" width="20" alt="Edit"   onclick="ShowNewPage1(this.id)"   />
      
           <h:link outcome="deletevendor.xhtml"
	   		 onclick="return confirm('Are you sure you want to delete #{vendor.str_VendorName}?');" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/k2.png"/> 
	   				<f:param name="int_VendorId" value="#{vendor.int_VendorId}" />
	   		</h:link>
	   		 
	   		
            </p:column>    
             
       
         
            </p:dataTable>
            </div>
             
           
            
            <p:dialog header="Edit Vendor Details" widgetVar="multiVendorDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiVendorDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{vendorBean.selectedVendor}" var="vendor1">
             <tr>
 <th>
    <h:outputText value="Vendor Type:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorType}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Vendor Name:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorName}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Vendor Phone:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorPhone}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Email:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorEmail}"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Vendor Bank Name:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Expense:"/></th>
    <td>
    <h:inputText value="#{vendor1.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <th>
    <h:outputText value="Comments:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorComments}"/></td>
    </tr>
      
            </ui:repeat>
             <tr><td><h:commandButton value="update" action="#{vendorBean.updateVendor(vendor1)}"/></td> <td><h:commandButton action="vendorlist" value="Cancel"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="Vendor Details" widgetVar="multiVendorDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="multiVendorDetail1" style="text-align:center;">
           <table>
              
            <ui:repeat value="#{vendorBean.selectedVendor}" var="vendor1">
             
                <tr>
 <th>
    <h:outputText value="Vendor Type:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorType}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Vendor Name:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorName}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Vendor Phone:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorPhone}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Email:"/></th>
    <td>
   <h:outputText value="#{vendor1.str_VendorEmail}"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Vendor Bank Name:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Expense:"/></th>
    <td>
    <h:outputText value="#{vendor1.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <th>
    <h:outputText value="Comments:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorComments}"/></td>
    </tr>
      
               
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
      
         
      </h:form>     
            
</ui:define>
</ui:composition>