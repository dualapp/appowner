<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{dueBean.indicator2}">
	<ui:define name="content">
<h:head>
    <title>Welcome to Complain Page</title>
     <a href="complain.xhtml">Add Complain</a>
</h:head>
<h:body>
    <h:form>
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/images.jpg" height="50" width="50"></img> <span class="title">View complain or queries.</span>
				</td>
			</tr>
		</tbody>
		</table>
    <div id="page3">
        <h:outputText value="Complain Information : "></h:outputText>
        <p:dataTable  id="complain" var="complain" value="#{complainBean.listComplain}" selection="#{complainBean.selectedComplain}" rowKey="#{complain.int_ComplainID}" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
           
            
           
            <p:column>
                <f:facet name="header">
                    <h:outputText value="ComplaintType" />
                </f:facet>
                <h:outputText value="#{complain.str_ComplainType}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Complaint Nature" />
                </f:facet>
                <h:outputText value="#{complain.ch_Complain}" />
            </p:column>
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Category" />
                </f:facet>
                <h:outputText value="#{complain.str_VendorType}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Assigned To" />
                </f:facet>
                <h:outputText value="#{complain.str_VenderName}"  />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Description" />
                </f:facet>
                <h:outputText value="#{complain.str_Description}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Status" />
                </f:facet>
                <p:graphicImage  height="20" width="20"  value="../../images/enable.jpg" title="Enabled" rendered="#{complain.status==1}"/>
                    <p:graphicImage  height="30" width="30"  value="../../images/disable.png" title="Disabled" rendered="#{complain.status==0}"/>
            </p:column>
      
            <p:column>
                <f:facet name="header">Action</f:facet>
                 <h:panelGroup rendered="#{dueBean.indicator1}">   
               <h:link outcome="deleteComplain.xhtml" >
	   			<p:graphicImage  height="20" width="20"  value="../../images/delete.jpg"/> 
	   				<f:param name="int_ComplainID" value="#{complain.int_ComplainID}" />
	   		</h:link>
                <h:link outcome="ComplainUpdate.xhtml" >
                <p:graphicImage height="20" width="20" value="../../images/edit.jpg"/> 
                <f:param name="int_ComplainID" value="#{complain.int_ComplainID}"/>
                </h:link>
                 <p:commandLink disabled="#{complain.status==0}"     oncomplete="PF('multiDueTemplateDialog1').show()" actionListener="#{complainBean.selectID(complain.int_ComplainID)}">
                  <h:graphicImage  height="20" width="20"  value="#{expenseBean.str_Name}images/role.jpg" title="Admin Reason"/> 
              </p:commandLink>
               </h:panelGroup>
                <h:panelGroup rendered="#{dueBean.indicator}">
                 <p:commandLink   oncomplete="PF('multiDueTemplateDialog3').show()" actionListener="#{complainBean.selectID(complain.int_ComplainID)}">
                  <h:graphicImage  height="20" width="20"  value="#{expenseBean.str_Name}images/role.jpg" title="Admin Reason"/> 
           </p:commandLink>
              </h:panelGroup>
               </p:column>
      
         
    
        </p:dataTable>
         <p:dialog header="Admin Reason" widgetVar="multiDueTemplateDialog1"    showEffect="explode" hideEffect="explode" resizable="false" height="150" width="500" minHeight="100">
        <p:outputPanel id="multiDueTemplateDetail1" style="text-align:center;">
        <table>
        
        <tr>
        <td>
        <h:inputText value="#{complainBean.selectedComplain.adminReason}"/>
        </td>
        </tr>
        </table>
        </p:outputPanel>
        </p:dialog>
         <p:dialog header="Admin Reason" widgetVar="multiDueTemplateDialog3"    showEffect="explode" hideEffect="explode" resizable="false" height="150" width="500" minHeight="100">
        <p:outputPanel id="multiDueTemplateDetail3" style="text-align:center;">
        <fieldset>
           
       <table>
           
             <tr>
               <td><h:outputText  value=" Admin Reason*:"/><br /></td>
                <td><p:inputTextarea style="width:300px; height:100px" id="description" value="#{complainBean.str_Description}" >
              </p:inputTextarea>
              
              </td>
              </tr>
              <tr>
              <td>
              <p:commandButton value="Submit" action="#{complainBean.addAdminReason()}" ajax="false">
              </p:commandButton>
              </td>
              </tr>
         
              </table>
             
              </fieldset>
        </p:outputPanel>
        </p:dialog>
      </div>   
    </h:form>
</h:body>
</ui:define>
</ui:composition>