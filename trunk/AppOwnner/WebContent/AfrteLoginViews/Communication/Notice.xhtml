<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{dueBean.indicator2}">
	<ui:define name="content">
		<h:head>
		<style>
		.preformatted {
    white-space: pre;
}
		</style>
		<script language="javascript" type="text/javascript">
function limitText(limitField, limitCount, limitNum) {
	if (limitField.value.length > limitNum) {
		limitField.value = limitField.value.substring(0, limitNum);
	} else {
		limitCount.value = limitNum - limitField.value.length;
	}
}
</script>
		</h:head>
  <body >
   
    <br/>
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title"> Post An Notice</span>
				</td>
			</tr>
		</tbody>
	</table>
     
       <div id="page3">
  <h:form id="form2" enctype="multipart/form-data">
      <p:outputPanel layout="block" id= "image"   style="background:#ffffff;">  
          
   
     <p:graphicImage id="image1"   value="#{noticeBoardBean.path2}"  title="User Image" style="background:#dddddd; height:200px;width:200px;float:right !important;margin:-10px 155px -700px 0px;"/>
     <p:graphicImage id="image2"   value="#{expenseBean.str_Name}images/txt.png"  rendered="#{noticeBoardBean.txtfile}" title="User Image" style="background:#dddddd; height:200px;width:200px;float:right !important;margin:-10px 155px -700px 0px;"/>
     <p:graphicImage id="image3"   value="#{expenseBean.str_Name}images/doc.jpg"  rendered="#{noticeBoardBean.txtfile1}" title="User Image" style="background:#dddddd; height:200px;width:200px;float:right !important;margin:-10px 155px -700px 0px;"/> </p:outputPanel> 
     <h:panelGroup rendered="#{noticeBoardBean.indicator1}">
     <p:commandButton id="submit2" value="Attach File" actionListener="#{noticeBoardBean.changeListener}"  ajax="false" style="height:30px;width:70px;float:right !important;margin:200px 200px 0px -500px;">&#150;  &#150;
    <p:ajax event="click"    render=":upload"/></p:commandButton></h:panelGroup>
            <h:panelGroup rendered="#{noticeBoardBean.indicator}" style="height:30px;width:70px;float:right !important;margin:200px 200px 0px -500px;">
                <h:inputFile id="file"  label="file" value="#{noticeBoardBean.part}" required="true" requiredMessage="Select file name">
		            
			         
			         
			       
		    <f:validator validatorId="NoticeUploadValidator" />
		     </h:inputFile>
		
		<p:message style="color: red" for="file" /><br/><br/>
 
		<h:commandButton id="submit1" 
		                 action="#{noticeBoardBean.uploadFile}" 
			             value="upload file"  style="height: 20px;font-size: 10px;color: #fff;background-color: #287bbc;border-color: #1b5480;">
			            <f:ajax execute="file" event="click" render=":form2" />
			             </h:commandButton>
       
			          </h:panelGroup>
		</h:form>	          
	 <h:form id="form1" enctype="multipart/form-data">		         
	 <table   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">		         
        <tr>
           <th align="left">Subject</th>
            <td>&#150; &#150;<p:inputText id="str_Subject" value="#{noticeBoardBean.str_Subject}" styleClass="preformatted" required="true" requiredMessage="Subject can not be Empty" maxlength="20" size="60">
            
            </p:inputText>
             <p:message for="str_Subject"/> </td> 
            </tr>
           <tr>
            <th align="left">Flash the notice?</th>
           <td>&#150; &#150;<p:selectBooleanCheckbox id="str_Flash" value="#{noticeBoardBean.bool_Flash}"/>&#150;  Check this box if you want to flash this message to the the members, when they login into their accounts       
        </td>
            </tr> 
             <tr>
              <th align="left">Expires By</th>
              <td>&#150; &#150; <p:selectOneMenu id="int_ExpireDay" value="#{noticeBoardBean.int_ExpireDay}">
                  <f:selectItem itemLabel="1 Day" itemValue="1"/>
                   <f:selectItem itemLabel="1 Week" itemValue="7"/>
                    <f:selectItem itemLabel="15 Days" itemValue="15"/>
                     <f:selectItem itemLabel="One Month" itemValue="30"/>
                 </p:selectOneMenu>
             </td>
              
             </tr>
            
          
            
            
          
            <tr>
             </tr>
             <tr>
            <th align="left">Notice Description</th>
             
                <td colspan="2"><h:inputTextarea id="description" value="#{noticeBoardBean.str_Description}" type="text" onkeyup="limitTextArea(this,500);" 
onkeydown="limitTextArea(this,500);"  style="width:550px; height:240px" 
  required="true" requiredMessage="Description should not Empty"></h:inputTextarea>

  <p:message for="description" display="text"/>  




              
                
         </td>
             </tr>
             
		
             <tr>
           <th align="left">Special Notice?</th>
            
             <td> &#150; &#150;<p:selectBooleanCheckbox id="bool_SpecialNotice" value="#{noticeBoardBean.bool_SpecialNotice}"/> &#150;Notices are emailed only to those members who have opted to receive emails.Check this box to mark this as a special notic Special notices will also be emailed to relevant members  <br/>  &#150; &#150; &#150; &#150; &#150; &#150; &#150; including those who have marked their preference NOT to receieve emaHence, this must be used sparingly for some critical messages such as AGM notices or emergency repair notices.
             </td>
         </tr>
            <tr> 
        <th align="left">Copy Maintenance Staff?</th>
          <td>&#150; &#150; <p:selectBooleanCheckbox id="bool_Staff" value="#{noticeBoardBean.bool_Staff}"/> &#150; If this is checked the notice will be sent to all staff who has email ids on record.
     </td>
            </tr>
            <tr>
          <th align="left">Visible to</th>
            
             <td>&#150; &#150; <p:selectOneMenu id="options" value="#{noticeBoardBean.str_Visible}" >
                <f:selectItem itemLabel="Only Member of this Complex" itemValue="1" />
                <f:selectItem itemLabel="Only Owner of this Complex" itemValue="2" />
                 
             </p:selectOneMenu>
            </td>
            </tr>
           
           
          
          
           
            
        <tr>     <td></td>
                 <td>&#150; &#150;<p:commandButton id="submit" styleClass="btn" value="Submit" action="#{noticeBoardBean.addNotice}" ajax="false" >
          
                 </p:commandButton>
<p:button  styleClass="btn" id="cancel" value="Cancel" outcome="noticeView.xhtml"   style="margin-left:2em;"/></td>
                
            </tr>
     </table>
    </h:form>
    </div>
    </body>
</ui:define>
</ui:composition>

