<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="../../include/templates/template1.xhtml">
	<ui:define name="content">
<h:head><title>User Registration</title>
 <link rel="stylesheet" type="text/css" href="assets/css/ace.min.css" />
</h:head>
<body>  
 <h:form id="form">
 <p:growl id="msgs" showDetail="true" />
 <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px"  class="src">
		
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/members.png" height="50" width="50"></img> <span class="title">Community Block Details</span>
				</td>
			</tr>
		
	</table>
 
 <div id="page3">
 <div class="gsTitleDiv">Instructions</div>
 <p:panel id="panel"  style="border:none;">
 <p>You can make changes to block names and number of houses by double clicking on them.</p>
<p>Select a block and then click on Delete Block to delete that block.</p>
<p>When you rename a block to an existing block name, both the blocks will be merged only after "Next" Button is clicked.</p>
<p>Houses which are not associated to any block will be associated to Single Building.</p>
<p>Unless the Community Setup is complete, the changes that are made will not be saved.</p></p:panel>
 <table style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"><tr><td>  
	     &#150; &#150;   <p:commandButton style="width:120px;height:25px"  process="DT" update=":form:blockDetail" icon="ui-icon-plus"  value="Create New" oncomplete="PF('blockDialog').show()" /> 
	    &#150; &#150; <p:button  style="width:120px;height:25px" outcome="instructions.xhtml" value="Back"/> 
	     &#150; &#150;<p:button  style="width:120px;height:25px" outcome="housedetails.xhtml" value="Next"/> </td>
	    </tr></table>
	    <p:contextMenu for="DT" widgetVar="bMenu">   
       <p:menuitem value="Edit Cell" icon="ui-icon-search" onclick="PF('cellBlocks').showCellEditor();return false;"/>  
       <p:menuitem value="Hide Menu" icon="ui-icon-close" onclick="PF('bMenu').hide()"/>  
   </p:contextMenu> 
  <p:dataTable id="DT"  editable="true" editMode="cell" widgetVar="cellBlocks" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" 
             var="blockDetails"  value="#{apartmentDetailsBean.listBlockDetails}"> 
             <f:facet name="header">
           Cell Editing with Click and RightClick
       </f:facet>
       <p:ajax event="cellEdit" listener="#{apartmentDetailsBean.onCellEdit}"  process="@this" update="@this" />
                <p:column headerText="Block Name">
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{blockDetails.str_BlockName}" /></f:facet>
               <f:facet name="input"><p:inputText value="#{blockDetails.str_BlockName}" style="width:96%" label="Block Name"/></f:facet>
           </p:cellEditor>
       </p:column>
        <p:column headerText="NO.Of Houses">
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{blockDetails.int_NoOfHouses}" /></f:facet>
               <f:facet name="input"><p:inputText value="#{blockDetails.int_NoOfHouses}" style="width:96%" label="Block Name"/></f:facet>
           </p:cellEditor>
       </p:column>
 
	</p:dataTable>
  
  </div>
 <p:dialog header="Add new Block" widgetVar="blockDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="blockDetail" style="text-align:center;">
       <table style="overflow:hidden;border:0pt none;width: 50%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
	<tr><th> 
               <h:outputText value="Block Name" /> </th>
             
	<td><h:inputText    id="blockName" value="#{apartmentDetailsBean.str_BlockName}"/></td>
	 
	</tr>
	<tr><th><h:outputText value="No. Of Houses" /> </th>
             
	<td><h:inputText    id="noofhouses" value="#{apartmentDetailsBean.int_NoOfHouse}"/></td></tr>
	<tr><td><h:commandButton   styleClass="btn" id="Cancel"  value="Cancel"     action="blockdetails.xhtml" /></td><td><h:commandButton   styleClass="btn" id="submit"  value="Submit"     action="#{apartmentDetailsBean.saveBlockDetails}" />
	 </td>
	 </tr>
	 </table>
	 </p:outputPanel>
	 </p:dialog>
	 </h:form>
	 </body>
	 </ui:define>
	 </ui:composition>