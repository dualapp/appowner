<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="../../include/templates/template1.xhtml">
	<ui:define name="content">
	 
	 
<h:head><title>User Registration</title>
 <link rel="stylesheet" type="text/css" href="assets/css/ace.min.css" />
  <style>
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
.ui-growl-item-container.ui-state-highlight {
    border-color: pink;
}
        div[id="form:ui-growl_container"] > div{
        
            background-color: green !important;
        }
</style>

</h:head>
 
<h:body>  

 <h:form id="form">
  
 <p:growl id="ui-growl" globalOnly="true" sticky="true" />
 <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px"  class="src">
		
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/members.png" height="50" width="50"></img> <span class="title">Add a Member</span>
				</td>
			</tr>
		
	</table>
  
 <div id="page3">
 
 <p:panel id="panel"  style="border:none;"> 
 <div class="gsTitleDiv">Login Information<br/><hr/></div>
  
<table>
                <tr>
            <td><p:outputLabel  for="str_username" value="User Name:"/></td>
                       
            <td><p:inputText id="str_username" value="#{cls_UserBean.str_Username}" required="true" validatorMessage="Must starts with alphanumeric[0-9 or a-z] min 3 char and max 15 char!" requiredMessage="Enter User Name!">
            <f:validateRegex pattern="^[a-z0-9]{3,15}$"/>
            <p:ajax event="blur" update="out2" listener="#{cls_UserBean.dataChange1}" partialSubmit="true"/>   
            </p:inputText>&#150;
            <p:outputLabel id="out2" value="#{cls_UserBean.value}" />
            </td><td><p:message for="str_username" display="text"/></td>
            </tr>
   
            <tr>
            <td><p:outputLabel  for="str_Password"  value="Password :"/> </td>          
            <td><p:password  id="str_Password"  label="Password" value="#{cls_UserBean.str_Password}"       feedback="true" inline="true"         required="true" requiredMessage="Enter Password!" validatorMessage="Must contain alfanumeric lower case with one symbol from the list[@#$],with min 6 char and max 10 char!">
          <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[@#$]).{6,20})"/>
            </p:password></td> <td><p:message for="str_Password" display="text"/></td></tr>
             <tr>
            <td><p:outputLabel for="str_ConfirmPassword" value="Confirm Password :"/></td>
             <td><p:password  id="str_ConfirmPassword" label="Confirm Password" value="#{cls_UserBean.str_ConfirmPassword}" required="true"                requiredMessage="Enter Confirm Password!">
             
             </p:password></td> <td><p:message for="str_ConfirmPassword" display="text"/></td></tr>
              
            <tr><td colspan="2" align="left">
           <div class="gsTitleDiv">General Information</div> </td></tr> 
            <tr>
            <td><p:outputLabel for="str_FirstName" value="First Name :" />
             </td>          
            <td><p:inputText id="str_FirstName" value="#{cls_UserBean.str_FirstName}" required="true" requiredMessage="Enter First Name!">
            </p:inputText></td>
            <td><p:message for="str_FirstName" dispay="text"/></td>
            </tr> 
            <tr>
            <td><p:outputLabel for="str_LastName" value="Last Name :" />
              </td>           
            <td><p:inputText id="str_LastName" value="#{cls_UserBean.str_LastName}"  required="true" requiredMessage="Enter First Name!">
            </p:inputText></td><td><p:message for="str_LastName" display="text"/></td></tr>
             <tr>
             <td><p:outputLabel for="str_Email" value="Email :" /></td>
                        
             <td><p:inputText id="str_Email" value="#{cls_UserBean.str_Email}" required="true" validatorMessage=" Email id should be like abc@gmail.com" requiredMessage="Enter Email!">
             <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
             <p:ajax event="blur" update="out3" listener="#{cls_UserBean.dataChange2}" partialSubmit="true" />
            </p:inputText> <p:outputLabel id="out3" value="#{cls_UserBean.value1}" /></td><td><p:message for="str_Email" display="text"/></td></tr>
            <tr>
            <td><p:outputLabel for="str_ConfirmEmail"  value="Confirm Email :" /></td>
                      
            <td><p:inputText id="str_ConfirmEmail" value="#{cls_UserBean.str_ConfirmEmail}"                required="true" requiredMessage="Enter Confirm Email!">
            </p:inputText></td> <td><p:message for="str_ConfirmEmail" display="text"/></td></tr>
                <tr>
           <td> <p:outputLabel for="str_PhoneNo" value="Phone No :" /></td>
                       
 
            <td><p:inputText id="str_PhoneNo" validatorMessage="Required 10 digit"  onkeyup="this.value=this.value.replace(/[^\d]/,'')" value="#{cls_UserBean.str_PhoneNo}"   maxlength="10" required="true"                requiredMessage="Enter Phone No!">
             
            <f:validateLength minimum="10" />
                    
                     <p:ajax event="keyup" update="PhoneMsg" />
            </p:inputText> </td><td><p:message  id="PhoneMsg" for="str_PhoneNo" display="text"/></td> </tr> 
            <tr><td colspan="2" align="left">
           <div class="gsTitleDiv">Apartment Information</div></td></tr>
            <tr>
            <td><p:outputLabel for="str_Block" value="Block :"/>
            </td>          
            <td><h:selectOneMenu id="str_Block" value="#{cls_UserBean.str_BlockName}" requiredMessage="Select Block Name!"  valueChangeListener="#{cls_UserBeanMain.blockChangeListener}"   required="true">
            <f:selectItem itemLabel="Select Block"  itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{cls_UserBean.blockNameList}"/>
             <p:ajax event="change" update="str_House" process="str_Block"/>
             </h:selectOneMenu>  
            </td><td><p:message for="str_Block"   display="text"/></td>
            </tr> 
            
          <tr>
             <td><p:outputLabel  for="str_House" value="House:" /></td>
                     
             <td><h:selectOneMenu id="str_House"       value="#{cls_UserBean.str_HouseNo}" required="true" valueChangeListener="#{cls_UserBean.houseNoChangeListener}"     requiredMessage="Select Flat Name!">
            <f:selectItem itemLabel="Select Block"   itemValue="" noSelectionOption="true" />
            
            <f:selectItems value="#{cls_UserBean.houseNoList}"/>
              
                                </h:selectOneMenu>
            
             </td><td><p:message for="str_House"   display="text"/></td>  </tr> 

         <tr>
             <td><p:outputLabel for="options" value="User Role: " /></td>
         <td><h:selectOneRadio id="options"    required="true" requiredMessage="Choose User Role" value="#{cls_UserBean.int_UserRole}" valueChangeListener="#{cls_UserBean.roleChangeListener}">
            <f:selectItem itemLabel="Tenant" itemValue="1" />
            <f:selectItem itemLabel="Owner" itemValue="2" />
            <f:ajax  event="click" execute="@form"   render="ui-growl :houseform "/>
            </h:selectOneRadio></td><td><p:message for="options" display="text"/></td> </tr>
             
            </table>
             <div>
             <hr/>
             </div>
             		
             <h:commandButton id="addUser"  styleClass="btn"    value="Add User" action="#{cls_UserBean.addnewUser}"  />
            &#150; &#150;  
            <h:commandButton styleClass="btn" id="reset" value=" Reset"  type="reset" />
             
            </p:panel>
            </div>
  </h:form>
       <h:form id="houseform">
            <div id="page3">
 <p:panel id="parentPanel"  style="border:none;" rendered="#{cls_UserBean.render}">
   
 <p:panel id="panelOne"  style="border:none;">
 <div class="gsTitleDiv">House Details of  #{cls_UserBean.str_BlockName}, #{cls_UserBean.str_HouseNo}</div><hr/>
        <table><tr>
    <th width="10%"><p:outputLabel value="Size Of House:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.housedetails.dbl_HouseSize}"/></td>
   
   <th width="10%"> <p:outputLabel value="Type Of House:"/></th><td width="20%"><p:outputLabel value="#{cls_UserBean.housedetails.str_TypeOfHouse}"/></td>
   
  <th width="10%">  <p:outputLabel value="No Of Bathrooms:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.housedetails.int_NoOfBathRooms}"/></td>
  <th width="10%"></th><td width="10%"></td>
  </tr>
 
  <tr>
   
   <th> <p:outputLabel value="No Of Balconies:"/></th><td><p:outputLabel value="#{cls_UserBean.housedetails.int_NoOfBalconies}"/></td>
   
   <th> <p:outputLabel value="Intercom No:"/></th><td><p:outputLabel value="#{cls_UserBean.housedetails.str_HouseNo}"/></td>
   
   <th> <p:outputLabel value="Occupancy Status:"/></th><td><p:outputLabel value="#{cls_UserBean.housedetails.is_Rented}"/></td>
   </tr></table>
  </p:panel>
  <p:panel id="panelTwo"  style="border:none;"  >
 <div class="gsTitleDiv">Registered Primary Owner Details</div><hr/>
        <table><tr>
    <th width="10%"><p:outputLabel value="Name:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.u.str_FirstName}"/></td>
   
   <th width="10%"> <p:outputLabel value="Email:"/></th><td width="20%"><p:outputLabel value="#{cls_UserBean.u.str_Email}"/></td>
   
  <th width="10%">  <p:outputLabel value="Mobile No:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.u.str_PhoneNo}"/></td>  
  <th width="10%"></th><td width="10%"></td>
   </tr>
   <tr>
   
   <th> <p:outputLabel value="Alternate No:"/></th><td><p:outputLabel value=""/></td>
   
   <th> <p:outputLabel value="Postal Address:"/></th><td><p:outputLabel value="#{cls_UserBean.u.str_City}"/><p:outputLabel value="#{cls_UserBean.u.str_State}"/><p:outputLabel value="#{cls_UserBean.u.str_Country}"/></td>
    <th > <p:outputLabel value="Land Line No:"/></th><td  > <p:outputLabel value=" "/></td>
   </tr></table>
  </p:panel>
  <p:panel id="panelThree"  style="border:none;">
 <div class="gsTitleDiv">Tenant Details</div><hr/>
       <table><tr>
    <th width="10%"><p:outputLabel value="Name:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.u1.str_FirstName}"/></td>
   
   <th width="10%"> <p:outputLabel value="Email:"/></th><td width="20%"><p:outputLabel value="#{cls_UserBean.u1.str_Email}"/></td>
   
  <th width="10%">  <p:outputLabel value="Mobile No:"/></th><td width="10%"><p:outputLabel value="#{cls_UserBean.u1.str_PhoneNo}"/></td>
   
   <th width="10%"> <p:outputLabel value="Land Line No:"/></th><td width="10%"><p:outputLabel value=""/></td></tr>
   <tr>
    <th> <p:outputLabel value=" Altername No:"/></th><td><p:outputLabel value=""/></td>
   
   <th> <p:outputLabel value="Rental Agrement:"/></th><td><p:outputLabel value=""/></td>
   
   <th> <p:outputLabel value="Postal Address:"/></th><td><p:outputLabel value="#{cls_UserBean.u1.str_City}"/><p:outputLabel value="#{cls_UserBean.u1.str_State}"/><p:outputLabel value="#{cls_UserBean.u1.str_Country}"/></td>
    
   </tr></table>
  </p:panel>
    
  </p:panel>
  </div>
   </h:form>
   
             
            
          </h:body>
            </ui:define>
            </ui:composition>
            