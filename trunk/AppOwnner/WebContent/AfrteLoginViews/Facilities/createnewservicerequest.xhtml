<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{expenseBean.templateIndicator}">
	<ui:define name="content">
 <f:metadata>
	 
	 
	<f:viewAction action="#{loginBean.getUserExtraInfo}" />
</f:metadata>
<h:head>
<style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
</style>
</h:head>
    <a href="servicerequest.xhtml">>>Back To Service Request</a >
    <h:form>
     	<p:growl id="ui-growl" globalOnly="true" sticky="true" />
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title">Create New Service Request</span>
				</td>
			</tr>
		</tbody>
	</table>
    <div id="page3">
      
           <div class="gsTitleDiv">Apartment Details <br/><hr/></div>
           
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
    
    <tr><th><p:outputLabel value="Created by"/></th>  <td><p:inputText readonly="true" value="#{loginBean.str_FirstName}"/></td>   <th><p:outputLabel value="Organization"/></th> <td><h:selectOneMenu value="#{loginBean.str_ApartmentName}">
     
    <f:selectItem itemLabel="#{loginBean.str_ApartmentName}"  itemValue="#{loginBean.str_ApartmentName}" />
    </h:selectOneMenu>
    </td></tr>
    <tr>    <th><p:outputLabel value="Block"/></th>  <td><h:selectOneMenu id="str_Block"   value="#{loginBean.str_Block}" valueChangeListener="#{loginBean.blockChangeListener}"   required="true">
            <f:selectItem itemLabel="Select Block"  itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{cls_UserBean.blockNameList}"/>
             <p:ajax event="change" update="str_House" process="str_Block"/>
             </h:selectOneMenu>  
    </td></tr>
   <tr><th><p:outputLabel value="Flat Name"/></th> <td><h:selectOneMenu id="str_House"       value="#{loginBean.str_Flat}" required="true" valueChangeListener="#{loginBean.houseNoChangeListener}"     requiredMessage="Enter Flat Name!">
            
            <f:selectItems value="#{loginBean.houseNoList}"/>
            
                                </h:selectOneMenu>
            
             </td> 
   <th><p:outputLabel value="Type"/></th> <td><p:inputText  readonly="true" value="#{loginBean.str_UserType}" /></td></tr>
    
    <tr><th><p:outputLabel value="Name"/></th> <td><h:selectOneMenu value="#{loginBean.str_FirstName}" id="name">
    <f:selectItem itemLabel="Select "   itemValue="" noSelectionOption="true" />
    <f:selectItem itemLabel="#{loginBean.str_FirstName}"   itemValue="#{loginBean.str_FirstName}"/>
    </h:selectOneMenu>
    </td>   <th><p:outputLabel value="Email"/></th>  <td><p:inputText  readonly="true" value="#{loginBean.str_EmailId}" id="email">
     
    </p:inputText>
    </td></tr>
    <tr><th><p:outputLabel value="Mobile"/></th>  <td><p:inputText  maxlength="10" readonly="true" value="#{loginBean.str_Mobile}"/></td>   <th><p:outputLabel value="LandLine"/></th>  <td><p:inputText  readonly="true" value="#{loginBean.str_LandLineNum}"/></td></tr>
    </table>
    <div class="gsTitleDiv">Service Request Details<br/><hr/></div>
     <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
    <tr><th><p:outputLabel value="Date Open"/></th>  <td><p:inputText id="openDate" required="true" requiredMessage="Select Open Date "  readonly="true"  value="#{loginBean.dat_OpenDate}"/> 
     <p:message  id="openDateMsg" for="openDate" display="text"/>
     </td> <th><p:outputLabel value="Date Closed"/></th>  <td><p:inputText readonly="true" value="#{loginBean.str_CloseDate}"/></td></tr>
    <tr><th><p:outputLabel value="Status"/></th> <td><p:inputText value="#{expenseBean.str_Status}" readonly="true"/></td> 
      <th><p:outputLabel for="str_VendorType" value="VendorCategory"/></th>  
      <td><h:selectOneMenu id="str_VendorType" value="#{loginBean.str_VendorType}" required="true" requiredMessage="Select Category " valueChangeListener="#{vendorTransactionBean.vendorTypeChangeListener}">
       <f:selectItem itemLabel="Select name"  itemValue="" noSelectionOption="true" />
    <f:selectItems value="#{vendorBean.str_VendorTypeList}"/>
     <p:ajax event="change" update="str_VendorName1" process="str_VendorType"/>
    </h:selectOneMenu>
     <p:message  id="str_VendorTypeMsg" for="str_VendorType" display="text"/>
    </td></tr>
    <tr>
 <th><p:outputLabel for="Title" value="title"/></th>  <td><p:inputText id="Title" required="true" requiredMessage="  Enter Title" value="#{loginBean.str_Title}">
   <p:ajax event="blur" update="TitleMsg" />
   </p:inputText>
   <p:message  id="TitleMsg" for="Title" display="text"/>
   </td>
   
 
            <th><p:outputLabel for="str_VendorName1" value="Vendor Name  " /></th>
            <td><h:selectOneMenu id="str_VendorName1"    value="#{loginBean.str_VendorName}"  >
                <f:selectItem itemLabel="Select name"  itemValue="" noSelectionOption="true" />
                <f:selectItems value="#{vendorTransactionBean.str_VendorNameByType}"/>
                  
            </h:selectOneMenu></td>
           
    
   </tr>
   
   </table>
   
   
   <table  style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr><th><p:outputLabel for="editor"  value="Description"/></th>  <td></td><td><p:editor id="editor" required="true" requiredMessage=" Enter Description"  widgetVar="editorWidget" value="#{loginBean.str_Description}" width="550" height="280" style="margin-bottom:20px;"  /></td>
    <td> <p:message  id="editorMsg" for="editor" display="text"/> </td>
   </tr>
   <tr><td> <h:commandButton  styleClass="btn" style="width:100px" update=":form:ui-growl editorMsg TitleMsg str_VendorTypeMsg"  value="Submit" action="#{loginBean.addServiceRequest()}"/></td><td> <h:commandButton  styleClass="btn" style="width:100px" value="Cancel" type="reset"/> </td></tr>
                 
    </table>
    </div>
    
    <a href="servicerequest.xhtml">>>Back To Service Request</a >
    </h:form>
	</ui:define>
</ui:composition>
 