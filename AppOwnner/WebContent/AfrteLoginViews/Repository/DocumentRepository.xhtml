<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
		template="#{expenseBean.str_Name}include/templates/template.xhtml">
	<ui:define name="content">
<h:head>
    <title>DocumentRepository</title>
</h:head>
 <style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:150px;
          }
          select
          {
           height:25px;
           weight:150px;
          }
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
.ui-growl-item-container.ui-state-highlight {
    border-color: pink;
}
        div[id="form:ui-growl_container"] > div{
        
            background-color: green !important;
        }

}
      </style>	
      <body>
      <h:form id="button">
<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/document.png" height="45" width="45"></img> <span class="title"> Document Detail </span>
					<td><h:outputText value="Search By Name"></h:outputText>
					  <h:inputText  id="ch_Ad_Type" value="#{scriptBean.username}" style="width:45%;height:90%;"></h:inputText>   &#150;         &#150;      &#150;    &#150;
					  <p:commandButton id="button1" value="Search"  action="#{scriptBean.getListCreatedocument()}"  update="user" ajax="false"></p:commandButton></td>
				</td>
			</tr>
		</tbody>
	</table>
    <p:outputPanel   rendered="#{request.getParameter('render')}">
				  <body onLoad="PF('multiDueTemplateDialog').show()" />
					</p:outputPanel>
					
 
  
       
        <p:growl id="ui-growl" globalOnly="true" sticky="true"/> 
        <p:dataTable id="user" var="user" value="#{scriptBean.listCreatedocument}" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"  resizableColumns="true" rows="5" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "
        rowsPerPageTemplate="10,20,30,40,50" selectionMode="single" selection="#{scriptBean.allinfo}" rowKey="#{user.int_DocumentID}"  paginatorPosition="bottom" >
       <p:ajax event="rowSelect" listener="#{scriptBean.desabledListener}" execute="@form" immediate="true"/>
           <p:column>
                <f:facet name="header">
                <h:outputText value="Document Name"/>
                </f:facet>
                   
                  <h:commandLink value="#{user.str_FolderNM}"  action="#{scriptBean.downloadFile(user.str_FileNM,user.image)}"   icon="ui-icon-arrowthick-1-s">
        
        <p:fileDownload value="#{scriptBean.downloadFile}" />
       </h:commandLink>
     
               </p:column>
        <p:column>
                <f:facet name="header">
                    <h:outputText value="Description" />
                </f:facet>
                 
                <h:outputText value="#{user.str_Description}" />
            </p:column>    
            
          <p:column>
            <f:facet name="header">
                
                    <h:outputText value="Categeory" />
                </f:facet>
                <h:outputText value="#{user.int_Document_CatNM}" />
            </p:column>
            
              <p:column>
           <f:facet name="header">
                
                    <h:outputText value="Uploaded By" />
                </f:facet>
                <h:outputText value="#{user.username}" />
            </p:column>--> 
            
            <p:column>
           <f:facet name="header">
                
                    <h:outputText value="Uploaded On" />
                </f:facet>
                <h:outputText value="#{user.str_ApartmentName}" />
            </p:column> 
            
               <p:column>
           <f:facet name="header">
                
                    <h:outputText value="Accessible to" />
                </f:facet>
                <h:outputText value="#{user.ch_Access}" />
                </p:column>
                <p:column>
                 <f:facet name="header">
               <h:outputText value="post date" />
                </f:facet>
                <h:outputText value="#{user.date}" >
                 <f:convertDateTime pattern="dd-MM-yyyy"/>
                 </h:outputText>
                
                </p:column>
            
           <p:column>
           <f:facet name="header">
                
                    <h:outputText value="Action" />
                </f:facet>
                 <p:commandLink  action="#{scriptBean.editcategory()}"  ajax="false"  >
	   		      <p:graphicImage height="20" width="20" alt="delete"
								value="#{expenseBean.str_Name}images/edit.jpg" />
								
								</p:commandLink>
								<p:commandLink  action="#{scriptBean.viewcategory()}" ajax="false" >
	   		      <p:graphicImage height="20" width="20" alt="delete"
								value="#{expenseBean.str_Name}images/view.jpg" />
								
								</p:commandLink>
	   	      <h:link outcome="deletepost.xhtml"
							onclick="return confirm('Are you sure you want to delete ?');">
							<p:graphicImage height="20" width="20" alt="delete"
								value="#{expenseBean.str_Name}images/delete.jpg" />
							<f:param name="int_DocumentID"
								value="#{user.int_DocumentID}" />
						</h:link>
	   	     </p:column>
          
        </p:dataTable>
        </h:form>
        <p:dialog widgetVar="multiDueTemplateDialog" header="Message" showEffect="explode" hideEffect="explode" resizable="false" height="100" width="500" >
             <form id="mailform">
             <table>
      
              <h5>Message Has been Send Succcessfully.....</h5>
         </table>
         </form>
          </p:dialog>
          
        </body>
        </ui:define>
        
       
        
        
 </ui:composition>  