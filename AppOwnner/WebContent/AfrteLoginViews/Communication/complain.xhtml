
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template.xhtml">
	<ui:define name="content">
<h:head></h:head>
  <body bgcolor="green">
    <h:form id="form1" enctype="multipart/form-data">
     <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/images.jpg" height="50" width="50"></img> <span class="title">send us your complain or queries.</span>
				</td>
			</tr>
		</tbody>
		</table>
	 <div id="page3">
   <table   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
       <p:messages id="messages"/>  
     
          
           <tr>
            <td><h:outputText  value="Complaint Type*:" /></td>
            
              
              <td><p:selectOneRadio id="option" value="#{complainBean.str_ComplainType}"  required="true" requiredMessage="Complaint Type should not Empty" valueChangeListener="#{complainBean.selectRadioButton}">  
                <f:selectItem itemLabel="Personal" itemValue="Personal" />
                
                
               <f:selectItem itemLabel="Community" itemValue="Community" />
                <f:ajax event="change" execute="option" render="@form"/>
               </p:selectOneRadio>
               </td>
              
              
              
        
            </tr>
             <tr>
              <h:panelGroup id="performed"  rendered="#{complainBean.str_ComplainType eq 'Personal'}">
           
              <td><h:outputText  value="Block:" /></td>
              <td><p:selectOneMenu id="Block" value="#{complainBean.block}" valueChangeListener="#{complainBean.blockChangeListener}" style="width:150px">
                  <f:selectItem itemLabel="Select Block" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{complainBean.blocks}" />
                   <p:ajax event="change" update="Flat" process="Block"/>
                 </p:selectOneMenu>
             </td>
             <td><h:outputText  value="FlatNo:" /></td>
               <td><p:selectOneMenu id="Flat" value="#{complainBean.flat}" valueChangeListener="#{complainBean.flatChangeListener}" style="width:150px">
                  <f:selectItem itemLabel="Select Flat" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{complainBean.flats}" />
                    <p:ajax event="change" update="BeHalfOf" process="Flat"/>
                 </p:selectOneMenu>
             </td>
             <td><h:outputText  value="BeHalfOf:" /></td>
              <td><p:selectOneMenu id="BeHalfOf" value="#{complainBean.beHalfOf}"  style="width:150px">
                  <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{complainBean.beHalfOfs}" />
                 </p:selectOneMenu>
             </td>
             
           
             </h:panelGroup>
             </tr>
             <tr>
             <td><h:outputText for="str_VendorType" value="Category*:" /></td>
            
             <td><p:selectOneMenu id="str_VendorType" value="#{complainBean.str_VendorType}"  valueChangeListener="#{complainBean.vendorChangeListener}" style="width:150px">
                  <f:selectItem itemLabel="Select Vendor" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{complainBean.str_VendorTypes}" />
                 <p:ajax event="change" update="str_VenderName" process="str_VendorType"/>
                 </p:selectOneMenu>
             </td>
             
          <td>  <h:outputText for="str_VendorName" value="Assigned To:" /></td> 
            
           <td> <p:selectOneMenu id="str_VenderName" value="#{complainBean.str_VenderName}" style="width:150px">
                <f:selectItem itemLabel="Not Assigned"  itemValue="" noSelectionOption="true" />
                <f:selectItems  value ="#{complainBean.str_VendorNames}"/>
              </p:selectOneMenu></td> 
           
            </tr>
            
            
          
             
            
          
           <tr>
            <td><h:outputText  value="Complain Nature*:" /></td>
            
             <td><p:selectOneRadio id="options" value="#{complainBean.ch_Complain}"  required="true" requiredMessage="Compalint Nature should not Empty">
                <f:selectItem itemLabel="Complaint" itemValue="C" />
                <f:selectItem itemLabel="Suggestion" itemValue="S" />
                 <f:selectItem itemLabel="Maintenance Activity" itemValue="P" />
               </p:selectOneRadio>
            </td>
            </tr>
        
            <tr>
               <td><h:outputText  value="Description*:"/><br /><small>(max of 1000 characters)</small></td>
                <td><p:inputTextarea rows="8" cols="30"  id="description" value="#{complainBean.str_Description}" required="true" requiredMessage="Complain box should not Empty">
              </p:inputTextarea>
               
                
            </td>
            </tr>
            <tr>
            <td><h:outputText  value="Attachment If Any:"/></td>
            <td><h:inputFile id="file"  label="file" value="#{complainBean.part}"  required="true"   requiredMessage="File not selected !!">
		            
			         
			         
			       
		    <f:validator validatorId="FileUploadValidator" />
		     </h:inputFile>
		
		<h:message style="color: red" for="file" /><br />
 
		<h:commandButton id="submit1" 
		                 action="#{complainBean.uploadFile}"
			             value="upload file"  style="height: 20px;font-size: 10px;color: #fff;background-color: #287bbc;border-color: #1b5480;">
			            <f:ajax execute="file" event="click"  />
			             </h:commandButton>
       
		<h:outputText value="#{complainBean.statusMessage}"
			          rendered="#{not empty complainBean.statusMessage}" /> </td></tr>
			         
			     
			   
			           
  
          
            
            
          
            <tr>
            <td></td>
                <td><p:commandButton id="submit" value="Submit" action="#{complainBean.addComplain}" ajax="false" /></td>
                
            </tr>
           
     </table>
     </div>
     </h:form>
     </body>
     
</ui:define>
</ui:composition>