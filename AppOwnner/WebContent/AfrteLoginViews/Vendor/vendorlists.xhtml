 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{expenseBean.templateIndicator}">
	<ui:define name="content">
<h:head>
    <title> </title>
    <link href="include/assets/css/ace.min.css" rel="stylesheet" />
    
    <script src="JavaScript/ModalPopupWindow.js" type="text/javascript"></script>
   <style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
</style>
</h:head>


<h:body>

 
</h:body>
  <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title">Vendar List</span>
				</td>
			</tr>
		</tbody>
	</table>
 <h:form  id="form">
 
    
 <!--  <legend  align="left" style="background-color:#438eb9; color:#fff;">
 <table style="width: 80%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
  <tr><td><p:selectOneMenu   value="#{vendorBean.str_VendorName }"   style="width:200px" >
            <f:selectItem itemLabel="Select Name" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.vendorNameList}" />
            </p:selectOneMenu>
            <p:commandButton   update="DT"   value="Search"  action="#{vendorBean.getVendorList()}"/>
             
</td>
 <td><p:selectOneMenu   value="#{vendorBean.str_VendorType }"   style="width:200px" >
            <f:selectItem itemLabel="Select Type" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.str_VendorTypeList}" />
            </p:selectOneMenu>
            <h:commandButton    update="DT"    value="Search"   action="#{vendorBean.getVendorList()}"/>
             
</td>  </tr>
</table>
</legend>-->
 <p:growl id="ui-growl" globalOnly="true" sticky="true" />
  
		<div id="page3">
 <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px">
 <tr><td>
  <p:button style="width:120px;height:25px"  rendered="#{expenseBean.isEnable}"  icon="ui-icon-plus"  outcome="/AfrteLoginViews/Vendor/addvendor.xhtml" value="create new" /> 
   
	 &#150; &#150;  <p:menuButton style="width:120px;height:25px"  icon="ui-icon-gear" value="Action">
        <p:menuitem value="Assign Selected"  action="#"/>
        <p:menuitem value="close Selected" action="#"/>
        <p:menuitem value="View Chart" action="#"/>
         <p:menuitem value="View Summary" action="#"/>
         <p:menuitem value="Export To Excel" action="#"/>
        </p:menuButton>
         
          &#150; &#150;  <p:commandButton  style="width:120px;height:25px" process="DT" update=":form:multiVendorDetail1" icon="ui-icon-info" value="View" oncomplete="PF('multiVendorDialog1').show()" />
       &#150; &#150; <p:commandButton style="width:120px;height:25px"  rendered="#{expenseBean.isEnable}" process="DT" update=":form:multiVendorDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiVendorDialog').show()" />
       &#150; &#150;  <p:commandButton style="width:120px;height:25px" rendered="#{expenseBean.isEnable}" update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{vendorBean.deleteVendor1()}" icon="ui-icon-trash" value="Delete" />
     &#150; &#150;   <p:commandButton style="width:120px;height:25px" icon="ui-icon-refresh"    onclick="javascript:history.go(0);" value="Refresh" />
     &#150; &#150;   <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
 
   &#150; &#150; <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
 
    &#150; &#150;<h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/cvs.png"/>
        <p:dataExporter type="csv"  pageOnly="true" target="DT" fileName="vendor" />
    </h:commandLink>
 
   &#150; &#150; <h:commandLink id="xml">
       <p:graphicImage  height="20"  pageOnly="true" width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.png"/>
        <p:dataExporter type="xml" pageOnly="true"  target="DT" fileName="vendor" />
    </h:commandLink>
     
     </td>
     </tr></table> 
      
       <p:dataTable    paginator="true"  paginatorPosition="bottom"   resizableColumns="true"  style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:20px"
       widgetVar="vendorsTable"
                 emptyMessage="No cars found with given criteria" filteredValue="#{vendorBean.selectedVendor1}" 
               rows="5"   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="1,2,3"    id="DT"    var="vendor" value="#{vendorBean.vendorList}"   selection="#{vendorBean.selectedVendor}" rowKey="#{vendor.int_VendorId}"  >
       
        <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
        
         <p:column >
            <f:facet name="header">
                <h:outputText value="VendorName"/>      
          
             </f:facet>
               <h:outputText   value="#{vendor.str_VendorName}" />  
             
            </p:column>
            
          
            <p:column >
          
          <f:facet name="header">
                <h:outputText value="Type"/>      
          
             </f:facet>
                <h:outputText   value="#{vendor.str_VendorType}" /> 
                
            
            </p:column>
            <p:column  >
          <f:facet name="header">
                <h:outputText value="Email"/>      
          
             </f:facet>
               <h:outputText   value="#{vendor.str_VendorEmail}" /> 
                
            
            </p:column>
            <p:column     headerText="Phone"    >
          
             <h:outputText   value="#{vendor.str_VendorPhone}" /> 
               
                
            
            </p:column>
      <p:column>
                <f:facet name="header">
                <center>
                
                    <h:outputText value="Action" />
                    </center>
                </f:facet>
                <center>
              
               <p:commandLink   process="DT"  update=":form:editVendorDetail" oncomplete="PF('editVendorDialog').show()" action="#{vendorBean.getVendor1(vendor.int_VendorId)}">
                  <h:graphicImage  height="20" width="20" alt="Edit" value="#{expenseBean.str_Name}images/edit.jpg" title="Edit"/> 
              </p:commandLink>
               &#150; 
               
               
              <p:commandLink   process="DT"  update=":form:viewVendorDetail" oncomplete="PF('viewVendorDialog').show()" action="#{vendorBean.getVendor1(vendor.int_VendorId)}">
                  <h:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/view.jpg" title="View"/> 
              </p:commandLink>
               &#150;
          <h:link outcome="deletevendor.xhtml"
	   		 onclick="return confirm('Are you sure you want to delete #{vendor.str_VendorName}?');" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/delete.jpg" title="Delete"/> 
	   				<f:param name="int_VendorId" value="#{vendor.int_VendorId}" />
	   		</h:link>
	   		 
              </center> 
            </p:column>
         
            </p:dataTable>
            </div>
             
           
            
            <p:dialog header="Edit Vendor Details" widgetVar="multiVendorDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="500" width="500">
        <p:outputPanel id="multiVendorDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{vendorBean.selectedVendor}" var="vendor1">
             <tr>
 <th>
    <h:outputText value="Vendor Type:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorType}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Vendor Name:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorName}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Vendor Phone:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorPhone}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Email:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorEmail}"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Vendor Bank Name:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Expense:"/></th>
    <td>
    <h:inputText value="#{vendor1.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <th>
    <h:outputText value="Comments:"/></th>
    <td>
    <h:inputText value="#{vendor1.str_VendorComments}"/></td>
    </tr>
      
            </ui:repeat>
             <tr><td><h:commandButton  styleClass="btn" value="update" action="#{vendorBean.updateVendor(vendor1)}"/></td>
             
              <td><h:commandButton  styleClass="btn" action="vendorlist" value="Cancel"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="Vendor Details" widgetVar="multiVendorDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="500" width="500">
        <p:outputPanel id="multiVendorDetail1" style="text-align:center;">
           <table>
              
            <ui:repeat value="#{vendorBean.selectedVendor}" var="vendor1">
             
                <tr>
 <th>
    <h:outputText value="Vendor Type:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorType}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Vendor Name:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorName}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Vendor Phone:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorPhone}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Email:"/></th>
    <td>
   <h:outputText value="#{vendor1.str_VendorEmail}"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Vendor Bank Name:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Expense:"/></th>
    <td>
    <h:outputText value="#{vendor1.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <th>
    <h:outputText value="Comments:"/></th>
    <td>
    <h:outputText value="#{vendor1.str_VendorComments}"/></td>
    </tr>
      
               
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
       <p:dialog header="Edit Vendor Details" widgetVar="editVendorDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="editVendorDetail" style="text-align:center;">
 <table>
 <tr>
 <td>
    <h:outputText value="Vendor Type:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.str_VendorType}"/></td>
    </tr>
 <tr>
 <td>
    <h:outputText value="Vendor Name:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.str_VendorName}"/></td>
    </tr>
    <tr>
    <td>
    <h:outputText value="Vendor Phone:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor. str_VendorPhone}"/></td>
    </tr>
    <tr>
 <td>
    <h:outputText value="Vendor Email:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.str_VendorEmail}"/></td>
    </tr>
   
  
    <tr>
 <td>
    <h:outputText value="Vendor Bank Name:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <td>
    <h:outputText value="Vendor Expense:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <td>
    <h:outputText value="Comments:"/></td>
    <td>
    <h:inputText value="#{vendorBean.vendor.str_VendorComments}"/></td>
    </tr>
     
 <tr><td><h:commandButton  value="Submit"  styleClass="btn" action="#{vendorBean.updateVendor}"/></td><td>
   <h:button outcome="vendorlists.xhtml" styleClass="btn" value="Cancel"  /></td></tr> 
    </table>
   </p:outputPanel>
   </p:dialog>
         <p:dialog header="Vendor Details" widgetVar="viewVendorDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="viewVendorDetail" style="text-align:center;">
        <table>
 <tr>
 <th>
    <h:outputText value="Vendor Type:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.str_VendorType}"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Vendor Name:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.str_VendorName}"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Vendor Phone:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor. str_VendorPhone}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Email:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.str_VendorEmail}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Bank Name:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.str_VendorBankName}"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Vendor Expense:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.bool_IsVendorActive}"/></td>
    </tr>
     <tr>
 <th>
    <h:outputText value="Comments:"/></th>
    <td>
    <h:outputText value="#{vendorBean.vendor.str_VendorComments}"/></td>
    </tr>
     
    
      <p:dataTable id="v1" var="v"   value="#{vendorBean.vendorServiceDetails3}" style="width: 10%">
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Vendor Price" />
                </f:facet>
                <h:outputText  rendered="#{not v.editable}"     value="#{v.int_ServicePrice}" />
                  <h:inputText  rendered="#{ v.editable}"     value="#{v.int_ServicePrice}" />
            </p:column>
             <p:column>
                <f:facet name="header">
                    <h:outputText value="Vendor Service Name" />
                </f:facet>
                <h:outputText  rendered="#{not v.editable}"     value="#{v.str_ServiceName}" />
                 
                  <h:inputText  rendered="#{ v.editable}"    value="#{v.str_ServiceName}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Edit" />
                </f:facet>
               
              <h:button  value="Edit"  rendered="#{not v.editable}"     update="@form" process="@this"  immediate="true" execute="@this"  action="#{vendorBean.editAction(v)}"   > 
                
               </h:button>
               	   		 
               
               	   		 
	   		</p:column>
	   		
	   		<p:column>
                <f:facet name="header">
                    <h:outputText value="Update" />
                </f:facet>
                
	   		<h:button  value="Update"     action="#{vendorBean.updateVendorServiceDetails(v)}" > 
               
              </h:button>
               </p:column>
            </p:dataTable>  
  
    </table>
    </p:outputPanel>
    </p:dialog>
        
      </h:form>     
            
</ui:define>
</ui:composition>