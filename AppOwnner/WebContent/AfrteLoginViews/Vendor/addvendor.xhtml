<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="content">
	<h:head>
	 <style>
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
.ui-growl-item-container.ui-state-highlight {
    border-color: pink;
}
        div[id="form:ui-growl_container"] > div{
        
            background-color: green !important;
        }
</style>
	</h:head>
  <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px"  class="src">
		
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title">Vendor Registration</span>
				</td>
			</tr>
		
	</table>

    <h:form id="form" > 
   <p:growl id="ui-growl" globalOnly="true" sticky="true" />
   
    
   
     <div id="page3">
       
      
		 <div class="gsTitleDiv">Vendor personal details<br/><hr/></div>  
        <table    style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px">
         
            <tr> <th><p:outputLabel value="Vendor Category: " for="vendorCategory" /></th>
                <td>
        <h:selectOneMenu value="#{vendorBean.str_VendorType}" id="vendorCategory" required="true" requiredMessage="Enterr Category">
            <f:selectItem itemLabel="Select One" itemValue=""  noSelectionOption="true"/>
             
             <f:selectItems value="#{vendorBean.str_VendorTypeList}" />
               
        </h:selectOneMenu>
        </td> <td>  <p:message id="vendorCategoryMsg" for="vendorCategory" display="text"/></td>
 </tr>
          
            <tr>
                <th width="20%"><p:outputLabel for="vendorName" value="Name" /></th>
                <td width="30%"><p:inputText id="vendorName"  placeholder="Name"  value="#{vendorBean.str_VendorName}" required="true" requiredMessage="Name Required">
                
                  <f:validateLength minimum="5" />
                     <p:ajax event="blur" update="vendorNameMsg" />
              </p:inputText>
                  
                </td>
                <td width="50%" align="left">   <p:message id="vendorNameMsg" for="vendorName" display="text"/></td>
           </tr>
           
             <tr>
                <th><p:outputLabel for="vendorphone" value="Phone  " /> </th>
                <td><p:inputText id="vendorphone"  placeholder="Phone" value="#{vendorBean.str_VendorPhone}"   maxlength="11" required="true"  validatorMessage="invalid mobile no" requiredMessage=" Phone No Required">
                    <f:validateLength minimum="10" />
                    <f:validateRegex pattern="^([+]?[\d]+)?$" />
                    <p:ajax event="keyup" update="vendorPhoneMsg" />
              </p:inputText>
                   
                </td>
                <td>  <p:message id="vendorPhoneMsg" for="vendorphone" display="text"/></td>
           </tr>
           
           <tr>
                <th><p:outputLabel for="vendoremail" value="Email  " /></th>
                <td><p:inputText id="vendoremail" placeholder="Email"   value="#{vendorBean.str_VendorEmail}" required="true" validatorMessage=" VendorEmail is not valid" requiredMessage="Enterr Email">
                <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
  
                    <p:ajax event="blur" update="vendorEmailMsg" />
              </p:inputText>
                   
                </td>
                <td> <p:message id="vendorEmailMsg" for="vendoremail" display="text"/></td>
           </tr> 
           
           <tr><th><p:outputLabel value="Contact Person Name"/></th><td><p:inputText  placeholder="Contact person name" value="#{vendorBean.str_ContactPersonName}" /></td></tr>
         
           
           <tr> 
            <th><p:outputLabel for="Address" value="Address Line1 " /></th>
                <td><p:inputText id="Address" label="Address" placeholder="Address"  value="#{vendorBean.str_VendorAddress}" required="true"  requiredMessage="Enter Address">
             <p:ajax event="blur" update="AddressMsg" />
            </p:inputText></td>
             <td> <p:message id="AddressMsg" for="Address" display="text"/></td>
            </tr>
            <tr>
            <th><p:outputLabel for="str_VendorCountry" value=" Country  " /></th>
            <td><h:selectOneMenu id="str_VendorCountry" value="#{vendorBean.str_VendorCountry}" required="true" requiredMessage="Enterr Country"    valueChangeListener="#{vendorBean.countryChangeListener}">
                <!--c --> 
               <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.str_VendorCountries}" />
                 <p:ajax event="change" update="str_VendorState,str_VendorCity" process="str_VendorCountry"/>
            </h:selectOneMenu></td></tr>
            
             <tr>
 
            <th><p:outputLabel for="str_VendorState" value="State  " /></th>
            <td><h:selectOneMenu id="str_VendorState" value="#{vendorBean.str_VendorState}"  required="true" requiredMessage="Enter State"  valueChangeListener="#{vendorBean.stateChangeListener}"  >
                <f:selectItem itemLabel="Select One"  itemValue="" noSelectionOption="true" />
                <f:selectItems value="#{vendorBean.str_VendorStates}"/>
               <p:ajax event="change" update="str_VendorCity" process="str_VendorState"/>    
            </h:selectOneMenu></td>
             </tr>
            <tr> 
                 <th><p:outputLabel for="str_VendorCity" value="City " /></th>
            <td><h:selectOneMenu id="str_VendorCity" value="#{vendorBean.str_VendorCity}" required="true" requiredMessage="Enterr City" >
                <f:selectItem itemLabel="Select One"  itemValue="" noSelectionOption="true" />
                <f:selectItems  value ="#{vendorBean.str_VendorCities}"/>
             
            </h:selectOneMenu></td></tr>
            
       
                
            <tr> 
            <th><p:outputLabel for="Zip" value="Zip " /></th>
                <td><p:inputText id="Zip" placeholder="ZipCode"  maxlength="6"  validatorMessage="invalid mobile no" value="#{vendorBean.str_ZipCode}" required="true"  requiredMessage="Enter ZipCode">
            <f:validateLength minimum="6"/>
              <f:validateRegex pattern="^([+]?[\d]+)?$" />
            <p:ajax event="blur" update="ZipMsg" />
            </p:inputText></td>
            <td> <p:message id="ZipMsg" for="Zip" display="text" /></td>
            </tr>
            
            </table>
           
             
             <div class="gsTitleDiv">Vendor service details<br/><hr/></div> 
            <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px">
               
           
              <tr><th width="20%"></th><td width="30%"> <h:commandButton value="Add Services" action="#{vendorBean.add}" immediate="true" execute="@this">
               
               <f:ajax render="@form" execute="@form"/>
              </h:commandButton></td>
              <td width="50%"></td>
              </tr>
          
 
              
    
    <c:forEach items="#{vendorBean.vendorServiceDetails}"   var="Service">
          <tr>   <th>   <p:outputLabel value="Service"/></th>
	   <td> <p:inputText value="#{ str_ServiceName}" placeholder="Service" valueChangeListener="#{vendorBean.vendorServiceDetailsListener}"/>
	   </td></tr>
	   <tr><th>  <p:outputLabel value="Price"/></th>
	   <td> <p:inputText value="#{ int_ServicePrice}"  placeholder="Price" validatorMessage="Price should be  number only"  valueChangeListener="#{vendorBean.vendorServiceDetailsListener1}">
	    <f:validateRegex pattern="^([+]?[\d]+)?$" /></p:inputText></td>
	   </tr>  </c:forEach> 
    
	  
	    <tr><th><p:outputLabel value="Is Vendor Active? " /></th>
       <td> <p:selectBooleanCheckbox value="#{vendorBean.bool_IsVendorActive}" /></td>
           </tr>
           <tr><th><p:outputLabel value="Is a Company? " /></th>
       <td> <p:selectBooleanCheckbox value="#{vendorBean.bool_IsACompany}" /></td>
           </tr>
             <tr><th> <p:outputLabel value="ServiceRate" /></th>
           <td>
        <p:rating value="#{vendorBean.int_VendorServiceRating}">
           
        </p:rating>
         
        </td>
        </tr>
        <tr>
         
                <th><p:outputLabel for="vendorcomments" value="Comments  " /></th>
                <td><p:inputTextarea rows="6" cols="33" style="width:175px; height:45px; border:solid 1px #cccccc; margin:3px 0 3px 5px; float:left;"  id="vendorcomments"  placeholder="Comments" required="true" requiredMessage="Enter Comment" value="#{vendorBean.str_VendorComments}">
                
                   
                    <p:ajax event="blur" update="vendorcommentsMsg" />
               </p:inputTextarea>
                    <p:message id="vendorcommentsMsg" for="vendorcomments" display="icon"/>
                </td>
           </tr>  
             
	    </table>
	   
	   <div class="gsTitleDiv">Vendor bank details<br/><hr/></div>
	   <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px">
           
            <tr>
                <th width="20%"><p:outputLabel for="vendorbankaccount" value="Account Number  " /></th>
                <td width="30%"><p:inputText id="vendorbankaccount" placeholder="Account Number"   value="#{vendorBean.str_VendorBankAccount}"/>
                </td>
              <td width="50%"></td>
                
           </tr>
           
            
             <tr>
                <th><p:outputLabel for="vendorbankname" value="Bank Name  " /></th>
                <td><p:inputText id="vendorbankname" placeholder="BankName"   value="#{vendorBean.str_VendorBankName}"/>
                 
                </td>
                  
           </tr>
             <tr>
                <th><p:outputLabel for="vendorbankneftifsc" value="NEFT/IFSC Code  " /></th>
                <td><p:inputText id="vendorbankneftifsc" placeholder="Bank NEFT/IFSC Code"   value="#{vendorBean.str_VendorBankNeftOrIfsc}"/>
                
              
                </td>
              
           </tr>
            <tr>
                <th><p:outputLabel for="str_PanNo" value="Pan No " /></th>
                <td><p:inputText id="str_PanNo" placeholder="Pan No"   value="#{vendorBean.str_PanNo}"/>
                
              
                </td>
         
           </tr>
           <tr>
                <th><p:outputLabel for="str_ServiceTaxNo" value="Tax No " /></th>
                <td><p:inputText id="str_ServiceTaxNo" placeholder="Tax No"   value="#{vendorBean.str_ServiceTaxNo}"/>
               
              
                </td>
              
           </tr>
           
           <tr>
                <th><p:outputLabel for="int_TdsCharge" value="TDS Charge " /></th>
                <td><p:inputText id="int_TdsCharge" placeholder="TDS Charge"   value="#{vendorBean.int_TdsCharge}"/>
              
                </td>
               
           </tr>
            <tr>
                <th><p:outputLabel for="bool_VisibleToPublic" value="Visible to public " /></th>
                <td><p:selectBooleanCheckbox id="bool_VisibleToPublic" label="Visible to public"   value="#{vendorBean.bool_VisibleToPublic}"/>
                
                </td>
             
           </tr>
            <tr>
                <th><p:outputLabel for="AdditionalInfo" value="Additional Info" /></th>
                <td><p:inputTextarea id="AdditionalInfo" rows="6" cols="33" placeholder="Additional Info"  style="width:175px; height:45px; border:solid 1px #cccccc; margin:3px 0 3px 5px; float:left;"  value="#{vendorBean.str_AdditionalInfo}"/>
                 
              
                </td>
               
           </tr>
           </table>
            
            <div>
	 <hr/>
             <h:commandButton   styleClass="btn" id="submit"  value="Submit" action="#{vendorBean.saveVendor}"/> 
             &#150; &#150;  <h:commandButton   styleClass="btn" id="cancel" type="reset" value="Cancel" /> 
          
           
             </div>
             
           </div>
           
           </h:form>
           
            
          
            </ui:define>
            </ui:composition>
           