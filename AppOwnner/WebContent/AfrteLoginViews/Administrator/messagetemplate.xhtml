<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
<h:head>
    <title>Message Template  Form</title>
   <style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:250px;
          }
          select
          {
           height:25px;
           weight:250px;
          }
      </style>	
   </h:head>
   <table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/message.jpg" height="50" width="50"></img> <span class="title">MessageTemplate</span>
				</td>
			</tr>
		</tbody>
	</table>
<body  bgcolor="pink">
  <h:form id="form" prependId="false">
  <div id="page3">
   <table   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr> 
       <h:panelGroup id="performed"  >
           
              <td><h:outputLabel value="Organisation:" /></td>
              <td><p:selectOneMenu id="str_Organisation1" value="#{templateBean.str_Organisation}" style="width:150px" >
                  <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{templateBean.str_Organisation}"  itemValue="#{templateBean.str_Organisation}"/>
                 </p:selectOneMenu>
             </td>
             <td><h:outputLabel value="Show:" /></td>
              <td><p:selectOneMenu id="str_Mode1" value="#{templateBean.str_Mode}"  style="width:150px">
                   <f:selectItem itemLabel="All" itemValue="All" />
                    <f:selectItem itemLabel="Sms" itemValue="Sms" />
                     <f:selectItem itemLabel="Email" itemValue="Email" />
                 </p:selectOneMenu>
             </td>
              <td><h:outputLabel value="Message Template Of:" /></td>
              <td><p:selectOneMenu id="str_Category1" value="#{templateBean.str_Category}"  style="width:150px">
                   <f:selectItem itemLabel="All" itemValue="All" />
                    <f:selectItem itemLabel="Ads" itemValue="Ads" />
                    <f:selectItem itemLabel="Dues" itemValue="Dues" />
                     <f:selectItem itemLabel="Maintenance" itemValue="Maintenance" />
                     <f:selectItem itemLabel="Parking" itemValue="Parking" />
                      <f:selectItem itemLabel="Meeting" itemValue="Meeting" />
                       <f:selectItem itemLabel="Others" itemValue="Others" />
                        <f:selectItem itemLabel="Welcome New User" itemValue="Welcome New User" />
                 </p:selectOneMenu>
             </td>
              <td><h:outputText  value="Category" /></td>
                &#150; &#150;&#150; &#150;&#150;
             <td>   <h:commandButton  value="Go" action="#{templateBean.getListMessages()}" update="message"/></td>
                </h:panelGroup>
              </tr>
              </table>
              </div>
               <div id="page3"> 
	  <div class="gsTitleDiv">List Of MessageTemplate<br/><hr/></div>
           <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
           <tr>
         <td>
              <p:commandButton style="width:120px;height:25px" process="message" update=":form:multiMessageTemplateDetail2" icon="ui-icon-plus" value="Create New" oncomplete="PF('multiMessageTemplateDialog2').show()" />&#150; &#150; &#150; &#150; &#150; &#150;<p:commandButton process="message" style="width:120px;height:25px" update=":form:multiMessageTemplateDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiMessageTemplateDialog1').show()" />
       &#150; &#150; <p:commandButton style="width:120px;height:25px" process="message" update=":form:multiMessageTemplateDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiMessageTemplateDialog').show()" />
       &#150; &#150;  <p:commandButton  style="width:120px;height:25px" update="message" process="message" onclick="return confirm('Are you sure you want to delete ?');" action="#{templateBean.deleteMessageTemplate()}" icon="ui-icon-trash" value="Delete" />&#150; &#150;  &#150; &#150;<p:commandButton style="width:120px;height:25px"  value="Refresh" icon="ui-icon-refresh"/>
              <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls"    target="DT" fileName="BookDetails" />
    </h:commandLink>&#150;
 
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf"    target="DT" fileName="BookDetails" />
    </h:commandLink>&#150;
 
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/csv.jpg"/>
        <p:dataExporter type="csv"    target="DT" fileName="BookDetails" />
    </h:commandLink>&#150;
 
    <h:commandLink id="xml">
       <p:graphicImage  height="20"    width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.jpg"/>
        <p:dataExporter type="xml"    target="DT" fileName="BookDetails" />
    </h:commandLink>
     
             </td>
             </tr>
             </table>
              
         <p:growl id="msgs" showDetail="true" /> 
      
        <p:dataTable id="message" var="message" value="#{templateBean.listMessages}"   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "  rowsPerPageTemplate="10,20,30,40,50" 
          selection="#{templateBean.selectedMessageTemplate}" rowKey="#{message.int_MessageTemplateID}" editable="true"  resizableColumns="true">
					
                  <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center"/>     
            <p:column>
                <f:facet name="header">
                <center>
                    <h:outputText value="Organisation Name" />
                    </center>
                </f:facet>
                <center>
                <h:outputText value="#{templateBean.str_Organisation}" />
                </center>
            </p:column>
            <p:column >
                <f:facet name="header">
                <center>
                    <h:outputText value="Mode" />
                    </center>
                </f:facet>
                 <center>
                <h:outputText value="#{message.str_Mode}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                 <center>
                    <h:outputText value="Category" />
                    </center>
                </f:facet>
                 <center>
                <h:outputText value="#{message.str_Category}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                 <center>
                    <h:outputText value="Title" />
                    </center>
                </f:facet>
                 <center>
                <h:outputText value="#{message.str_Title}" />
                </center>
            </p:column>
              <p:column>
                <f:facet name="header">
                 <center>
                    <h:outputText value="Created By" />
                    </center>
                </f:facet>
                 <center>
                <h:outputText value="#{message.str_CreatedBy}" />
                </center>
            </p:column>
           <p:column>
                <f:facet name="header">
                <center>
                
                    <h:outputText value="Action" />
                    </center>
                </f:facet>
                <center>
              <h:panelGroup layout="block" id="mainDiv" style="float:center">
               <p:commandLink   process="message"  update=":form:multiMessageTemplateDetail3" oncomplete="PF('multiMessageTemplateDialog3').show()" action="#{templateBean.getMessageTemplate2(message.int_MessageTemplateID)}">
                  <h:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/edit.jpg" title="Edit"/> 
              </p:commandLink>
               &#150; 
               
               
              <p:commandLink   process="message"  update=":form:multiMessageTemplateDetail4" oncomplete="PF('multiMessageTemplateDialog4').show()" action="#{templateBean.getMessageTemplate2(message.int_MessageTemplateID)}">
                  <h:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/view.jpg" title="View"/> 
              </p:commandLink>
               &#150;
               <h:link outcome="deletemessage.xhtml"
							onclick="return confirm('Are you sure you want to delete #{message.int_MessageTemplateID}?');">
							<p:graphicImage height="20" width="20" alt="delete"
								value="#{expenseBean.str_Name}images/delete.jpg" />
							<f:param name="int_MessageTemplateID"
								value="#{message.int_MessageTemplateID}" />
						</h:link>
               </h:panelGroup>
               </center>
            </p:column>
            </p:dataTable>
            </div>
             <p:dialog header="Create New MessageTemplate" widgetVar="multiMessageTemplateDialog2"     showEffect="explode" hideEffect="explode" resizable="false" height="450" width="500">
        <p:outputPanel id="multiMessageTemplateDetail2" style="text-align:center;">
         <table>
            <tr>
            <td>  <h:outputText  value="Created By" /></td>
            <td>  <p:inputText id="str_CreatedBy" value="#{templateBean.str_CreatedBy}" /> </td>
           </tr>
           <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
          
          <tr>
            <td>  <h:outputText  value="Email" /></td>
            <td>  <p:inputText id="str_Email" value="#{templateBean.str_Email}" /> </td>
          </tr>
            <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
           <tr>
            <td>  <h:outputText  value="Date" /></td>
            <td>  <p:inputText id="dat_Date" value="#{templateBean.dat_Date}" readonly="true"/> </td>
          </tr>
            <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
          <tr>
             <td> <h:outputLabel value="Mode" /></td>  
          <td><h:selectOneMenu id="str_Mode" value="#{templateBean.str_Mode}"  >
                   <f:selectItem itemLabel="Email" itemValue="Email" />
                    <f:selectItem itemLabel="Sms" itemValue="Sms" />
                 </h:selectOneMenu></td>   
                 </tr>
                   <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
                 <tr>
                  <td><h:outputLabel value="Category:" /></td>
              <td><h:selectOneMenu id="str_Category" value="#{templateBean.str_Category}" >
                  
                    <f:selectItem itemLabel="Ads" itemValue="Ads" />
                    <f:selectItem itemLabel="Accounts" itemValue="Accounts" />
                     <f:selectItem itemLabel="Maintenance" itemValue="Maintenance" />
                     <f:selectItem itemLabel="Parking" itemValue="Parking" />
                      <f:selectItem itemLabel="Meeting" itemValue="Meeting" />
                       <f:selectItem itemLabel="Others" itemValue="Others" />
                        <f:selectItem itemLabel="Welcome New User" itemValue="Welcome New User" />
                 </h:selectOneMenu>
             </td>
                 </tr>
                   <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
                <tr>
            <td>  <h:outputText  value="Title" /><font color="red" >*</font></td>
            <td>  <p:inputText id="str_Title" value="#{templateBean.str_Title}"   required="true" requiredMessage="Title should not Empty"/><br/><font  size="2" color="red">30 Characters Maximum</font></td>
                 <td><h:message for="str_Title" dispay="text"/></td>
          </tr> 
          
                 <tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>  
                <tr>
            <td>  <h:outputText  value="Description" /><font color="red" >*</font></td>
            <td>  <h:inputTextarea id="str_Description" rows="10" cols="40" value="#{templateBean.str_Description}"   required="true" requiredMessage="Description should not Empty"/><br/><font  size="2" color="red">1500 Characters Maximum</font> </td>
            <td><p:message for="str_Description" dispay="text"/></td>
          </tr> 
          </table>
         
          <br/>
            <h:panelGroup style="display:block; text-align:right">
     <tr> 
     <td >
     <p:commandButton id="submit" value="Submit" onclick="EnrollNowClick()" action="#{templateBean.addMessageTemplate}" ajax="false" /></td>
     <td ><p:commandButton id="cancel" value="Cancel" action="#{complainBean.reset}" onclick="EnrollLater1()" ajax="false"/></td>
            </tr>
            </h:panelGroup>
            
        </p:outputPanel>
        </p:dialog>
        
             <p:dialog header="Edit MessageTemplate" widgetVar="multiMessageTemplateDialog"     showEffect="explode" hideEffect="explode" resizable="false" height="400" width="400">
        <p:outputPanel id="multiMessageTemplateDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{templateBean.selectedMessageTemplate}" var="messageTemplate1">
             <tr>
 <th>
    <h:outputText value="Created By:"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_CreatedBy}" readonly="true"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Email:"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Email}" readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Mode"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Mode}" readonly="true"/></td>
    </tr>
     <tr>
    <th>
    <h:outputText value="Category"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Category}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Title"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Title}"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Description"/></th>
    <td>
     <h:inputTextarea cols="20" row="30"  value="#{messageTemplate1.str_Description}"/></td>
    </tr>  

      
            </ui:repeat>
             <tr><td><h:commandButton value="update" action="#{templateBean.saveMessageTemplate(messageTemplate1)}"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="Edit MessageTemplate" widgetVar="multiMessageTemplateDialog3"     showEffect="explode" hideEffect="explode" resizable="false" height="400" width="400">
        <p:outputPanel id="multiMessageTemplateDetail3" style="text-align:center;">
          
           <table>
               
         
             <tr>
 <th>
    <h:outputText value="Created By:"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_CreatedBy}" readonly="true"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Email:"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Email}" readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Mode"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Mode}" readonly="true"/></td>
    </tr>
     <tr>
    <th>
    <h:outputText value="Category"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Category}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Title"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Title}"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Description"/></th>
    <td>
     <h:inputTextarea cols="20" row="30"  value="#{templateBean.messageTemplate.str_Description}"/></td>
    </tr>  

      
           
             <tr><td><h:commandButton value="update" action="#{templateBean.saveMessageTemplate()}"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="View MessageTemplate" widgetVar="multiMessageTemplateDialog1"     showEffect="explode" hideEffect="explode" resizable="false" height="400" width="400">
        <p:outputPanel id="multiMessageTemplateDetail1" style="text-align:center;">
           <table>
              
            <ui:repeat value="#{templateBean.selectedMessageTemplate}" var="messageTemplate1">
             
              <tr>
 <th>
    <h:outputText value="Created By:"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_CreatedBy}" readonly="true"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Email:"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Email}" readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Mode"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Mode}" readonly="true"/></td>
    </tr>
     <tr>
    <th>
    <h:outputText value="Category"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Category}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Title"/></th>
    <td>
    <h:inputText value="#{messageTemplate1.str_Title}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Description"/></th>
    <td>
     <h:inputTextarea cols="20" row="30"  value="#{messageTemplate1.str_Description}" readonly="true"/></td>
    </tr>  
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="View MessageTemplate" widgetVar="multiMessageTemplateDialog4"     showEffect="explode" hideEffect="explode" resizable="false" height="400" width="400">
        <p:outputPanel id="multiMessageTemplateDetail4" style="text-align:center;">
           <table>
              
            
             
              <tr>
 <th>
    <h:outputText value="Created By:"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_CreatedBy}" readonly="true"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Email:"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Email}" readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Mode"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Mode}" readonly="true"/></td>
    </tr>
     <tr>
    <th>
    <h:outputText value="Category"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Category}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Title"/></th>
    <td>
    <h:inputText value="#{templateBean.messageTemplate.str_Title}" readonly="true"/></td>
    </tr>
      <tr>
    <th>
    <h:outputText value="Description"/></th>
    <td>
     <h:inputTextarea cols="20" row="30"  value="#{templateBean.messageTemplate.str_Description}" readonly="true"/></td>
    </tr>  
           
            </table>
        </p:outputPanel>
    </p:dialog>
           </h:form>
           </body>
           </ui:define>
           </ui:composition>