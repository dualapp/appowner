<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml"
                xmlns:v="http://primefaces.org/ui">
	<ui:define name="content">
   <h:head>
<title>DueTemplate form</title>
<style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:250px;
          }
          select
          {
           height:25px;
           weight:250px;
          }
      </style>	
 
 
</h:head>
<table cellpadding="0" cellspacing="0" border="1" width="100%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/due.jpg" height="50" width="50"></img> <span class="title">Due Template</span>
				</td>
			</tr>
		</tbody>
	</table>


  <h:form id="form" prependId="false">
 <div id="page3">
   <table   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr> 
     <h:panelGroup id="performed"  >
           
              <th><h:outputText value="Organisation:" /></th>
              <td><p:selectOneMenu id="str_Organisation" value="#{templateBean.str_Organisation}"   style="width:150px">
                   <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{templateBean.str_Organisation}" itemValue="#{templateBean.str_Organisation}" />
                 </p:selectOneMenu>
             </td>
             <p:spacer width="40" height="20"/>
             <th><h:outputText  value="Due Template Of:" /></th>
               <td><p:selectOneMenu id="str_Accounts" value="#{templateBean.str_Accounts}"  style="width:150px">
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{templateBean.ravenues}" />
                 </p:selectOneMenu>
             </td>
                <p:spacer width="40" height="20"/>
             <th><h:outputText  value="Account" /></th>
               <p:spacer width="40" height="20"/>
              <td><h:commandButton id="priya" value="Go" action="#{templateBean.getListDues()}" update="ggg">
                  </h:commandButton></td>
                </h:panelGroup>
              
              
               </tr>
               </table>
               </div>
                

                <div id="page3"> 
	  <div class="gsTitleDiv">List Of DueTemplate<br/><hr/></div>
           <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
                
         <tr><td> <p:commandButton style="width:120px;height:25px" process="ggg" update=":form:multiDueTemplateDetail2" icon="ui-icon-plus" value="Create New" oncomplete="PF('multiDueTemplateDialog2').show()" />&#150; &#150; &#150; &#150; <p:commandButton style="width:120px;height:25px"  process="ggg" update=":form:multiDueTemplateDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiDueTemplateDialog1').show()" />
       &#150; &#150; <p:commandButton  style="width:120px;height:25px" process="ggg" update=":form:multiDueTemplateDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiDueTemplateDialog').show()" />
       &#150; &#150;  <p:commandButton  style="width:120px;height:25px" update="ggg" process="ggg" onclick="return confirm('Are you sure you want to delete ?');" action="#{templateBean.deleteDueTemplate()}" icon="ui-icon-trash" value="Delete" />  &#150; &#150;
        <h:commandLink id="excel">
       <p:graphicImage  height="20" width="20" alt="excel" value="#{expenseBean.str_Name}images/excel.jpg"/>
        <p:dataExporter type="xls"    target="ggg" fileName="BookDetails" />
    </h:commandLink>
  &#150;
    <h:commandLink id="pdf">
       <p:graphicImage  height="20" width="20" alt="pdf" value="#{expenseBean.str_Name}images/pdf.jpg"/>
        <p:dataExporter type="pdf"    target="ggg" fileName="BookDetails" />
    </h:commandLink>
  &#150;
    <h:commandLink id="csv">
       <p:graphicImage  height="20" width="20" alt="cvs" value="#{expenseBean.str_Name}images/csv.jpg"/>
        <p:dataExporter type="csv"    target="ggg" fileName="BookDetails" />
    </h:commandLink>
  &#150;
    <h:commandLink id="xml">
       <p:graphicImage  height="20"    width="20" alt="xml" value="#{expenseBean.str_Name}images/xml.jpg"/>
        <p:dataExporter type="xml"    target="ggg" fileName="BookDetails" />
    </h:commandLink>
     
       </td></tr></table>
     
       
        <p:growl id="msgs" showDetail="true" />
         <p:dataTable id="ggg" var="dueTemplate" value="#{templateBean.listDues}"   style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" editable="true"  resizableColumns="true" rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "
        rowsPerPageTemplate="10,20,30,40,50"  selection="#{templateBean.selectedDueTemplate}" rowKey="#{dueTemplate.int_DueTemplateID}" >
            

          <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
         
             <p:column>
            <center>
                <f:facet name="header">
                 <center>
                    <h:outputText value="Organisation Name" />
                  </center> 
                </f:facet>
               
                <h:outputText value="#{dueTemplate.str_Organisation}" style="float:center"/>
              </center>
            </p:column>
       
            <p:column>
                <f:facet name="header">
                <center>
                    <h:outputText value="Due Template" />
                    </center>
                </f:facet>
                <center>
                <h:outputText value="#{dueTemplate.str_DueTemplate}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                <center>
                    <h:outputText value="Accounts" />
                    </center>
                </f:facet>
                <center>
               
                <h:outputText value="#{dueTemplate.str_Accounts}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                <center>
               
                    <h:outputText value="Rate" />
                    </center>
                </f:facet>
                <center>
               
                <h:outputText value="#{dueTemplate.str_Rate}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                <center>
              
                    <h:outputText value="FreQuency" />
                    </center>
                </f:facet>
                <center>
               
                <h:outputText value="#{dueTemplate.str_Frequency}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                <center>
              
                    <h:outputText value="Tax Template" />
                    </center>
                </f:facet>
                <center>
               
                <h:outputText value="#{dueTemplate.str_TaxTemplate}" />
                </center>
            </p:column>
            <p:column>
                <f:facet name="header">
                <center>
                
                    <h:outputText value="Action" />
                    </center>
                </f:facet>
                <center>
              <h:panelGroup layout="block" id="mainDiv" style="float:center">
               <p:commandLink   process="ggg"  update=":form:multiDueTemplateDetail3" oncomplete="PF('multiDueTemplateDialog3').show()" action="#{templateBean.getDueTemplate2(dueTemplate.int_DueTemplateID)}">
                  <h:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/edit.jpg" title="Edit"/> 
              </p:commandLink>
               &#150; 
               
               
              <p:commandLink   process="ggg"  update=":form:multiDueTemplateDetail4" oncomplete="PF('multiDueTemplateDialog4').show()" action="#{templateBean.getDueTemplate2(dueTemplate.int_DueTemplateID)}">
                  <h:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/view.jpg" title="View"/> 
              </p:commandLink>
               &#150;
          <h:link outcome="deletedue.xhtml"
	   		 onclick="return confirm('Are you sure you want to delete #{dueTemplate.int_DueTemplateID}?');" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="#{expenseBean.str_Name}images/delete.jpg" title="Delete"/> 
	   				<f:param name="int_DueTemplateID" value="#{dueTemplate.int_DueTemplateID}" />
	   		</h:link>
	   		 
             </h:panelGroup>
              </center> 
            </p:column>
                 
                 
               
                
               
          </p:dataTable>
          </div>
         <div id="huhy">
           <p:dialog header="Create DueTemplate" widgetVar="multiDueTemplateDialog2"  id="multiDueTemplateDetail2"   showEffect="explode" hideEffect="explode" resizable="false" height="400" width="500">
         
          
    
         <table>
      
            <tr>
             <td> <h:outputLabel value="Organisation" /><font color="red" >*</font></td>  
          <td><h:selectOneMenu id="str_Organisation1" value="#{templateBean.str_Organisation}"  >
                    <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{templateBean.str_Organisation}" itemValue="#{templateBean.str_Organisation}"/>
                 </h:selectOneMenu></td>   
                 </tr>
                 <tr></tr><tr></tr><tr></tr><tr></tr>
           <tr>
          <td>  <h:outputText  value="Due Template" /><font color="red" >*</font></td>
           <td>  <p:inputText id="str_DueTemplate" value="#{templateBean.str_DueTemplate}"  required="true" requiredMessage="DueTemplate should not empty">
                 <p:ajax event="blur" update="dueTemplateBlur"/>    
                 
      </p:inputText></td>
      
        <td><p:message for="str_DueTemplate"  id="dueTemplateBlur"  display="text"/>
        </td>
             </tr>
              <tr></tr><tr></tr><tr></tr><tr></tr>
             <tr>
            
            <td> <h:outputText  value="Account" /><font color="red" >*</font></td>
           <td>  <h:selectOneMenu id="str_Accounts1" value="#{templateBean.str_Accounts}"  >
                   <f:selectItems value="#{templateBean.ravenues}" />
                 </h:selectOneMenu></td>
             </tr>
             <tr></tr><tr></tr><tr></tr><tr></tr>
          <tr>
            <td> <h:outputText  value="Frequency" /><font color="red" >*</font></td>
           <td> <h:selectOneMenu id="str_Frequency" value="#{templateBean.str_Frequency}" >
                   <f:selectItem itemLabel="Monthly" itemValue="Monthly"/>
                     <f:selectItem itemLabel="Quarterly" itemValue="Quarterly"/>
                       <f:selectItem itemLabel="Yearly" itemValue="Yearly"/>
                        <f:selectItem itemLabel="One Time" itemValue="One Time"/>
                 </h:selectOneMenu></td>
            </tr>
            <tr></tr><tr></tr><tr></tr><tr></tr>
             <tr>
            <td> <h:outputText  value="Calculation" /><font color="red" >*</font></td>
             <td><p:selectOneRadio id="str_Calculation" value="#{templateBean.str_Calculation}" valueChangeListener="#{templateBean.frequencyChangeListener1}">
                   <f:selectItem itemLabel="Suare Feet" itemValue="Sqft"/> &#150; &#150;&#150; &#150;&#150; 
                     <f:selectItem itemLabel="Flat" itemValue="Flat"/>
                       <f:selectItem itemLabel="None" itemValue="None"/>
                        <p:ajax event="change" update="str_Rate" process="str_Calculation"/>
                </p:selectOneRadio>
                </td>
              </tr>
              <tr></tr><tr></tr><tr></tr><tr></tr>
              <tr>
               <td> <h:outputText  value="Rate"  /><font color="red" >*</font></td>
           <td>  <p:inputText id="str_Rate" value="#{templateBean.str_Rate}"  >
                 </p:inputText>
           </td>
         <td> <p:tooltip id="toolVendorPhone1"  trackMouse="true" for="str_Rate" value="It Should be a Number" showEffect="fade"/> </td>
          
              </tr>
              <tr></tr><tr></tr><tr></tr><tr></tr>
             <tr>
            
            <td> <h:outputText  value="Tax Template" /><font color="red" >*</font></td>
           <td>  <h:selectOneMenu id="str_TaxTemplate" value="#{templateBean.str_TaxTemplate}" >
                   <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true"></f:selectItem>
                   <f:selectItems value="#{templateBean.str_TaxTemplates}"  />
                     <f:selectItem itemLabel="None" itemValue="None" noSelectionOption="true"></f:selectItem>
                 </h:selectOneMenu></td>
             </tr>
          
         </table>
       
      
             <h:panelGroup style="display:block; text-align:right">
     <tr> 
     <td><p:commandButton id="submit" value="Submit"   action="#{templateBean.addDueTemplate}" ajax="false" /></td>
         <td><p:commandButton id="cancel" value="Cancel" onclick="closeSelf()" ajax="false"/></td>
            </tr>
            </h:panelGroup>
       
      
        <script type="text/javascript">
        function closeSelf(){
            self.close();
            return true;
        }
        </script>
       
        </p:dialog>
        </div>
        <p:dialog header="Edit DueTemplate" widgetVar="multiDueTemplateDialog3"    showEffect="explode" hideEffect="explode" resizable="false" height="350" width="450" minHeight="100">
        <p:outputPanel id="multiDueTemplateDetail3" style="text-align:center;">
          
           <table>
               
          
             <tr>
 <th>
    <h:outputText value="Due Template:"/><font color="red" >*</font></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_DueTemplate}" /></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Accounts:"/><font color="red" >*</font></th>
    <td>
           <h:selectOneMenu id="str_Accounts2" value="#{templateBean.str_Accounts}" >
                   <f:selectItems value="#{templateBean.ravenues}" />
                 </h:selectOneMenu>
                 </td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/><font color="red" >*</font></th>
    <td>
    <h:selectOneMenu id="str_Frequency1" value="#{templateBean.str_Frequency}" >
                   <f:selectItem itemLabel="Monthly" itemValue="Monthly"/>
                     <f:selectItem itemLabel="Quarterly" itemValue="Quarterly"/>
                       <f:selectItem itemLabel="Yearly" itemValue="Yearly"/>
                        <f:selectItem itemLabel="One Time" itemValue="One Time"/>
                 </h:selectOneMenu></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/><font color="red" >*</font></th>
    <td>
   <h:selectOneRadio id="str_Calculation1" value="#{templateBean.str_Calculation}" >
                   <f:selectItem itemLabel="Suare Feet" itemValue="Sqft"/> &#150; &#150;&#150; &#150;&#150; 
                     <f:selectItem itemLabel="Flat" itemValue="Flat"/>
                       <f:selectItem itemLabel="None" itemValue="None"/>
                </h:selectOneRadio>
                </td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/><font color="red" >*</font></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_Rate}" /></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
   <h:selectOneMenu id="str_TaxTemplate1" value="#{templateBean.str_TaxTemplate}" >
                   <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true"></f:selectItem>
                   <f:selectItems value="#{templateBean.str_TaxTemplates}"  />
                     <f:selectItem itemLabel="None" itemValue="None" noSelectionOption="true"></f:selectItem>
                 </h:selectOneMenu></td>
    </tr>
    
      
         
             <tr><td><h:commandButton value="update" action="#{templateBean.saveDueTemplate()}"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog> 
       <p:dialog header="Edit DueTemplate" widgetVar="multiDueTemplateDialog"     showEffect="explode" hideEffect="explode" resizable="false" height="350" width="450">
        <p:outputPanel id="multiDueTemplateDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{templateBean.selectedDueTemplate}" var="dueTemplate1">
             <tr>
 <th>
    <h:outputText value="Due Template:"/><font color="red" >*</font></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_DueTemplate}" style="width:250px;height:25px"/></td>
    </tr>

 
               
          
            
 <tr>
 <th>
    <h:outputText value="Accounts:"/><font color="red" >*</font></th>
    <td>
           <h:selectOneMenu id="str_Accounts2" value="#{templateBean.str_Accounts}" >
                   <f:selectItems value="#{templateBean.ravenues}" />
                 </h:selectOneMenu>
                 </td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/><font color="red" >*</font></th>
    <td>
    <h:selectOneMenu id="str_Frequency1" value="#{templateBean.str_Frequency}" >
                   <f:selectItem itemLabel="Monthly" itemValue="Monthly"/>
                     <f:selectItem itemLabel="Quarterly" itemValue="Quarterly"/>
                       <f:selectItem itemLabel="Yearly" itemValue="Yearly"/>
                        <f:selectItem itemLabel="One Time" itemValue="One Time"/>
                 </h:selectOneMenu></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/><font color="red" >*</font></th>
    <td>
   <h:selectOneRadio id="str_Calculation1" value="#{templateBean.str_Calculation}" >
                   <f:selectItem itemLabel="Suare Feet" itemValue="Sqft"/> &#150; &#150;&#150; &#150;&#150; 
                     <f:selectItem itemLabel="Flat" itemValue="Flat"/>
                       <f:selectItem itemLabel="None" itemValue="None"/>
                </h:selectOneRadio>
                </td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/><font color="red" >*</font></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Rate}" /></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
   <h:selectOneMenu id="str_TaxTemplate1" value="#{templateBean.str_TaxTemplate}" >
                   <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true"></f:selectItem>
                   <f:selectItems value="#{templateBean.str_TaxTemplates}"  />
                     <f:selectItem itemLabel="None" itemValue="None" noSelectionOption="true"></f:selectItem>
                 </h:selectOneMenu></td>
    </tr>
    
      
      
            </ui:repeat>
             <tr><td><h:commandButton value="update" action="#{templateBean.saveDueTemplate(dueTemplate1)}"/></td></tr>
            </table>
            
        </p:outputPanel>
    </p:dialog>
    <p:dialog header="View DueTemplate" widgetVar="multiDueTemplateDialog1"     showEffect="explode" hideEffect="explode" resizable="false" height="350" width="450">
        <p:outputPanel id="multiDueTemplateDetail1" style="text-align:center;">
           <table>
              
            <ui:repeat value="#{templateBean.selectedDueTemplate}" var="dueTemplate1">
             
               <th>
    <h:outputText value="Due Template:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_DueTemplate}" readonly="true" /></td>
  
 <tr>
 <th>
    <h:outputText value="Accounts:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Accounts}" readonly="true" /></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Frequency}" readonly="true"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Calculation}" readonly="true" /></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_Rate}" readonly="true" /></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
    <h:inputText value="#{dueTemplate1.str_TaxTemplate}" readonly="true" /></td>
    </tr>
               
                
            </ui:repeat>
            </table>
        </p:outputPanel>
    </p:dialog>
     <p:dialog header="View DueTemplate" widgetVar="multiDueTemplateDialog4"     showEffect="explode" hideEffect="explode" resizable="false" height="350" width="450">
        <p:outputPanel id="multiDueTemplateDetail4" style="text-align:center;">
           <table>
              
           
             
             <tr>
 <th>
    <h:outputText value="Due Template:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_DueTemplate}"  readonly="true"/></td>
    </tr>
 <tr>
 <th>
    <h:outputText value="Accounts:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_Accounts}"  readonly="true"/></td>
    </tr>
    <tr>
    <th>
    <h:outputText value="Frequency:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_Frequency}"  readonly="true"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="Calculation:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_Calculation}"  readonly="true"/></td>
    </tr>
   
  
    <tr>
 <th>
    <h:outputText value="Rate:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_Rate}"   readonly="true"/></td>
    </tr>
    <tr>
 <th>
    <h:outputText value="TaxTemplate:"/></th>
    <td>
    <h:inputText value="#{templateBean.dueTemplate1.str_TaxTemplate}"  readonly="true"/></td>
    </tr>
    
      
           
            </table>
        </p:outputPanel>
    </p:dialog>
        </h:form>
  
       
          
               
               
              </ui:define>
               </ui:composition>