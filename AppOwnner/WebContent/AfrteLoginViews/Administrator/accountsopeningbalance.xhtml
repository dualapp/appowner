<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
	
	
<h:head>
    <title>Accounts Opening Balance</title>
 <script type="text/javascript">


</script> 
<style>
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
        
         margin-left:-200px; 

}
</style>   
</h:head>
<table cellpadding="0" cellspacing="0" border="1" width="98%" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/invoice.jpg" height="50" width="50"></img> <span class="title">Accounts Opening Balance</span>
					
				</td>
				
			</tr>
		</tbody>
	</table>
<h:body>
 <p:growl id="ui-growl" globalOnly="true" sticky="true" />    
      <h:form>
      	
       <div id="page3" >
    
        
      <table style="width: 98%;margin-left: 1%;margin-right: 2%;margin-bottom:5px">
            <tr>
             <td> <h:outputLabel value="Organisation:" /> <p:spacer height="10px" width="210px"/></td> 
             <td><p:inputText id="str_Organisation" value="#{accountsBean.str_Organisation}"  >
                   
                 </p:inputText>
                  </td>
                 </tr>
                  <tr>
          <td>  <h:outputText  value="Opening Balance Date*" /></td>
        
           <td>  <p:calendar id="str_DueTemplate" value="#{accountsBean.dat_openingDate}" size="24" locale="de" navigator="true" pattern="yyyy-MM-dd" valueChangeListener="#{accountsBean.datechangeListener}">
            <p:ajax event="dateSelect" partialSubmit="true"  /></p:calendar>
        <font color="red">This is the date on which you are migrating accounts from your existing accounting system Accounting.</font></td>
             </tr>
             </table>
           
             <h:dataTable   id="account" var="accounts" value="#{accountsBean.listOpeningBalance}" binding="#{accountsBean.updatedAccounts}" style="width: 99%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
            <p:column >
                <f:facet name="header" >
                    <h:outputText value="Accounts" />
                </f:facet>
                <h:outputText value="#{accounts.str_AccountsHead}"  />
          </p:column>
       
            <p:column>
            
            <f:facet name="header">
             <p:spacer height="10px" width="90px"></p:spacer>
                    <h:outputText  value="Debit" />   <p:spacer height="10px" width="290px"></p:spacer> <h:outputText  value="Credit" />
                </f:facet>
            <p:column >
           
                
                 <p:spacer height="10px" width="70px"></p:spacer>
                <p:inputText id="true" value="#{accounts.int_Debit}"  size="30" onchange="submit();" valueChangeListener="#{accountsBean.processValueChange}" >
                <f:ajax event="blur" update="priya" partialSubmit="true" />   
               </p:inputText>
            <p:spacer height="10px" width="80px"></p:spacer>
        
         
               
                <p:inputText value="#{accounts.int_Credit}" valueChangeListener="#{accountsBean.processValueChange1}" size="30" onchange="submit();">
                  <f:ajax event="blur" update="hgy"  partialSubmit="true"/>   
               </p:inputText>
                </p:column>
                </p:column>
         
 </h:dataTable>
	
	 
	  <table style="width: 98%;margin-left: 1%;margin-right: 2%;margin-bottom:5px"> 
	 <tr>
	    <td width="26%">Total Amount	   </td>
	 
	    <td width="23%"><h:inputText id="priya" value="#{accountsBean.totalAmount}" readonly="true" size="30"/></td>
	    
	    <td > <h:inputText id="hgy" value="#{accountsBean.totalAmount1}"  readonly="true"  size="30"/></td>
	 </tr>
	 
	<h:panelGroup  rendered="#{accountsBean.indicator}">
	 <tr>
	     <td>Opening Balance Adjustment<br/><small>(Account will hold the difference in credits and debits.)</small></td>
	   
	      <td><h:inputText  id="priya1" value="#{accountsBean.adjustmentBalance}" readonly="true"  size="30"/></td>
	    <td> <h:inputText value="#{accountsBean.adjustmentBalance1}" readonly="true" size="30"/></td>
	 </tr>
	</h:panelGroup>
	  <tr>
	    <td>Total Amount<br/><small>(including Opening Balance Adjustment account balance)</small></td>
	    <td> <h:inputText value="#{accountsBean.totalAdjustBalance}" readonly="true"  size="30"/></td>
	   <td>  <h:inputText value="#{accountsBean.totalAdjustBalance1}" readonly="true" size="30" /></td>
	  
	 </tr>
	
	
	
	
	  <tr><td></td>
                <td><p:commandButton id="AddProduct" update=":form:ui-growl" value="Submit" style=" background-color:#9ACD32;width:10em;height:2em; color:white;margin-top:1em;" action="#{accountsBean.addAccountsHead(accountsBean.dat_openingDate)}" ajax="false" /></td>     
            </tr>
  </table>
         </div> 
         </h:form>
         </h:body>
         </ui:define>
         </ui:composition>