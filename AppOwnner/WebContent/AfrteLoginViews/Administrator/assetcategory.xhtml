<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
 
	 
	<h:head>
  
	 
	 
<style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
</style>

     
 </h:head>
	<h:form >
	
	 <p:growl id="growl" sticky="true"/>
	   <h:body>
	<div id="page3">
           <div class="gsTitleDiv">Assets Catecory<br/><hr/></div> 
	 <table style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
	 <tr><td><p:outputLabel value="Organisation:" />  <p:outputLabel value="#{expenseBean.str_OrganizationName}" /> </td>
              </tr>
	 <tr><td>  
	    <p:commandButton style="width:120px;height:25px" process="DT" update="multiAssetCategoryDetail" icon="ui-icon-plus"  value="Create New" oncomplete="PF('multiAssetCategoryDialog').show()" />
	
	 &#150; &#150;  <p:commandButton  style="width:120px;height:25px" process="DT" update="multiAssetCategoryDetail1" icon="ui-icon-search" value="View" oncomplete="PF('multiAssetCategorylDialog1').show()" />
       &#150; &#150; <p:commandButton style="width:120px;height:25px" process="DT" update="multiAssetCategoryDetail2" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiAssetCategoryDialog2').show()" />
       &#150; &#150;  <p:commandButton style="width:120px;height:25px"  update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{expenseBean.deleteAssetsCategory()}" icon="ui-icon-trash" value="Delete" />
       <p:commandButton style="width:120px;height:25px"  value="Refresh" />
         
     
     </td>
     </tr>
     </table>
         <p:dataTable      id="DT"  
               
               rows="3"   paginator="true"  paginatorPosition="bottom"   resizableColumns="true"  style="overflow:hidden;border:0pt none;width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="1,2,3"  var="ac"  value="#{expenseBean.assetCategoryList}" selection="#{expenseBean.assetCategoryList1}" rowKey="#{ac.int_assetcatId}">
	 <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
   
          <p:column headerText="Organization">
               
                   <h:outputText value="#{ac.str_OrganizationName}" /> 
                    
          </p:column>
          <p:column headerText="Category Name">
            <h:outputText value="#{ac.str_assetcat_name}" /> 
                              
          </p:column>
         
	 </p:dataTable>
	 <p:dialog header="Create AssetsCategory" widgetVar="multiAssetCategoryDialog"       showEffect="explode" hideEffect="bounce" resizable="false" height="250" width="500">
        <p:outputPanel id="multiAssetCategoryDetail" columns="2" cellpadding="5" style="text-align:center;">
       <table style="overflow:hidden;border:0pt none;width: 50%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
	<tr><th> 
              <p:outputLabel for="org" value="Organisation" /> </th>
             <td> <h:selectOneMenu id="org" required="true" value="#{expenseBean.str_OrganizationName}">
              <f:selectItem itemLabel="#{expenseBean.str_OrganizationName}"  itemValue="#{expenseBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td></tr>
	<tr><th><p:outputLabel for="AssetCategory" value="CategoryName" /></th>
	<td><p:inputText    id="AssetCategory"  required="true" requiredMessage="Enter AssetCategory" placeholder="Enter AssetCategory" value="#{expenseBean.str_AssetCategoryType}">
	  <p:ajax event="blur" update="AssetCategoryMsg" />
	</p:inputText>
	</td>
	  <td>  <p:message id="AssetCategoryMsg" for="AssetCategory" display="text"/>  </td>
	</tr>
	 
	  
	</table>
	<div>
	<hr/>
	 <p:commandButton   styleClass="btn"  value="Submit" update="growl"  actionListener="#{expenseBean.saveAssetCategory}" oncomplete="handleLoginRequest(xhr, status, args)" />
	 
	 
	
	  &#150; &#150; <h:commandButton   styleClass="btn"   ajax="false" value="Cancel"    action="assetcategory.xhtml" >
	  <f:ajax execute="@this" event="click"  render="@form"/>
	  </h:commandButton> 
	</div>
	 
        </p:outputPanel>
        </p:dialog>
        <p:dialog header="Edit AssetsCatgory Details" widgetVar="multiAssetCategoryDialog2"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="multiAssetCategoryDetail2" style="text-align:center;">
           <ui:repeat value="#{expenseBean.assetCategoryList1}" var="ac1">
           <table style="overflow:hidden;border:0pt none;width: 50%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
               
           
            <tr><th> 
               <p:outputLabel for="org1" value="Organisation" /> </th>
             <td> <h:selectOneMenu id="org1" required="true" value="#{expenseBean.str_OrganizationName}">
              <f:selectItem itemLabel="#{expenseBean.str_OrganizationName}"  itemValue="#{expenseBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td></tr>
             <tr>
             <th><p:outputLabel for="AssetCategory1" value="Category Name"/></th><td><p:inputText id="AssetCategory1" required="true" requiredMessage="Enter Category Name" value="#{ac1.str_assetcat_name}" >
             <p:ajax event="blur" update="AssetCategoryMsg1" />
             </p:inputText>
              </td>
             <td>  <p:message id="AssetCategoryMsg1" for="AssetCategory1" display="text"/>  </td>
             </tr>
             
            </table>
             </ui:repeat>
              <div>
              <hr/>
               <h:commandButton value="update"  styleClass="btn"  ajax="false"   action="#{expenseBean.updateAssetCategory(ac1)}">
               
             </h:commandButton>
            &#150; &#150;  <h:commandButton   styleClass="btn"    value="Cancel"  ajax="false"  action="assetcategory.xhtml" >
	  <f:ajax execute="@this" event="click"  render="@form"/>
	  </h:commandButton> 
              </div>
             </p:outputPanel>
             </p:dialog>
             <p:dialog header="AssetsCatgory Details" widgetVar="multiAssetCategoryDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="multiAssetCategoryDetail1" style="text-align:center;">
          
           <table style="overflow:hidden;border:0pt none;width: 50%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
               
            <ui:repeat value="#{expenseBean.assetCategoryList1}" var="ac2">
           <tr>
  
  <th>  <p:outputLabel   value="Organisation:" /> </th>
              
              <td><h:selectOneMenu  readonly="true"   value="#{expenseBean.str_OrganizationName}">
              <f:selectItem itemLabel="#{expenseBean.str_OrganizationName}"  itemValue="#{expenseBean.str_OrganizationName}" />
                
                 </h:selectOneMenu></td>
    </tr>
    
             <tr>
             <th><p:outputLabel  value="Category Name"/></th><td><p:inputText  readonly="true" value="#{ac2.str_assetcat_name}" /> </td>
             </tr>
             
            </ui:repeat>
             
            </table>
             <div>
             <hr/>
             </div>
             </p:outputPanel>
             </p:dialog>
             </div>
             </h:body>
             </h:form>
           <script type="text/javascript">
    function handleLoginRequest(xhr, status, args) 
    {
        if(args.validationFailed || !args.loggedIn)
             {
            PF('multiAssetCategoryDialog').show();
            alert('h')
        } 
        else{
        	alert('hh')
            PF('multiAssetCategoryDialog').hide();
        }
        
    }
    
</script>
</ui:define>
</ui:composition>