<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{expenseBean.templateIndicator}">
	<ui:define name="content">
 <f:metadata>
	 
	 
	<f:viewAction action="#{loginBean.getUserExtraInfo}" />
</f:metadata>
<h:head>
<style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
</style>
</h:head>
    <a href="servicerequest.xhtml">>>Back To Service Request</a >
    <h:form>
     	<p:growl id="ui-growl" globalOnly="true" sticky="true" />
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/started.jpg" height="50" width="50"></img> <span class="title">Create New Service Request</span>
				</td>
			</tr>
		</tbody>
	</table>
    <div id="page3">
     <p:outputPanel   rendered="#{request.getAttribute('render1')}">
					<div id="password">
					  <h4>Your Service Request Sent  successfully.....</h4> 
        <h4> #{request.getAttribute('Message')}</h4>
         
         
         <h4>Thanks....</h4> 
					</div>
					</p:outputPanel>
           <div class="gsTitleDiv">Service  Details<br/><hr/></div>
           
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
    
    <tr><th><h:outputLabel value="Created by"/></th>  <td><p:inputText readonly="true" value="#{loginBean.str_FirstName}"/></td>   <th><h:outputLabel value="Organization"/></th> <td><h:selectOneMenu value="#{loginBean.str_ApartmentName}">
     
    <f:selectItem itemLabel="#{loginBean.str_ApartmentName}"  itemValue="#{loginBean.str_ApartmentName}" />
    </h:selectOneMenu>
    </td></tr>
    <tr>    <th><h:outputLabel value="Block"/></th>  <td><h:selectOneMenu id="str_Block"   value="#{loginBean.str_Block}" valueChangeListener="#{loginBean.blockChangeListener}"   required="true">
            <f:selectItem itemLabel="Select Block"  itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{cls_UserBean.blockNameList}"/>
             <p:ajax event="change" update="str_House" process="str_Block"/>
             </h:selectOneMenu>  
    </td></tr>
   <tr><th><h:outputLabel value="Flat Name"/></th> <td><h:selectOneMenu id="str_House"       value="#{loginBean.str_Flat}" required="true" valueChangeListener="#{loginBean.houseNoChangeListener}"     requiredMessage="Enter Flat Name!">
            
            <f:selectItems value="#{loginBean.houseNoList}"/>
            
                                </h:selectOneMenu>
            
             </td> 
   <th><h:outputLabel value="Type"/></th> <td><p:inputText value="#{loginBean.str_UserType}" /></td></tr>
    
    <tr><th><h:outputLabel value="Name"/></th> <td><h:selectOneMenu value="#{loginBean.str_FirstName}" id="name">
    <f:selectItem itemLabel="Select "   itemValue="" noSelectionOption="true" />
    <f:selectItem itemLabel="#{loginBean.str_FirstName}"   itemValue="#{loginBean.str_FirstName}"/>
    </h:selectOneMenu>
    </td>   <th><h:outputLabel value="Email"/></th>  <td><h:selectOneMenu value="#{loginBean.str_EmailId}" id="email">
    <f:selectItem itemLabel="Select"   itemValue="" noSelectionOption="true" />
    <f:selectItem itemLabel="#{loginBean.str_EmailId}"   itemValue="#{loginBean.str_EmailId}"/>
    </h:selectOneMenu>
    </td></tr>
    <tr><th><h:outputLabel value="Mobile"/></th>  <td><p:inputText  maxlength="11" value="#{loginBean.str_Mobile}"/></td>   <th><h:outputLabel value="LandLine"/></th>  <td><p:inputText value="#{loginBean.str_LandLineNum}"/></td></tr>
     
    <tr><th><h:outputLabel value="Date Open"/></th>  <td><p:calendar navigator="true" pattern="dd-MM-yyyy"  value="#{loginBean.dat_OpenDate}"/>  </td> <th><h:outputLabel value="Date Closed"/></th>  <td><p:inputText value="#{loginBean.str_CloseDate}"/></td></tr>
    <tr><th><h:outputLabel value="Status"/></th> <td><p:inputText value="#{expenseBean.str_Status}"/></td>   <th><h:outputLabel value="VendorCategory"/></th>  <td><h:selectOneMenu value="#{loginBean.str_VendorType}">
    <f:selectItems value="#{vendorBean.str_VendorTypeList}"/></h:selectOneMenu>
    </td></tr>
   <tr><th><p:outputLabel for="Title" value="title"/></th>  <td><p:inputText id="Title" required="true" requiredMessage="plz  enter Title" value="#{loginBean.str_Title}">
   <p:ajax event="blur" update="TitleMsg" />
   </p:inputText>
   
   </td>
   <td> <p:message  id="TitleMsg" for="Title" display="text"/> </td>
   </tr>
   
   </table>
   
   
   <table  style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr><th><p:outputLabel for="editor"  value="Description"/></th>  <td></td><td><p:editor id="editor" required="true" requiredMessage="plz  Enter Description"  widgetVar="editorWidget" value="#{loginBean.str_Description}" width="550" height="280" style="margin-bottom:20px;"  /></td>
    <td> <p:message  id="editorMsg" for="editor" display="text"/> </td>
   </tr>
   <tr><td> <h:commandButton  styleClass="btn" style="width:100px" onclick="return confirm('U wanna send Email to admin ');" value="Submit" action="#{loginBean.addServiceRequest()}"/></td><td> <h:commandButton  styleClass="btn" style="width:100px" value="Cancel" action="#"/> </td></tr>
                 
    </table>
    </div>
    
    <a href="servicerequest.xhtml">>>Back To Service Request</a >
    </h:form>
	</ui:define>
</ui:composition>
 