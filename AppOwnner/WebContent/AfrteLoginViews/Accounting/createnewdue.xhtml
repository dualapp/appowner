<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/#{dueBean.indicator2}">
	<ui:define name="content">
     
<h:head>
   <title>Dues Form</title>
     <style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:250px;
          
          }
          select
          {
           height:25px;
           weight:250px;
          }
      </style>	
    
    </h:head>
   
   <body >
    <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/dues.png" height="60" width="70"></img> <span class="title">Dues</span>
				</td>
				<td ><a href="dues.xhtml"> &lt;&lt; Back to Grid</a></td>
			</tr>
		</tbody>
	</table>
  <h:form id="form" >
  <p:growl id="growl" showDetail="true" sticky="true" />  
   <div id="page3"> 
   <div class="gsTitleDiv">Template<br/><hr/></div>
   
   <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" >
            <tr>
            <td><h:outputLabel value="Account" /> <font color="red" >*</font></td> 
            
              <td ><h:selectOneMenu id="str_Account" value="#{dueBean.str_Accounts}" required="false" >
              
                   <f:selectItems value="#{dueBean.ravenues}"  />
                 
                 </h:selectOneMenu>
             </td>
          </tr> 
          <tr>
            <td><h:outputLabel value="Due Template" /><font color="red" >*</font></td>
              <td><h:selectOneMenu id="str_DueTemplate" value="#{dueBean.str_DueTemplate}" valueChangeListener="#{dueBean.templateChangeListener}" >
                   <f:selectItems value="#{dueBean.str_DueTemplates}"/>
                    <p:ajax event="change"  process="str_DueTemplate" update="str_Period"/>
                 </h:selectOneMenu>
             </td>
          </tr> 
          </table>
         </div>
          <div id="page3"> 
           <div class="gsTitleDiv">Due Details<br/><hr/></div>
  
   <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
            <tr>
            <td> <h:outputText  value="Period" /><font color="red" >*</font></td> 
           <td>
           <h:panelGroup id="str_Period">
          
           <h:selectOneMenu value="#{dueBean.str_Period}" rendered="#{dueBean.periodIndicator eq 'Quarterly' }" valueChangeListener="#{dueBean.periodChangeListener}">
            <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                   <f:selectItem itemLabel="Q1[APR-JUN]" itemValue="Q1[APR-JUN]"/>
                     <f:selectItem itemLabel="Q2[JUL-SEP]" itemValue="Q2[JUL-SEP]"/>
                       <f:selectItem itemLabel="Q3[OCT-DEC]" itemValue="Q3[OCT-DEC]"/>
                        <f:selectItem itemLabel="Q4[JAN-MAR]" itemValue="Q4[JAN-MAR]"/>
                       <p:ajax event="change"  process="str_Period"  partialSubmit="true" update="int_Year"/>  
                 </h:selectOneMenu>
           <h:selectOneMenu  value="#{dueBean.str_Period}" rendered="#{dueBean.periodIndicator eq 'Monthly'}" valueChangeListener="#{dueBean.periodChangeListener}">
            <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                   <f:selectItem itemLabel="JAN" itemValue="JAN"/>
                     <f:selectItem itemLabel="FEB" itemValue="FEB"/>
                       <f:selectItem itemLabel="MAR" itemValue="MAR"/>
                        <f:selectItem itemLabel="APR" itemValue="APR"/>
                          <f:selectItem itemLabel="MAY" itemValue="MAY"/>
                     <f:selectItem itemLabel="JUN" itemValue="JUN"/>
                       <f:selectItem itemLabel="JUL" itemValue="JUL"/>
                        <f:selectItem itemLabel="AUG" itemValue="AUG"/>
                          <f:selectItem itemLabel="SEP" itemValue="SEP"/>
                     <f:selectItem itemLabel="OCT" itemValue="OCT"/>
                       <f:selectItem itemLabel="NOV" itemValue="NOV"/>
                        <f:selectItem itemLabel="DEC" itemValue="DEC"/>
                        <p:ajax event="change"  process="str_Period"  partialSubmit="true" update="int_Year"/>  
                 </h:selectOneMenu>
                  <h:selectOneMenu  value="#{dueBean.str_Period}" rendered="#{dueBean.periodIndicator eq 'Yearly' || dueBean.periodIndicator eq 'One Time' || dueBean.str_DueTemplate1 eq null}" valueChangeListener="#{dueBean.periodChangeListener}">
                  
                   <f:selectItem itemLabel="N/A" itemValue="N/A"/>
                   <p:ajax event="change"  process="str_Period"  partialSubmit="true" update="int_Year"/>  
                   </h:selectOneMenu>
                  
                 </h:panelGroup></td>
            </tr>
         <tr>
            <td> <h:outputText  value="Year" /><font color="red" >*</font></td>
           <td> <h:selectOneMenu id="int_Year" value="#{dueBean.int_Year}" valueChangeListener="#{dueBean.periodChangeListener1}">
                   <f:selectItem itemLabel="2014" itemValue="2014"/>
                     <f:selectItem itemLabel="2015" itemValue="2015"/>
                       <f:selectItem itemLabel="2016" itemValue="2016"/>
                        <f:selectItem itemLabel="2017" itemValue="2017"/>
                          <f:selectItem itemLabel="2018" itemValue="2018"/>
                     <f:selectItem itemLabel="2019" itemValue="2019"/>
                       <f:selectItem itemLabel="2020" itemValue="2020"/>
                        <p:ajax event="change"  process="int_Year"  />   
                        </h:selectOneMenu>
                        </td>
                        </tr>
                        <tr>
                        <td>  <h:outputText  value="Initiated On" /><font color="red" >*</font></td>
           <td>  <p:calendar id="str_InitiatedOn" value="#{dueBean.str_InitiatedOn}" pattern="dd-MM-yyyy" navigator="true"/> </td>
           </tr>
           <tr>
                        <td>  <h:outputText  value="Last Date" /><font color="red" >*</font></td>
           <td>  <p:calendar id="dat_LastDate" value="#{dueBean.dat_LastDate}"  pattern="dd-MM-yyyy"  navigator="true" required="true" requiredMessage="Last date should not Empty"/> </td>
           <td><p:message for="dat_LastDate" dispay="text"/></td>
           </tr>
           </table>
           </div>
            <div id="page3"> 
           <div class="gsTitleDiv">Apartment Details<br/><hr/></div>
  
   <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   <tr>
      <td><h:outputLabel value="Organisation" /><font color="red" >*</font></td>
              <td><h:selectOneMenu id="str_Organisation" value="#{dueBean.str_Organisation}" >
                    <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{dueBean.str_Organisation}" itemValue="#{dueBean.str_Organisation}"/>
                 </h:selectOneMenu>
             </td>
             </tr>
             <tr>
             <td><h:outputLabel value="Block" /><font color="red" >*</font></td>
              <td><h:selectOneMenu id="str_Block" value="#{dueBean.str_Block}" valueChangeListener="#{dueBean.blockChangeListener}"   required="true" requiredMessage="Block Should not Empty">
                     <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_Blocks}" />
                    <p:ajax event="change" update="str_ApartmentNo" process="str_Block"/>
                 </h:selectOneMenu>
             </td>
              <td><p:message for="str_Block" dispay="text"/></td>
             </tr>
             <tr>
               <td><h:outputLabel value="Apt.No" /><font color="red" >*</font></td>
              <td><h:selectOneMenu id="str_ApartmentNo" value="#{dueBean.str_ApartmentNo}" valueChangeListener="#{dueBean.apartmentChangeListener}"  required="true" requiredMessage="ApartmentNo Should not Empty" oncomplete="PF('multiDuesDialog').show()">
                   <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItems value="#{dueBean.str_BlockNo}" />
                    <p:ajax event="change" update="dbl_DueAmount,dbl_TotalDueAmount,growl" process="str_ApartmentNo"/>
                 </h:selectOneMenu>
             </td>
              <td><p:message for="str_ApartmentNo" dispay="text"/></td>
             </tr>
          
          </table>
         </div>
          <div id="page3"> 
    <div class="gsTitleDiv">Amount Details<br/><hr/></div>     
 
   <table style="width: 78%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
   
          <tr>
           <td>  <h:outputText  value="Due Amount" /></td>
           <td>  <p:inputText id="dbl_DueAmount" value="#{dueBean.dbl_DueAmount}"  readonly="true" /> </td>
           <td></td>
           </tr>
           <tr>
           <td>  <h:outputText  value="Total Due Amount" /></td>
           <td>  <p:inputText id="dbl_TotalDueAmount" value="#{dueBean.dbl_DueAmount}"  readonly="true"/> </td>
           </tr>
         
           </table>
           
           <br/>
            <h:panelGroup style="display:block; text-align:right"> 
         <tr>
                <td><p:commandButton id="submit" value="Submit" action="#{dueBean.addDueTransaction}"  ajax="false" /></td>
                <td><p:commandButton id="cancel" value="Cancel" onclick="" ajax="false"/></td>
           </tr>
           </h:panelGroup>
              <p:dialog header="Message" widgetVar="multiDuesDialog"     showEffect="explode" hideEffect="explode" resizable="false" height="100" width="300">
        <p:outputPanel id="multiDuesDetail" style="text-align:center;">
          <table>
          <tr>
          <td><h4>Dues cannot be edited.</h4>
          
          </td>
          </tr>
         
         
          </table>
          
        </p:outputPanel>
    </p:dialog>
</div>

          
       
         
          </h:form>
          </body>
   </ui:define>
   </ui:composition>