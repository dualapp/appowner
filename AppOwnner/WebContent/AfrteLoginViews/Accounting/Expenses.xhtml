 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="#{expenseBean.str_Name}include/templates/template1.xhtml">
	<ui:define name="content">
 <h:head>
    <title>Expense</title>
   <style type="text/css">
         input[type=text] 
          {
           
           height:25px;
           weight:250px;
          }
          select
          {
           height:25px;
           weight:250px;
          }
      </style>	
       <style type="text/css">
 .ui-growl {
 position:absolute;
        
         width:400px;
         left:50%;
         top:200px;
         margin-left:-200px; 

}
</style>
      
</h:head>
<table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:5px" class="src">
		<tbody>
			<tr>
				<td> 
					<img src="#{expenseBean.str_Name}images/expense.jpg" height="50" width="50"></img> <span class="title">Expense</span>
				</td>
			</tr>
		</tbody>
	</table>
  <h:form id="form">
  <p:growl id="ui-growl" globalOnly="true" sticky="true" />
  <div id="page3">
   
       <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"><tr>
         
              <th><p:outputLabel value="Organisation:" /></th>
              <td><h:selectOneMenu     value="#{expenseBean1.str_OrganizationName}" >
               
                <f:selectItem itemLabel="#{expenseBean1.str_OrganizationName}"  itemValue="#{expenseBean1.str_OrganizationName}"/>
                   
                 </h:selectOneMenu>
             </td>
            
             <th><p:outputLabel  value="Expense Type:" /></th>
               <td><h:selectOneMenu   value="#{expenseBean1.str_ExcepenseType}" >
                  <f:selectItem itemLabel="All" itemValue="All" />
                   <f:selectItem itemLabel="Expense" itemValue="Expense"/>
                    <f:selectItem itemLabel="Estimate" itemValue="Estimate"/>
                   
                 </h:selectOneMenu>
             </td>
              
             <th><p:outputLabel  value="Expense Category:" /></th>
               <td><h:selectOneMenu   value="#{expenseBean1.str_ExpenseCategory}"  >
                  <f:selectItem itemLabel="All" itemValue="" noSelectionOption="true" />
                   <f:selectItem itemLabel="Expense" itemValue="Expense"  />
                    
                 </h:selectOneMenu>
                 </td></tr>
                           
             
            
             <tr> <th><p:outputLabel value="Duration:" /></th>
              <td><h:selectOneMenu value="#">
             
            <f:selectItem   itemValue="today" itemLabel="Today"/>
            <f:selectItem  itemLabel="Lastweek" itemValue="Private" />
             <f:selectItem  itemLabel="CurrentMonth" itemValue="Private" />
              <f:selectItem  itemLabel="NextMonth" itemValue="Private" />
               <f:selectItem  itemLabel="PreviousMonth" itemValue="Private" />
                <f:selectItem  itemLabel="SpecificDate" itemValue="Private" />
      </h:selectOneMenu>
             </td>
               
             <th><p:outputLabel  value="Asset Category:" /></th>
               <td><h:selectOneMenu id="assetcatname"  value="#{expenseBean1.str_AssetCategoryType}" valueChangeListener="#{expenseBean1.assetCatNameListener}" >
                  <f:selectItem itemLabel="All" itemValue="All" noSelectionOption="true" />
                 
                   <f:selectItems  value="#{expenseBean1.str_AssetCatNameList}" />
                   <p:ajax event="change" update="assetname" process="assetcatname"/>
                 </h:selectOneMenu>
             </td>
               
             <th><p:outputLabel  value="Asset Name" /></th>
               <td><h:selectOneMenu  id="assetname" value="#{expenseBean1.str_AssetName}"  valueChangeListener="#{expenseBean1.assetNameListener}" >
                  <f:selectItem itemLabel="All" itemValue="All" noSelectionOption="true" />
                  <f:selectItems  value= "#{expenseBean1.str_AssetNameList}"  />
                  
                  
                 </h:selectOneMenu>
                 </td>
                <th><p:commandButton   value="Go" action="#{expenseBean1.getExpenseList}"/></th></tr>
                 </table>
                  </div>
                  <div id="page3">
            
            <table style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px">
            <tr><td>
          <p:button icon="ui-icon-plus"  style="width:120px;height:25px"  outcome="createExpenses" value="Create New"/>   &#150; &#150;<p:button   style="width:120px;height:25px"  value="Refresh" />&#150; &#150;<p:menuButton value="Action">
        <p:menuitem value="Approved Selected" />
        <p:menuitem value="Reject Selected" />
        <p:menuitem value="View Chart" />
         <p:menuitem value="View Summary"/>
         <p:menuitem value="Export To Excel"/>
        </p:menuButton>
         &#150; &#150;  <p:commandButton style="width:120px;height:25px"  process="DT" update=":form:multiExpenseDetail1" icon="ui-icon-info" value="View" oncomplete="PF('multiExpenseDialog1').show()" />
       &#150; &#150; <p:commandButton  style="width:120px;height:25px" process="DT" update=":form:multiExpenseDetail" icon="ui-icon-pencil" value="Edit " oncomplete="PF('multiExpenseDialog').show()" />
       &#150; &#150;  <p:commandButton style="width:120px;height:25px"  update="DT" process="DT" onclick="return confirm('Are you sure you want to delete ?');" action="#{expenseBean1.deleteSelectedExpenses()}" icon="ui-icon-trash" value="Delete" />
        </td>
        </tr>
        </table>
        
             <p:dataTable     selection="#{expenseBean1.selectedExpenses}" rowKey="#{Expenselist.str_ExpenseId}"
              id="DT"    
                 var="Expenselist" value="#{expenseBean1.expenseList}"   resizableColumns="true" style="width: 98%;margin-left: 1%;margin-right: 1%;margin-bottom:5px" 
               rows="5" paginatorPosition="bottom"  paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="3,6,12"  >
                <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:left">
          </p:column>
        
 
          <p:column     headerText="Organization"   >
          
                <p:outputLabel   value="#{Expenselist.str_OrganizationName}" /> 
                 
                 
            </p:column>
            <p:column  headerText="Id"  >
                 <p:outputLabel    value="#{Expenselist.str_ExpenseId}" /> 
                
            </p:column>
              <p:column   headerText="Type"  >
                <p:outputLabel    value="#{Expenselist.str_ExpenseType}" /> 
          
                
            </p:column>
             <p:column   headerText="Expense"  >
                <p:outputLabel    value="#{Expenselist.str_ExpenseCategory}" /> 
          
                
            </p:column>
             <p:column    headerText="Description" >
              <p:outputLabel    value="#{Expenselist.str_Description}" /> 
                
            </p:column>
            <p:column   headerText="AssetCategory"  >
                <p:outputLabel    value="#{Expenselist.str_AssetCatType}" /> 
          
                
            </p:column>
             <p:column   headerText="Amount"  >
                <p:outputLabel    value="#{Expenselist.int_Ammount}" /> 
          
                
            </p:column>
             <p:column   headerText="Date"  >
                <p:outputLabel    value="#{Expenselist.date_Duration}" /> 
          
                
            </p:column>
             <p:column   headerText="Expense Category"  >
                <p:outputLabel    value="#{Expenselist.str_ExpenseCategory}" /> 
          
                
            </p:column>
             <p:column   headerText="Asset Name"  >
                <p:outputLabel    value="#{Expenselist.str_AssetName}" /> 
          
                
            </p:column>
             <p:column   headerText="Status"  >
                <p:outputLabel    value="Approved" /> 
          
                
            </p:column>
           
              
             </p:dataTable>
              <p:dialog header="Edit Vendor Details" widgetVar="multiExpenseDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiExpenseDetail" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{expenseBean1.selectedExpenses}" var="ex">
             <tr>
 <th>
    <p:outputLabel value="Organization Name:"/></th>
    <td>
    <p:inputText value="#{ex.str_OrganizationName}"/></td>  
    </tr>
  <tr>
 <th>
    <p:outputLabel value="AccountName:"/></th>
    <td>
    <p:inputText value="#{ex.str_AccountName}"/></td>  
    </tr>
     <tr>
 <th>
    <p:outputLabel value="ExpenseType:"/></th>
    <td>
    <p:inputText value="#{ex.str_ExpenseType}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="ExpenseCategory:"/></th>
    <td>
    <p:inputText value="#{ex.str_ExpenseCategory}"/></td>  
    </tr>
    
      <tr>
 <th>
    <p:outputLabel value="AssetCategoryType:"/></th>
    <td>
    <p:inputText value="#{ex.str_AssetCatType}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="AssetsName:"/></th>
    <td>
    <p:inputText value="#{ex.str_AssetName}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="Ammount:"/></th>
    <td>
    <p:inputText value="#{ex.int_Ammount}"/></td>  
    </tr>
      
    <tr><td><h:commandButton value="Update" action="#{expenseBean1.updateOneExpense(ex)}" /> 
     </td>
     </tr>
             </ui:repeat>
             </table>
             </p:outputPanel>
             </p:dialog>
              <p:dialog header="Edit Vendor Details" widgetVar="multiExpenseDialog1"     showEffect="explode" hideEffect="bounce" resizable="false" height="300" width="400">
        <p:outputPanel id="multiExpenseDetail1" style="text-align:center;">
          
           <table>
               
            <ui:repeat value="#{expenseBean1.selectedExpenses}" var="ex">
            <tr>
 <th>
    <p:outputLabel value="Organization Name:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_OrganizationName}"/></td>  
    </tr>
  <tr>
 <th>
    <p:outputLabel value="AccountName:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_AccountName}"/></td>  
    </tr>
     <tr>
 <th>
    <p:outputLabel value="ExpenseType:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_ExpenseType}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="ExpenseCategory:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_ExpenseCategory}"/></td>  
    </tr>
    
      <tr>
 <th>
    <p:outputLabel value="AssetCategoryType:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_AssetCatType}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="AssetsName:"/></th>
    <td>
    <p:outputLabel value="#{ex.str_AssetName}"/></td>  
    </tr>
      <tr>
 <th>
    <p:outputLabel value="Ammount:"/></th>
    <td>
    <p:outputLabel value="#{ex.int_Ammount}"/></td>  
    </tr>
            </ui:repeat>
            </table>
            </p:outputPanel>
            </p:dialog>
            </div>
            </h:form>
           
            </ui:define>
            </ui:composition>