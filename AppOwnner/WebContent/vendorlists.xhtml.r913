<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	<ui:define name="content">
<h:head>
    <title> </title>
    <a href="addvendor.xhtml">Add Vendor</a>
    <script src="JavaScript/ModalPopupWindow.js" type="text/javascript"></script>

 <style>
     body
        {
            font-family: Verdana;
            font-size: 10px;
         
        }
     
    </style>

</h:head>


<h:body>

<script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");
function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('Create New Due Template.xhtml',470,600,'Create New Due Template',null,callbackFunctionArray);
 
 }
 
function ShowNewPage1(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
     modalWin.ShowURL("editvendor.xhtml?int_VendorId="+clicked_id+"",400,350,'Editvendor',null,callbackFunctionArray);
	 }
function ShowNewPage2(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 alert(clicked_id);
	modalWin.ShowURL("viewvendor.xhtml?int_VendorId="+clicked_id+"",400,350,'View Vendor',null,callbackFunctionArray);
	 }
	 
 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 function  ShowMessageWithAction(){
    //ShowConfirmationMessage(message, height, width, title,onCloseCallBack, firstButtonText, onFirstButtonClick, secondButtonText, onSecondButtonClick);
    modalWin.ShowConfirmationMessage('This is confirmation window using Javascript',200,400,'User Confirmation',null,'Agree',Action1,'Disagree',Action2);
 }

function ShowMessageNoDragging(){
 modalWin.Draggable=false;
 modalWin.ShowMessage('You can not drag this window',200,400,'User Information');

}

function Action1(){
alert('Action1 is excuted');
modalWin.HideModalPopUp();
}

function Action2(){
alert('Action2 is excuted');
modalWin.HideModalPopUp();
}

function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}


</script>
</h:body>
 <body bgcolor="yellow">
   
 <h:form  id="form">
 <p:commandButton id="VendorBtn" icon="ui-icon-extlink" value="VendorList" type="button" />
    <p:overlayPanel id="VendorPanel" for="VendorBtn" hideEffect="fade" dynamic="true" style="width:1000px">
 <legend  align="left" style="background-color:#438eb9; color:#fff;">
 
  <tr><td><p:selectOneMenu   value="#{vendorBean.str_VendorName }"   style="width:200px" >
            <f:selectItem itemLabel="Select Name" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.vendorNameList}" />
            </p:selectOneMenu>
            <p:commandButton style="width:200px"  update="DT"  icon="ui-icon-search"    value="Search" action="#{vendorBean.getVendorList()}"/>
</td> </tr>
 <tr><td><p:selectOneMenu   value="#{vendorBean.str_VendorType }"   style="width:200px" >
            <f:selectItem itemLabel="Select Type" itemValue="" noSelectionOption="true" />
                
                <f:selectItems value="#{vendorBean.str_VendorTypeList}" />
            </p:selectOneMenu>
            <p:commandButton style="width:200px"  update="DT"  icon="ui-icon-search"    value="Search" action="#{vendorBean.getVendorList()}"/>
</td> </tr>

</legend>
 <p:growl id="msgs" showDetail="true" />
  <h:commandButton style="width: 150px"  action="addvendor.xhtml" value="create new" />&#150; &#150;<h:commandButton  value="View Selected" />&#150; &#150;<h:commandButton  value="Delete Selected" />&#150; &#150;<h:commandButton  value="Refresh" />
	   <p:menuButton value="Action">
        <p:menuitem value="Assign Selected"  action="#"/>
        <p:menuitem value="close Selected" action="#"/>
        <p:menuitem value="View Chart" action="#"/>
         <p:menuitem value="View Summary" action="#"/>
         <p:menuitem value="Export To Excel" action="#"/>
        </p:menuButton>
        
       <p:dataTable  widgetVar="carsTable"  emptyMessage="No Vendors found with given criteria" filteredValue="#{vendorBean.vendorList}"  id="DT" editable="true" resizableColumns="true"   scrollRows="10" scrollable="true" liveScroll="true" scrollHeight="150"   var="vendor" value="#{vendorBean.vendorList}"   >
                <f:facet name="header">
             
                <h:outputText  value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('carsTable').filter()" style="width:150px"    placeholder="Enter keyword"/>
            
       </f:facet>
              
              <f:facet name="header">
            
            <p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="ui-icon-calculator" />
        <p:columnToggler datasource="DT" trigger="toggler" />
        </f:facet>
        
          <p:column   sortBy="#{vendor.str_VendorName}"  headerText="VendorName" footerText="Vendor Name" width="50">
           
             <a href="#"> <h:outputText   value="#{vendor.str_VendorName}" /> </a>
               
            </p:column>
            
          
            <p:column   sortBy="#{vendor.str_VendorType}"  headerText="Type" footerText="Type" width="50">
          
                <h:outputText   value="#{vendor.str_VendorType}" /> 
                
            
            </p:column>
            <p:column   sortBy="#{vendor.str_VendorEmail}"  headerText="Email" footerText="Email" width="50">
          
               <h:outputText   value="#{vendor.str_VendorEmail}" /> 
                
            
            </p:column>
            <p:column   sortBy="#{vendor.str_VendorPhone}"  headerText="Phone" footerText="Phone" width="50">
          
             <h:outputText   value="#{vendor.str_VendorPhone}" /> 
               
                
            
            </p:column>
            
                        <p:column  headerText="action" footerText="action" width="100">
                <input type="button" id="#{vendor.int_VendorId}" style="width: 50px" onclick="ShowNewPage1(this.id)" value="Edit" />
             <input type="button" id="#{vendor.int_VendorId}" style="width: 50px" onclick="ShowNewPage2(this.id)" value="View" />
                
                 	   		 
	   		 <h:link outcome="deletevendor.xhtml"
	   		 onclick="return confirm('Are you sure you want to delete #{vendor.str_VendorName}?');" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="images/k2.png"/> 
	   				<f:param name="int_VendorId" value="#{vendor.int_VendorId}" />
	   		</h:link>
	   	 
            </p:column>    
             
        
         
            </p:dataTable>
            </p:overlayPanel>
             
            </h:form>
            </body>
            
</ui:define>
</ui:composition>