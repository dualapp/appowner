<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	<ui:define name="content">
<h:head>
    <title>Message Template  Form</title>
    <script src="JavaScript/ModalPopupWindow.js" type="text/javascript"></script>
    <style>
     body
        {
          font-family: Verdana;
            font-size: 10px;
            }
     
    </style>
    <script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");

function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('createnewmessagetemplate.xhtml',470,600,'Create New Message Template',null,callbackFunctionArray);
 }
function ShowNewPage1(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
   modalWin.ShowURL("editmessagetemplate.xhtml?int_MessageTemplateID="+clicked_id+"",400,350,'Edit Message Template',null,callbackFunctionArray);
	 }
function ShowNewPage2(clicked_id){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	modalWin.ShowURL("viewmessagetemplate.xhtml?int_MessageTemplateID="+clicked_id+"",400,350,'View Message Template',null,callbackFunctionArray);
	 }
function ShowNewPage3(){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 modalWin.ShowURL('editmessagetemplate1.xhtml',470,600,'Edit Message Template',null,callbackFunctionArray);
	 }
function ShowNewPage4(){
	 var callbackFunctionArray = new Array(Submit, Cancel);
	 modalWin.ShowURL('viewmessagetemplate1.xhtml',470,600,'View Message Template',null,callbackFunctionArray);
	 } 
	 
 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 function  ShowMessageWithAction(){
    //ShowConfirmationMessage(message, height, width, title,onCloseCallBack, firstButtonText, onFirstButtonClick, secondButtonText, onSecondButtonClick);
    modalWin.ShowConfirmationMessage('This is confirmation window using Javascript',200,400,'User Confirmation',null,'Agree',Action1,'Disagree',Action2);
 }

function ShowMessageNoDragging(){
 modalWin.Draggable=false;
 modalWin.ShowMessage('You can not drag this window',200,400,'User Information');

}

function Action1(){
alert('Action1 is excuted');
modalWin.HideModalPopUp();
}

function Action2(){
alert('Action2 is excuted');
modalWin.HideModalPopUp();
}

function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}

</script>
   </h:head>
<body  bgcolor="pink">
  <h:form id="form" prependId="false">
  <fieldset>
    <legend>
   <h:commandButton value="Filter" style="background-color:#c00; color:#fff;" width="300"/> </legend>  
       <h:panelGroup id="performed"  >
           
              <td><h:outputLabel value="Organisation:" /></td>
              <td><p:selectOneMenu id="str_Organisation" value="#{templateBean.str_Organisation}"  style="width:150px">
                  <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{templateBean.str_Organisation}"  itemValue="#{templateBean.str_Organisation}"/>
                 </p:selectOneMenu>
             </td>
             <td><h:outputLabel value="Show:" /></td>
              <td><p:selectOneMenu id="str_Mode" value="#{templateBean.str_Mode}"  style="width:150px">
                   <f:selectItem itemLabel="All" itemValue="All" />
                    <f:selectItem itemLabel="Sms" itemValue="Sms" />
                     <f:selectItem itemLabel="Email" itemValue="Email" />
                 </p:selectOneMenu>
             </td>
              <td><h:outputLabel value="Message Template Of:" /></td>
              <td><p:selectOneMenu id="str_Category" value="#{templateBean.str_Category}"  style="width:150px">
                   <f:selectItem itemLabel="All" itemValue="All" />
                    <f:selectItem itemLabel="Ads" itemValue="Ads" />
                    <f:selectItem itemLabel="Dues" itemValue="Dues" />
                     <f:selectItem itemLabel="Maintenance" itemValue="Maintenance" />
                     <f:selectItem itemLabel="Parking" itemValue="Parking" />
                      <f:selectItem itemLabel="Meeting" itemValue="Meeting" />
                       <f:selectItem itemLabel="Others" itemValue="Others" />
                        <f:selectItem itemLabel="Welcome New User" itemValue="Welcome New User" />
                 </p:selectOneMenu>
             </td>
              <td><h:outputText  value="Category" /></td>
                &#150; &#150;&#150; &#150;&#150;
                <h:commandButton  value="Go" action="#{templateBean.messageSerch}" update="message"/>
                </h:panelGroup>
                </fieldset>
                <br/>
                <input type="button" style="width: 150px" onclick="ShowNewPage()" value="Create New" />&#150; &#150; <input type="button" style="width: 150px" onclick="ShowNewPage3()"  value="Edit Selected" />&#150; &#150; <input type="button" style="width: 150px" onclick="ShowNewPage4()"  value="View Selected" />&#150; &#150;<h:commandButton  value="Refresh" />
              <br/>
             <br/>
              
  </h:form>
  </body>
  
  <h:form>
  <h:body>
        <h:outputText value="Message Template: " color="red"></h:outputText>
        <p:dataTable id="message" var="message" value="#{templateBean.listMessages}" binding="#{templateBean.dataTable}" style="width: 100%"  rows="12" paginator="true"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} "  rowsPerPageTemplate="10,20,30,40,50">
					<f:facet name="header">
               MessageTemplate
               </f:facet>
                <p:column>
                <f:facet name="header">
                    <h:outputText value="Select" />
                </f:facet>
                 <h:selectBooleanCheckbox  value="aaa"  valueChangeListener="#{templateBean.processValueChange2}">
                 <p:ajax event="click"   partialSubmit="true"/>   
                </h:selectBooleanCheckbox>
           </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Organisation Name" />
                </f:facet>
                <h:outputText value="#{message.str_Organisation}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Mode" />
                </f:facet>
                <h:outputText value="#{message.str_Mode}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Category" />
                </f:facet>
                <h:outputText value="#{message.str_Category}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Title" />
                </f:facet>
                <h:outputText value="#{message.str_Title}" />
            </p:column>
              <p:column>
                <f:facet name="header">
                    <h:outputText value="Created By" />
                </f:facet>
                <h:outputText value="#{message.str_CreatedBy}" />
            </p:column>
           <p:column>
                <f:facet name="header">
                    <h:outputText value="Action" />
                </f:facet>
                 <input type="button" id="#{message.int_MessageTemplateID}" style="width: 50px" onclick="ShowNewPage1(this.id)" value="Edit" />
             <input type="button" id="#{message.int_MessageTemplateID}" style="width: 50px" onclick="ShowNewPage2(this.id)" value="View" />
               <h:link outcome="deletemessage.xhtml"
							onclick="return confirm('Are you sure you want to delete #{message.int_MessageTemplateID}?');">
							<p:graphicImage height="20" width="20" alt="delete"
								value="images/delete.jpg" />
							<f:param name="int_MessageTemplateID"
								value="#{message.int_MessageTemplateID}" />
						</h:link>
               
            </p:column>
            </p:dataTable>
            </h:body>
             </h:form>  
               
               
              </ui:define>
               </ui:composition>