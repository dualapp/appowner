<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://java.sun.com/jsf/html">
<f:metadata>
	<f:viewParam name="int_UserId" value="#{roleManagementBean.int_UserId}"  />
	 
	<f:viewAction action="#{roleManagementBean.getUserName}" />
	<f:viewAction action="#{roleManagementBean.getAssignedRoles}" />
	
	 </f:metadata>
	<h:head><title>Role Management</title></h:head>
      <body bgcolor="pink">
	 <h4 style="color:red">You can add a role roles by selecting the checkboxes and remove a role by de-selecting the checkbox. </h4>
	 <h:messages style="color:red"/>
	<h:form>
	<fieldset>  
	 <legend><h:commandButton  value="Current Roles of #{roleManagementBean.str_UserName} are checked bellow"  style="background-color:#c00; color:#fff;"/></legend>
	 
	  &#150;
	 <c:forEach var="assignedRole" items="#{roleManagementBean.str_AssinedRoles}">
	  <h:selectManyCheckbox value="#{roleManagementBean.str_AssinedRoles}" valueChangeListener="#{roleManagementBean.deleteAssignedRolesListener}"   >
	  <f:selectItem itemValue="#{assignedRole.str_RoleName}"  />
	   
	  </h:selectManyCheckbox>
	  </c:forEach></fieldset>
	   &#150;
	   <fieldset>
	 <legend><h:commandButton value="Update Role Management" style="background-color:#c00; color:#fff;"/></legend>
	<c:forEach var="roles" items="#{roleManagementBean.str_Roles}">
	<h:selectManyCheckbox    value="#{roleManagementBean.str_AssignedRoleName}" valueChangeListener="#{roleManagementBean.roleChangeListener}" layout="lineDirection" styleClass="nostyle">
 <f:selectItem itemValue="#{roles}" itemLabel= "#{roles}"/>
  
</h:selectManyCheckbox>
</c:forEach> 
<h4 style="color:red">* Community Administrator overrides all other role assignments of a user. Any member/staff being assigned "Communtiy Administrator" role will have access to ALL information and can perform ANY action on the data associated with your complex. This includes removing other community administrators as well. Thus please assign "Communtiy Administrator" role responsibly.</h4>
</fieldset>
<br/><br/>
 
 <h:commandButton value="AddOrUpdate Role"    action="#{roleManagementBean.addRoleManagement}">
  
  </h:commandButton> 

	</h:form>
	</body>
 
</html>