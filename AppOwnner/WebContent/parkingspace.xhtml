<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml"
                xmlns:P="http://java.sun.com/jsf/html">
	<ui:define name="content">
	<h:head>

	<title></title>
	 <script src="JavaScript/ModalPopupWindow.js" type="text/javascript">
	 
	 </script>

 <style>
     body
        {
            font-family: Verdana;
            font-size: 10px;
         
        }
     
    </style>
    <script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading.gif");
 modalWin.SetCloseButtonImagePath("images/remove.gif");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");

function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('createnewparkingspace.xhtml',470,600,'Create New parking space',null,callbackFunctionArray);
 }
 
 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 function  ShowMessageWithAction(){
    //ShowConfirmationMessage(message, height, width, title,onCloseCallBack, firstButtonText, onFirstButtonClick, secondButtonText, onSecondButtonClick);
    modalWin.ShowConfirmationMessage('This is confirmation window using Javascript',200,400,'User Confirmation',null,'Agree',Action1,'Disagree',Action2);
 }

function ShowMessageNoDragging(){
 modalWin.Draggable=false;
 modalWin.ShowMessage('You can not drag this window',200,400,'User Information');

}

function Action1(){
alert('Action1 is excuted');
modalWin.HideModalPopUp();
}

function Action2(){
alert('Action2 is excuted');
modalWin.HideModalPopUp();
}

function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}

function ShowChildWindowValues(name,email,address,phone,zip) {
    var displayString = "<b>Values Of Child Window</b> <br/><br/>Name : " + name;
    displayString += "<br/><br/>Email : " + email;
    displayString += "<br/><br/>Address : " + address;
    displayString += "<br/><br/>Phone : " + phone;
    displayString += "<br/><br/>Zip : " + zip;
    var div = document.getElementById("divShowChildWindowValues");
    div.style.display = "";
    div.innerHTML = displayString;
}
</script>

 </h:head>
	<h:form id="form">
	 
   <p:growl id="msgs" showDetail="true"/>
	<h:body>
	<br/>
	<h:outputLabel value="Organisation:" /> 
               <h:outputLabel value="Organisation:" /> 
              <p:selectOneMenu required="true" requiredMessage="plz  select  Organisation"   value="#{expenseBean.str_OrganizationName}"  style="width:100px">
              
                  <f:selectItem itemLabel="Select name"  itemValue="" noSelectionOption="true" />
                <f:selectItems value="#{expenseBean.str_OrganizationNameList}"/>
                   
                 </p:selectOneMenu><br/>
	 &#150; &#150; <br/>
                
             <input type="button" style="width: 150px" onclick="ShowNewPage()" value="Create New" />&#150; &#150;<h:commandButton  value="View Selected" />&#150; &#150;<h:commandButton  value="Delete Selected" />&#150; &#150;<h:commandButton  value="Refresh" />
	   
	
	<br/>
	<legend  style="background-color:#438eb9; color:#fff;"> Parking Space</legend>
              <p:contextMenu for="dataTable" widgetVar="cMenu">   
       <p:menuitem value="Edit Cell" icon="ui-icon-search" onclick="PF('cellCars').showCellEditor();return false;"/>  
       <p:menuitem value="Hide Menu" icon="ui-icon-close" onclick="PF('cMenu').hide()"/>  
   </p:contextMenu> 
             <p:dataTable    editable="true" resizableColumns="true" style="margin-bottom:20px" 
             id= "dataTable" rows="10" scrollRows="10"     
                  
                  scrollable="true" liveScroll="true" scrollHeight="150" var="ps" value="#{expenseBean.parkingSpaceList}">
	 <f:facet name="header">
           Cell Editing with DoubleClick and RightClick
       </f:facet>
  <p:ajax event="rowEdit" listener="#{expenseBean.onRowEdit}" update=":form:msgs" /> 
       <p:ajax event="rowEditCancel" listener="#{expenseBean.onRowCancel}" update=":form:msgs" />
          <p:column headerText="Organization">
              <p:cellEditor>
                  <f:facet name="output"><h:outputText value="#{ps.str_OrganizationName}" /></f:facet>
                  <f:facet name="input"><p:inputText id="modelInput2" value="#{ps.str_OrganizationName}" style="width:96%"/></f:facet>
              </p:cellEditor>
          </p:column>
          <p:column headerText="Parking slot">
              <p:cellEditor>
                  <f:facet name="output"><h:outputText value="#{ps.str_ParkingSlot}" /></f:facet>
                  <f:facet name="input"><p:inputText id="modelInput3" value="#{ps.str_ParkingSlot}" style="width:96%"/></f:facet>
              </p:cellEditor>
          </p:column>
          
	 <!--<p:column>
                <f:facet name="header">
                    <h:outputText  value=" Organization" />
                </f:facet>
                <h:outputText  id="int_organizationname" value="#{ps.str_OrganizationName}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText  value="Parking slot" />
                </f:facet>
                <h:outputText   value="#{ps.str_ParkingSlot}" />
            </p:column>
            
            
              -->
            
            <p:column style="width:32px">
           <p:rowEditor />
       </p:column>
       <p:column>
                <f:facet name="header">
                    <h:outputText  value="Action" />
                </f:facet>
               <h:commandLink  
	   		 onclick="return confirm('Are you sure you want to delete #{expenseBean.str_ParkingSlot}?');" action="#{expenseBean.deleteParkingSlot}" >  
	   			<p:graphicImage  height="20" width="20" alt="delete" value="images/k2.png"/> 
	   				<f:param name="int_ParkingId" value="#{expenseBean.int_ParkingId}" />
	   		</h:commandLink>
	   		 
            </p:column>
	 </p:dataTable>
	</h:body>
	</h:form>

</ui:define>
</ui:composition>