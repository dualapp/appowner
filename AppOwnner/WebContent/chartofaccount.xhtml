<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="include/templates/template.xhtml">
	 
	<h:head>
    <title>Chart Of Account</title>
    
	 <script src="JavaScript/ModalPopupWindow.js" type="text/javascript">
	 
	 </script>

 <style>
     body
        {
            font-family: Verdana;
            font-size: 10px;
         
        }
     
    </style>
    <script>

 var modalWin = new CreateModalPopUpObject();
 modalWin.SetLoadingImagePath("images/loading_home.gif");
 modalWin.SetCloseButtonImagePath("images/cross.png");
 //Uncomment below line to make look buttons as link
 //modalWin.SetButtonStyle("background:none;border:none;textDecoration:underline;cursor:pointer");

function ShowNewPage(){
 var callbackFunctionArray = new Array(Submit, Cancel);
 modalWin.ShowURL('createnewchartofaccount.xhtml',400,400,'Create New ',null,callbackFunctionArray);
 }
 
 
function ShowMessage() {
 modalWin.ShowMessage('This Modal Popup Window using Javascript',200,400,'User Information');
 }
  
 function  ShowMessageWithAction(){
    //ShowConfirmationMessage(message, height, width, title,onCloseCallBack, firstButtonText, onFirstButtonClick, secondButtonText, onSecondButtonClick);
    modalWin.ShowConfirmationMessage('This is confirmation window using Javascript',200,400,'User Confirmation',null,'Agree',Action1,'Disagree',Action2);
 }

function ShowMessageNoDragging(){
 modalWin.Draggable=false;
 modalWin.ShowMessage('You can not drag this window',200,400,'User Information');

}

function Action1(){
alert('Action1 is excuted');
modalWin.HideModalPopUp();
}

function Action2(){
alert('Action2 is excuted');
modalWin.HideModalPopUp();
}

function Submit(msg){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function Cancel(){
modalWin.HideModalPopUp();
modalWin.ShowMessage(msg,200,400,'User Information',null,null);
}

function HideModalWindow() {
    modalWin.HideModalPopUp();
}


</script>
    </h:head>
 
    <h:form id="form" > 
    <body>
    
                 
  <table style="overflow:hidden;border:0pt none;width: 80%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"><tr>
 
               <td><h:outputLabel value="Organisation:*" /> </td>
              
              <td><p:selectOneMenu id="str_Organisation" value="#{expenseBean.str_OrganizationName}"   style="width:200px">
                   <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                  <f:selectItem itemLabel="#{expenseBean.str_OrganizationName}"  itemValue="#{expenseBean.str_OrganizationName}" />
                 </p:selectOneMenu>
             </td>
            
                 <td><h:outputLabel value="Account Type:*" /></td>
                 <td><p:selectOneMenu   value="#{expenseBean.str_AssetCategoryType}"   style="width:200px">
                  <f:selectItem itemLabel="Asset" itemValue="Asset"/>  
                  <f:selectItem itemLabel="liability" itemValue="liability"   />
                  <f:selectItem itemLabel="income" itemValue="income"   />
                  <f:selectItem itemLabel="expense" itemValue="expense"   />
                  
                 
                 </p:selectOneMenu>
                 </td>
                 
                 <td><h:commandButton  style="width:50px" value="Go"/> </td>
              </tr></table> 
               
                 
 
<br/>
<br/>
 <table style="overflow:hidden;border:0pt none;width: 80%;margin-left: 1%;margin-right: 1%;margin-bottom:5px"> <tr><td>    &#150; &#150;  <p:commandButton process="DT" update=":form:multiChartOfAccountDetail"  value="Creat New" oncomplete="PF('multiChartOfAccountDialog').show()" /></td>&#150; &#150; &#150; &#150;<td><input type="button" style="width: 150px" onclick="ShowNewPage()" value="View Selected"/></td>&#150; &#150; &#150; &#150;<td><input type="button" style="width: 150px" onclick="ShowNewPage()" value="Edit Selected"/></td></tr></table> 
  <br/>
  <br/>
 <p:dataTable   id="DT"     
                rows="3"   paginator="true"  paginatorPosition="bottom"   resizableColumns="true"  style="overflow:hidden;border:0pt none;width: 80%;margin-left: 1%;margin-right: 1%;margin-bottom:5px;margin-top:20px" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="1,2,3"   var="c" value="#{expenseBean.chartOfAccountList}">
        <p:column     exportable="false"  selectionMode="multiple" style="width:35px;text-align:center">
         
             </p:column>
	 
        <p:column headerText="Organization">
               
                   <h:outputText value="#{c.str_OrganizationName}" /> 
                    
          </p:column>
          <p:column headerText="AccountType">
               
                   <h:outputText value="#{c.str_AccountType}" /> 
                    
          </p:column>
          <p:column headerText="AccountName">
               
                   <h:outputText value="#{c.str_AccountName}" /> 
                    
          </p:column>
        </p:dataTable>
         <p:dialog header="Chart Of Account " widgetVar="multiChartOfAccountDialog"     showEffect="explode" hideEffect="bounce" resizable="false" height="200" width="400">
        <p:outputPanel id="multiChartOfAccountDetail" style="text-align:center;">
        <table>
	<tr><td> 
               <h:outputLabel value="Organisation:" /> </td>
             <td> <p:selectOneMenu  value="#{accountingBean.str_OrganizationName}"    editable="true"   style="width:200px">
              <f:selectItem itemLabel="Select One" itemValue=""  noSelectionOption="true" /> 
              <f:selectItem itemLabel="#{accountingBean.str_OrganizationName}"  itemValue="#{accountingBean.str_OrganizationName}" />
                
                 </p:selectOneMenu></td></tr>
	<tr><td><h:outputLabel value="Account Type"/></td>
	<td><p:selectOneMenu    value="#{accountingBean.str_AccountType}"  style="width:200px" valueChangeListener="#{accountingBean.accountchangeListener}">
	    <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true"/>  
	    
	   <f:selectItems   value="#{accountingBean.listAccountType}" /><br/> 
	   <p:ajax event="change" partialSubmit="true"/>
                       </p:selectOneMenu></td></tr>
	<tr><td><h:outputLabel value="Account Name"/></td><td><h:inputText  style="width:200px" value="#{accountingBean.str_AccountName}"/></td></tr>
	<tr><td><p:commandButton  id="submit"  value="Submit" onclick="EnrollLaterClick()"   action="#{accountingBean.saveChartOfAccount}"   >
	
	</p:commandButton></td> </tr>  
	</table>
	 <script>
	 
        function EnrollNowClick() {
            PassValueToParentWindow();
            window.parent.modalWin.CallCallingWindowFunction(0, 'User Enrolled Scucessfully');
           
        }
        function EnrollLaterClick() {
            window.parent.modalWin.CallCallingWindowFunction(0, 'Information Saved Scucessfully');
            window.opener.reload(true);
            window.close();
        }
 
    </script>
         </p:outputPanel>
         </p:dialog>
        </body>
        </h:form>
      </html>
      
 
 
 
 